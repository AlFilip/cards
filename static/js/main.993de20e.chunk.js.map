{"version":3,"sources":["components/main/packs-list/CardInfo/CardInfo.module.scss","api/api.ts","assets/images/auth-img/eye.svg","components/mui/text-field/SuperTextField.tsx","redux/authReducer.ts","assets/selectors/authSelectors.ts","redux/forgot-reducer.ts","redux/new-password-reducer.ts","redux/errorReducer.ts","redux/register-reducer.ts","redux/appReducer.ts","redux/packs-reducer.ts","redux/cards-reducer.ts","redux/store.ts","components/auth/auth-login/AuthLogin.tsx","assets/images/auth-img/letter.svg","components/auth/chek-email/CheckEmail.tsx","components/auth/forgot-password/ForgotPassword.tsx","components/auth/creat-new-pass/CreatNewPass.tsx","components/common/error/ErrorSnackbar.tsx","components/auth/register/Register.tsx","assets/images/main/packs.svg","assets/images/main/profile.svg","components/main/Main.tsx","assets/images/error/404girl.jpg","components/common/error/Error404.tsx","components/common/test/Test.tsx","components/mui/range-slider/RangeSlider.tsx","assets/images/main/sortArrow.svg","components/common/button/ActionButtonNew.tsx","components/mui/progress-bar/CircularIndeterminate.tsx","components/common/modal-windows/add-new-pack/EditPackName.tsx","components/common/modal-windows/delete-pack/DeletePackNew.tsx","components/mui/table/TableNew.tsx","components/mui/pagination/Pagination.tsx","components/mui/pagination/PaginationPacksContainer.tsx","components/main/packs-list/Profile/Profile.tsx","components/main/packs-list/buttons/ToggleOwnerPacksShowButtons.tsx","components/main/packs-list/PacksList.tsx","components/main/packs-list/EditProfile/EditProfile.tsx","assets/images/main/arrow.svg","components/mui/rating/Rating.tsx","components/common/modal-windows/delete-pack/DeletePack.tsx","components/main/packs-list/CardInfo/CardInfo.tsx","components/mui/table/Table.tsx","components/main/packs-list/CardInfo/CardInfoNew.tsx","components/common/modal-windows/delete-pack/DeleteCardNew.tsx","components/mui/table-list-card/TableListCardNew.tsx","components/mui/pagination/PaginationCardsContainer.tsx","components/main/packs-list/ListCard/ListCard.tsx","components/mui/radio-button/RadioButton.tsx","components/main/packs-list/LearnQuestionAnswer/Learn.tsx","components/routes/MyRoutes.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/common/modal-windows/delete-pack/DeletePack.module.scss","components/main/packs-list/PackList.module.scss","components/common/modal-windows/add-new-pack/AddNewPack.module.scss","components/main/packs-list/Profile/Profile.module.scss","components/auth/register/Register.module.scss","components/mui/table/Table.module.scss","components/auth/auth-login/AuthLogin.module.scss","components/auth/forgot-password/FogotPassword.module.scss","components/main/Main.module.scss","components/main/packs-list/LearnQuestionAnswer/Learn.module.scss","components/auth/creat-new-pass/CreatNewPass.module.scss","components/main/packs-list/ListCard/ListCard.module.scss","components/auth/chek-email/CheckEmail.module.scss","components/mui/table-list-card/TableListCard.module.scss","components/common/button/ActionButton.module.scss","components/common/error/Error404.module.css","components/mui/text-field/TextFieldEmail.module.scss"],"names":["module","exports","Status","SuperTextField","callback","value","type","error","useState","isPasswordHidden","setPasswordHidden","Box","component","sx","m","width","margin","style","position","className","s","img","src","eye","alt","onClick","TextField","textField","id","label","autoComplete","variant","onChange","e","currentTarget","helperText","axiosInstance","axios","create","baseURL","withCredentials","api","data","post","body","email","password","delete","payload","put","changePasswordAPI","from","message","token","resetPasswordToken","cardsApi","get","params","cardsPack","packId","card","cardId","initState","loginData","avatar","name","publicCardPacksCount","_id","rememberMe","__v","created","updated","verified","isAdmin","tokenDeathTime","isAuth","errors","passwordError","emailError","setLoginData","clearAuthData","setError","updateProfile","dispatch","a","updatedUser","isAxiosError","response","console","log","authReducer","state","action","selectIsAuth","auth","selectLoginData","selectAutorisedUserId","selectUserName","selectEmailError","selectPasswordError","selectPacksPageNumber","packsReducer","page","selectPacksPageSize","pageCount","selectPacksTotalCount","cardPacksTotalCount","selectCurrentPack","currentPack","selectCurrentPackId","selectSortPacks","sortPacks","selectCards","cardsReducer","cards","selectCardsPageNumber","selectCardsPageSize","selectCardsTotalCount","cardsTotalCount","selectSortCards","sortCards","minCardsInPackNumber","minRangeSearchSlider","maxCardsInPackNumber","maxRangeSearchSlider","maxCardsRangeInPackNumber","maxCardsCount","isLoading","appReducer","initialState","isSendEmail","status","SetStatusAC","ChangeStatus","setErrorAC","isRegistered","setLoadingStatusAC","cardPacks","Infinity","minCardsCount","setCurrentPack","pack","setPacksSort","getPacks","getState","min","max","then","res","setPacks","catch","deletePackTC","idPack","user_id","updatePackTC","find","item","Error","updatePack","createPack","maxGrade","minGrade","packUserId","cardQuestion","setCardsSort","setCardsQuestion","getCards","CreateCardTC","cardsPack_id","rootReducer","combineReducers","registerReducer","forgotReducer","isEmail","newPasswordReducer","errorReducer","useAppSelector","useSelector","store","createStore","applyMiddleware","thunk","window","AuthLogin","setEmail","setPassword","setRememberMe","useDispatch","setAllErrors","errorMessage","to","login","wrap","form","onSubmit","preventDefault","test","length","title","subtitle","checkboxAndFogot","checkbox","Checkbox","checked","checkboxText","linkNewPass","btn","disabled","wrapLink","linkNewAcc","linkReg","CheckEmail","check","letter","content","textInfo","ForgotPassword","valid","setValid","isStatus","checkEmailValidity","SendEmailTC","fullWidth","required","loading","waiting","linkMemor","trylog","CreatNewPass","text","setText","useParams","ready","Alert","React","forwardRef","props","ref","elevation","ErrorSnackbar","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","Register","memo","confirm","setConfirm","inputType","setInputType","onInputTypeHandle","checkValid","useEffect","styles","main","box","noValidate","icon","footer","cancel","finally","registerTC","register","Main","wrapper","header","container","logo","wrapBtn","BtnLeft","iconPacks","packs","BtnRight","iconProfile","profile","info","Error404","error404","num404","content404","btnStyle","padding","border","Test","private","path","rating","shots","grade","answer","question","valuetext","RangeSlider","maxNumberCards","setValue","Slider","color","getAriaLabel","valueLabelDisplay","newValue","getAriaValueText","ActionButton","callBack","CircularIndeterminate","display","top","left","transform","CircularProgress","EditPackName","document","querySelector","overflow","modal","stopPropagation","input","btnCancel","btnSave","DeletePack","packName","btnDel","StyledTableRow","styled","TableRow","backgroundColor","theme","palette","hover","cutDate","date","Date","toLocaleDateString","DenseTable","autorisedUserId","currentUserId","isLoadingStatus","editMode","setEditMode","editablePack","setEditablePack","deleteMode","setDeleteMode","deletablePack","setDeletablePack","sortDirection","sortField","slice","rows","map","TableCell","scope","align","cardsCount","background","getArrowStyle","fieldName","newName","TableContainer","pointerEvents","Paper","Table","minWidth","size","TableHead","tableHead","field","target","dataset","arrow","TableBody","tableBody","PaginationSize","pageSize","totalPagesCount","paginationCallback","selectCallback","Stack","spacing","Pagination","count","shape","textBottom","Select","select__pag","defaultValue","MenuItem","PaginationPacksContainer","Math","ceil","setPacksPage","Profile","addPackValue","setAddPackValue","search","setSearch","wrapLeft","wrapPerson","btnEditProfile","wrapSlider","subtitleSlid","wrapRight","wrapForm","placeholder","button","table","wrapBottom","ToggleOwnerPacksShowButtons","userId","buttonLeft","activeBtn","buttonRight","PackList","EditProfile","nickName","setName","navigate","useNavigate","clickHandler","StyledRating","Rating","CustomizedRating","mt","CardInfo","EditCard","questionFieldValue","setQuestionFieldValue","answerFieldValue","setAnswerFieldValue","dada","htmlFor","chous","my","DeleteCard","cardName","DenseTableList","deletableCard","setDeletableCard","editableCard","setEditableCard","round","UpdateCardTC","cardID","DeleteCardTC","PaginationCardsContainer","setCardsPage","CardsList","searchFieldValue","setSearchFieldValue","addingMode","setAddingMode","addCard","head","link","BpIcon","borderRadius","height","boxShadow","mode","backgroundImage","outline","outlineOffset","BpCheckedIcon","BpRadio","Radio","bgcolor","disableRipple","checkedIcon","CustomizedRadios","averageGrade","FormControl","RadioGroup","FormControlLabel","control","Learn","isAnswered","setIsAnswered","randomCard","useMemo","invertedGradeSum","reduce","acc","el","randomNumber","random","sum","i","setGrade","textAnswer","textRadio","newGrade","card_id","updatedGrade","MyRoutes","element","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"8HACAA,EAAOC,QAAU,CAAC,MAAQ,wBAAwB,QAAU,0BAA0B,MAAQ,wBAAwB,KAAO,uBAAuB,SAAW,2BAA2B,UAAY,4BAA4B,QAAU,0BAA0B,KAAO,uBAAuB,QAAU,0BAA0B,QAAU,0BAA0B,QAAU,0BAA0B,MAAQ,wBAAwB,GAAK,uB,4CCGzaC,E,qHCJG,MAA0B,gC,OC+D1BC,EAhD2B,SAAC,GAKpC,IAJNC,EAIK,EAJLA,SACAC,EAGK,EAHLA,MACAC,EAEK,EAFLA,KACAC,EACK,EADLA,MAEA,EAA8CC,mBAAkB,aAATF,GAAvD,mBAAOG,EAAP,KAAyBC,EAAzB,KASA,OACC,cAACC,EAAA,EAAD,CACCC,UAAU,MACVC,GAAI,CACH,uBAAwB,CAAEC,EAAG,EAAGC,MAAO,QAASC,OAAQ,MAH1D,SAMC,sBAAKC,MAAO,CAAEC,SAAU,YAAxB,UACW,aAATZ,GACA,qBACCa,UAAWC,IAAEC,IACbC,IAAKC,EACLC,IAAI,GACJC,QAfwB,kBAAMf,GAAmBD,MAkBnD,cAACiB,EAAA,EAAD,CACCP,UAAWC,IAAEO,UACbC,GAAG,0BACHC,MAAOvB,GAAc,GACrBA,KAAMA,GAAQG,EAAmBH,EAAO,GACxCwB,aAAa,mBACbC,QAAQ,WACR1B,MAAOA,EACP2B,SA9BA,SAACC,GACJ7B,GAAYA,EAAS6B,EAAEC,cAAc7B,QA8BlCE,QAASA,EACT4B,WAAY5B,U,2DFpDLL,K,kBAAAA,E,cAAAA,E,eAAAA,M,KA6CZ,IAMakC,EAAgBC,IAAMC,OANf,CAEnBC,QAAS,uCACTC,iBAAiB,IAMLC,EAAM,SACZC,GACL,OAAON,EAAcO,KAAsB,aAAcD,IAF9CD,EAAM,SAILG,GACZ,OAAOR,EAAcO,KAAwE,gBAAiB,CAC7GE,MAAOD,EAAKC,MACZC,SAAUF,EAAKE,YAPLL,EAAM,WAWjB,OAAOL,EAAcO,KAAsB,UAAW,KAX3CF,EAAM,WAcjB,OAAOL,EAAcW,OAA0C,UAAW,KAd/DN,EAAM,SAgBJO,GACb,OAAOZ,EAAca,IAA2B,UAAWD,IAGhDE,EAAoB,SACZL,GACnB,OAAOT,EAAcO,KAAuB,cAAe,CAC1DE,QACAM,KAAM,2CACNC,QAAQ,8GALEF,EAAoB,SAQpBJ,EAAkBO,GAC7B,OAAOjB,EAAcO,KAAd,wBAA6C,CACnDG,WACAQ,mBAAoBD,KAkLVE,EAAW,WAEwB,IAAtCP,EAAqC,uDAA3B,GAClB,OAAOZ,EAAcoB,IAAd,aAAuD,CAC7DC,OAAO,eACHT,MALMO,EAAW,WAU2B,IAAvCP,EAAsC,uDAA5B,GACpB,OAAOZ,EAAcO,KAAM,aAAc,CAAEe,UAAWV,KAX3CO,EAAW,SAcZI,GACV,OAAOvB,EAAcW,OAAQ,aAAc,CAAEU,OAAQ,CAAE7B,GAAI+B,MAfhDJ,EAAW,SAkBZP,GACV,OAAOZ,EAAca,IAAK,aAAc,CAAES,UAAU,eAAMV,MAnB/CO,EAAW,SAsBdP,GACR,OAAOZ,EAAcoB,IAAd,aAAuD,CAC7DC,OAAO,eACHT,MAzBMO,EAAW,WA8B2B,IAAvCP,EAAsC,uDAA5B,GACpB,OAAOZ,EAAcO,KAAM,aAAc,CAAEiB,KAAMZ,KA/BtCO,EAAW,SAkCZM,GACV,OAAOzB,EAAcW,OAAQ,aAAc,CAAEU,OAAQ,CAAE7B,GAAIiC,MAnChDN,EAAW,SAsCZP,GACV,OAAOZ,EAAca,IAAK,aAAc,CAAEW,KAAK,eAAMZ,MAvC1CO,EAAW,SA0CdP,GACR,OAAOZ,EAAca,IAA2B,cAAeD,IGtR3Dc,EAAY,CACjBC,UAAW,CACVC,OAAQ,KACRnB,MAAO,KACPoB,KAAM,KACNC,qBAAsB,KACtBC,IAAK,KAELC,YAAY,EACZC,IAAK,KACLC,QAAS,KACTC,QAAS,KACTC,UAAU,EACVC,SAAS,EACTpB,MAAO,KACPqB,eAAgB,MAEjBC,QAAQ,EACRC,OAAQ,CACPC,cAAe,KACfC,WAAY,OA+CRC,EAAe,SAAC/B,GAAD,MAA8B,CAClD1C,KAAM,iBAAkB0C,YAOZgC,EAAgB,iBAAQ,CACpC1E,KAAM,kBAAmBwD,cAGbmB,EAAW,SAACjC,GAAD,MAA8C,CACrE1C,KAAM,YACN0C,YAyCYkC,EAAgB,SAAClC,GAAD,8CAAiD,WAAMmC,GAAN,iBAAAC,EAAA,+EAEpC3C,EAAmBO,GAFiB,gBAE5DqC,EAF4D,EAEpE3C,KAAQ2C,YAChBF,EAAUJ,EAAcM,IAHoD,gDAKxEhD,IAAMiD,aAAN,OAA2B,KAAEC,UAChCC,QAAQC,IAAK,KAAEF,SAAS7C,KAAKnC,OAN8C,yDAAjD,uDAYdmF,EA7GK,WAAuE,IAAtEC,EAAqE,uDAA7D7B,EAAW8B,EAAkD,uCACzF,OAAQA,EAAOtF,MACd,IAAK,iBACJ,OAAO,2BACHqF,GADJ,IAEC5B,UAAU,2BACN4B,EAAM5B,WACN6B,EAAO5C,SAEX2B,QAAQ,IAEV,IAAK,YACJ,OAAO,2BACHgB,GADJ,IAECf,OAAO,2BACHe,EAAMf,QACNgB,EAAO5C,WAGb,IAAK,cACJ,OAAO,2BACH2C,GADJ,IAEChB,OAAQiB,EAAOjB,SAGjB,IAAK,kBACJ,OAAOiB,EAAO9B,UACf,QACC,OAAO6B,IC7EGE,EAAe,SAACF,GAAD,OAA+BA,EAAMG,KAAKnB,QACzDoB,EAAkB,SAACJ,GAAD,OAAqCA,EAAMG,KAAK/B,WAClEiC,EAAwB,SAACL,GAAD,OAA0CA,EAAMG,KAAK/B,UAAUI,KAEvF8B,EAAiB,SAACN,GAAD,OAA0CA,EAAMG,KAAK/B,UAAUE,MAGhFiC,EAAmB,SAACP,GAAD,OAA0CA,EAAMG,KAAKlB,OAAOE,YAC/EqB,GAAsB,SAACR,GAAD,OAA0CA,EAAMG,KAAKlB,OAAOC,eAIlFuB,GAAwB,SAACT,GAAD,OAA8BA,EAAMU,aAAaC,MACzEC,GAAsB,SAACZ,GAAD,OAA8BA,EAAMU,aAAaG,WACvEC,GAAwB,SAACd,GAAD,OAA8BA,EAAMU,aAAaK,qBACzEC,GAAoB,SAAChB,GAAD,OAAuCA,EAAMU,aAAaO,aAC9EC,GAAsB,SAAClB,GAAD,uBAA0CA,EAAMU,aAAaO,mBAA7D,aAA0C,EAAgCzC,KAChG2C,GAAkB,SAACnB,GAAD,OAA8BA,EAAMU,aAAaU,WAKnEC,GAAc,SAACrB,GAAD,OAAmCA,EAAMsB,aAAaC,OACpEC,GAAwB,SAACxB,GAAD,OAA8BA,EAAMsB,aAAaX,MACzEc,GAAsB,SAACzB,GAAD,OAA8BA,EAAMsB,aAAaT,WACvEa,GAAwB,SAAC1B,GAAD,OAA8BA,EAAMsB,aAAaK,iBACzEC,GAAkB,SAAC5B,GAAD,OAA8BA,EAAMsB,aAAaO,WAKnEC,GAAuB,SAAC9B,GAAD,OAA8BA,EAAMU,aAAaqB,sBACxEC,GAAuB,SAAChC,GAAD,OAA8BA,EAAMU,aAAauB,sBACxEC,GAA4B,SAAClC,GAAD,OAA8BA,EAAMU,aAAayB,eAI7EC,GAAY,SAACpC,GAAD,OAAuCA,EAAMqC,WAAWD,W,uCChC3EE,GAAiC,CACtCC,aAAa,EACbC,OAAQ,SAeIC,GAAc,SAAC/H,GAAD,MAAyB,CAAEC,KAAM,aAAcD,UCpBpE4H,GAAe,CACpBE,OAAQ,SAYIE,GAAe,SAACF,GAAD,MAAsB,CAAE7H,KAAM,gBAAiB6H,WCvBrEF,GAAiC,CACtC1H,MAAO,MAmBK+H,GAAa,SAAC/H,GAAD,MAA4B,CAAED,KAAM,gBAAiBC,UCbzE0H,GAAiC,CACtCE,OAAQ,UACRJ,WAAW,EACXQ,cAAc,GA8BFH,GAAc,SAACD,GAAD,MAAgC,CAC1D7H,KAAM,sBACN6H,WClCKF,GAAiC,CACtCF,UAAW,QAeCS,GAAqB,SAACT,GAAD,MAAiC,CAClEzH,KAAM,yBACNyH,cCCKE,GAAe,CACpBQ,UAAW,GACX/B,oBAAqB,EACrBoB,cAAeY,IACfC,cAAe,EACfrC,KAAM,EACNE,UAAW,EACXnD,MAAO,KACPqB,eAAgB,KAChBkC,YAAa,KACbc,qBAAsB,EACtBE,qBAAsB,EACtBb,UAAW,SAyCC6B,GAAiB,SAACC,GAAD,MAAqB,CAClDvI,KAAM,yBAA0BuI,SAQpBC,GAAe,SAAC/B,GAAD,MAAwB,CACnDzG,KAAM,iBACNyG,cAmBYgC,GAAW,SAAC/F,GAAD,OAA6C,SAACmC,EAAU6D,GAC/E,MAMIA,IAAW3C,aALdC,EADD,EACCA,KACAE,EAFD,EAECA,UACAsB,EAHD,EAGCA,cACAf,EAJD,EAICA,UACA4B,EALD,EAKCA,cAGDxD,EAASqD,GAAmB,YAC5BjF,EAAA,aACC0F,IAAKN,EACLO,IAAKpB,EACLxB,OACAE,YACAO,aACG/D,IAEFmG,MAAK,SAACC,GACNjE,EA7DqB,SAACnC,GAAD,MAAoC,CAC1D1C,KAAM,kBACN0C,WA2DUqG,CAASD,EAAI1G,OACtByC,EAASqD,GAAmB,YAG5Bc,OAAM,SAACrH,GACHI,IAAMiD,aAAarD,IAAMA,EAAEsD,UAAkC,MAAtBtD,EAAEsD,SAAS4C,QACrDhD,EAASH,UAKAuE,GAAe,SAACC,EAAgBC,GAAjB,8CAAgD,WAAOtE,GAAP,SAAAC,EAAA,+EAEpE7B,EAAoBiG,GAFgD,OAG1ErE,EAAS4D,GAAS,CAAEU,aAHsD,+CAKtEpH,IAAMiD,aAAN,OAAyB,KAAEC,UAC9BC,QAAQC,IAAI,KAAEF,SAAS7C,KAAKnC,OAN6C,wDAAhD,uDAUfmJ,GAAe,SAAC1G,EAAmByG,GAApB,8CAAmD,WAAOtE,EAAU6D,GAAjB,iBAAA5D,EAAA,kEAEvEyD,EAAOG,IAAW3C,aAAaoC,UAAUkB,MAAK,SAAAC,GAAI,OAAIA,EAAKzF,MAAQnB,EAAQmB,OAFJ,sBAItE,IAAI0F,MAAM,+BAJ4D,cAMvEC,EANuE,2BAMrDjB,GAAS7F,GAN4C,SAOvEO,EAAoBuG,GAPmD,OAS7E3E,EAAS4D,GAAS,2BAAK/F,GAAN,IAAeyG,cAT6C,kDAYzEpH,IAAMiD,aAAN,OAAyB,KAAEC,UAC9BC,QAAQC,IAAI,KAAEF,SAAS7C,KAAKnC,OAbgD,0DAAnD,yDAmBfwJ,GAAa,SAAC9F,EAAcwF,GAAf,OAA8C,SAACtE,GACxE5B,EAAoB,CAAEU,SACpBkF,MAAK,WACLhE,EAAS4D,GAAS,CAAEU,kBC/JjBxB,GAA8B,CACnCf,MAAO,GACPI,gBAAiB,EACjB0C,SAAU,EACVC,SAAU,EACV3D,KAAM,EACNE,UAAW,EACX0D,WAAY,GACZ1C,UAAW,SACX2C,aAAc,IA0EFC,GAAe,SAAC5C,GAAD,MAAyB,CAAElH,KAAM,iBAAkBkH,cAMlE6C,GAAmB,SAACF,GAAD,MAA4B,CAC3D7J,KAAM,qBACN6J,iBAGYG,GAAW,SAACtH,GAAD,OAA4C,SAACmC,EAAU6D,GAC9E7D,EAASqD,GAAmB,YAC5B,MAAqDQ,IAAW/B,aAAxDX,EAAR,EAAQA,KAAME,EAAd,EAAcA,UAAWgB,EAAzB,EAAyBA,UAAW2C,EAApC,EAAoCA,aACpC5G,EAAA,aAAqB+C,OAAME,YAAWgB,YAAW2C,gBAAiBnH,IAChEmG,MAAM,SAACC,GACPjE,EAjB6D,CAAE7E,KAAM,kBAAmBqF,MAiB/DyD,EAAI1G,OAC7ByC,EAASqD,GAAmB,YAE5Bc,OAAO,SAACrH,GACJI,IAAMiD,aAAcrD,IAAOA,EAAEsD,UAAkC,MAAtBtD,EAAEsD,SAAS4C,QACvDhD,EAAUH,UAMDuF,GAAe,SAACvH,GAAD,8CAA6C,WAAMmC,GAAN,SAAAC,EAAA,+EAEjE7B,EAAqBP,GAF4C,OAGvEmC,EAAUmF,GAAU,CAAEE,aAAcxH,EAAQwH,gBAH2B,+CAKvEhF,QAAQC,IAAR,MALuE,wDAA7C,uDC7GtBgF,GAAcC,aAAiB,CACpC5E,OACA6E,gBJF8B,WAAoF,IAAnFhF,EAAkF,uDAAxDsC,GAAcrC,EAA0C,uCACjH,OAAQA,EAAOtF,MACd,IAAK,sBACJ,OAAO,2BAAKqF,GAAZ,IAAmBwC,OAAQvC,EAAOuC,SAGnC,IAAK,iCACJ,OAAO,2BAAKxC,GAAZ,IAAmB4C,aAAc3C,EAAO2C,eAEzC,IAAK,8BACJ,OAAO,2BAAK5C,GAAZ,IAAmBoC,UAAWnC,EAAOmC,YAGtC,QACC,OAAOpC,IIXTiF,cPC4B,WAA6E,IAA5EjF,EAA2E,uDAAnEsC,GAAcrC,EAAqD,uCACxG,OAAQA,EAAOtF,MACd,IAAK,aACJ,OAAO,2BAAKqF,GAAZ,IAAmBwC,OAAQvC,EAAOvF,QACnC,IAAK,gBACJ,OAAO,2BAAKsF,GAAZ,IAAmBuC,YAAatC,EAAOiF,UACxC,QACC,OAAOlF,IOPTmF,mBNJiC,WAA+C,IAA9CnF,EAA6C,uDAArCsC,GAAcrC,EAAuB,uCAC/E,MACM,kBADEA,EAAOtF,KAEN,2BAAKqF,GAAZ,IAAmBwC,OAAQvC,EAAOuC,SAE3BxC,GMAToF,aLf2B,WAAoF,IAAnFpF,EAAkF,uDAAxDsC,GAAcrC,EAA0C,uCAC9G,MAEM,kBAFEA,EAAOtF,KAGN,2BAAKqF,GAAZ,IAAmBpF,MAAOqF,EAAOrF,QAG1BoF,GKSTU,aFsB2B,WAAuE,IAAtEV,EAAqE,uDAA7DsC,GAAcrC,EAA+C,uCACjG,OAAQA,EAAOtF,MACd,IAAK,kBACJ,OAAO,2BAAKqF,GAAUC,EAAO5C,SAE9B,IAAK,iBACJ,OAAO,2BAAK2C,GAAZ,IAAmBW,KAAMV,EAAOU,OACjC,IAAK,uBACJ,OAAO,2BAAKX,GAAZ,IAAmBa,UAAWZ,EAAOY,YACtC,IAAK,yBACJ,OAAO,2BAAKb,GAAZ,IAAmBiB,YAAahB,EAAOiD,OACxC,IAAK,uBACJ,OAAO,2BACHlD,GADJ,IAEC+B,qBAAsB9B,EAAO8B,qBAC7BE,qBAAsBhC,EAAOgC,uBAG/B,IAAK,iBACJ,OAAO,2BAAKjC,GAAZ,IAAmBoB,UAAWnB,EAAOmB,YAEtC,QACC,OAAOpB,IE3CTsB,aDgC2B,WAAmE,IAAlEtB,EAAiE,uDAAzDsC,GAAcrC,EAA2C,uCAC7F,OAAQA,EAAOtF,MACd,IAAK,YACJ,OAAO,2BAAKqF,GAAZ,IAAmBuB,MAAOtB,EAAOsB,QAClC,IAAK,iBACJ,OAAO,2BAAKvB,GAAZ,IAAmBW,KAAMV,EAAOU,OACjC,IAAK,uBACJ,OAAO,2BAAKX,GAAZ,IAAmBa,UAAWZ,EAAOY,YACtC,IAAK,kBACJ,OAAO,2BAAKb,GAAUC,EAAOD,OAC9B,IAAK,iBACJ,OAAO,2BAAKA,GAAZ,IAAmB6B,UAAW5B,EAAO4B,YACtC,IAAK,gBACJ,OAAO,2BAAK7B,GAAZ,IAAmBsE,SAAUrE,EAAOqE,SAAUD,SAAUpE,EAAOoE,WAEhE,IAAK,qBACJ,OAAO,2BAAKrE,GAAZ,IAAmBwE,aAAcvE,EAAOuE,eACzC,QACC,OAAOxE,ICjDTqC,WHVyB,WAAoF,IAAnFrC,EAAkF,uDAAxDsC,GAAcrC,EAA0C,uCAC5G,MAEM,2BAFEA,EAAOtF,KAGN,2BAAKqF,GAAZ,IAAmBoC,UAAWnC,EAAOmC,YAG9BpC,KGOGqF,GAAqDC,IAErDC,GAAQC,aAAaV,GAAaW,aAAiBC,OAGhEC,OAAOJ,MAAQA,GCgGAK,OAvGf,WACC,IAAM5G,EAASqG,GAAwBnF,GAGvC,EAA0BrF,mBAAS,0BAAnC,mBAAOqC,EAAP,KAAc2I,EAAd,KACA,EAAgChL,mBAAS,YAAzC,mBAAOsC,EAAP,KAAiB2I,EAAjB,KAGA,EAAoCjL,oBAAS,GAA7C,mBAAO4D,EAAP,KAAmBsH,EAAnB,KACM5G,EAAakG,GAAmC9E,GAChDrB,EAAgBmG,GAAmC7E,IACnDhB,EAAWwG,cAEXC,EAAe,SAACC,GACrB1G,EACCF,EAAS,CAAEJ,cAAegH,EAAc/G,WAAY+G,MAiCtD,OAAIlH,EACI,cAAC,IAAD,CAAUmH,GAAG,aAIpB,qBAAK3K,UAAWC,KAAE2K,MAAlB,SACC,sBAAK5K,UAAWC,KAAE4K,KAAlB,UACC,uBAAM7K,UAAWC,KAAE6K,KAAMC,SApC+B,SAACjK,GAxBlC,IVwGD8B,GU/ExB9B,EAAEkK,iBAxBS,6BACDC,KAwBcvJ,IAIpBC,EAASuJ,OAAS,EACrBT,EAAa,iCAGdzG,GVsEwBpB,EUtEL,CAAElB,QAAOC,WAAUsB,cVsEf,uCAA0C,WAAMe,GAAN,mBAAAC,EAAA,+EAE1C3C,EAAWsB,GAF+B,gBAEzDrB,EAFyD,EAEzDA,KACRyC,EAAUJ,EAAcrC,IAHyC,gDAMjEyC,EAAUF,EAAU,CAAEJ,cADhBgH,EAAe,gCAC8B/G,WAAY+G,KANE,yDAA1C,wDU7EtB1G,EAASF,EAAS,CAAEH,WAAY,sBAiC/B,UACC,oBAAI3D,UAAWC,KAAEkL,MAAjB,0BACA,oBAAInL,UAAWC,KAAEmL,SAAjB,qBACA,qBAAKpL,UAAWC,KAAEyB,MAAlB,SACC,cAAC,EAAD,CACCxC,MAAOwC,EACPzC,SA7BqB,SAACC,GAC3BmL,EAASnL,GAETyE,GAAc8G,EAAa,OA2BtBtL,KAAM,QACNC,MAAOuE,MAGT,8BACC,cAAC,EAAD,CACCzE,MAAOyC,EACP1C,SA/BwB,SAACC,GAC9BoL,EAAYpL,GAEZwE,GAAiB+G,EAAa,OA6BzBtL,KAAM,WAENC,MAAOsE,MAGT,sBAAK1D,UAAWC,KAAEoL,iBAAlB,UACC,sBAAKrL,UAAWC,KAAEqL,SAAlB,UACC,cAACC,EAAA,EAAD,CACCC,QAASvI,EACTpC,SAnCwB,SAACC,GAC/ByJ,EAAczJ,EAAEC,cAAcyK,YAoCzB,mBAAGxL,UAAWC,KAAEwL,aAAhB,4BAED,cAAC,IAAD,CAAMzL,UAAWC,KAAEyL,YAAaf,GAAG,mBAAnC,gCAKD,wBAAQ3K,UAAWC,KAAE0L,IAAKC,UAAWlK,IAAUC,EAA/C,sBAID,sBAAK3B,UAAWC,KAAE4L,SAAlB,UACC,sBAAM7L,UAAWC,KAAE6L,WAAnB,yCACA,cAAC,IAAD,CAAM9L,UAAWC,KAAE8L,QAASpB,GAAG,gBAA/B,8B,wCCtHU,OAA0B,mCCGnCpJ,GACE,mBAoBOyK,OAjBf,WACC,OACC,qBAAKhM,UAAWC,KAAEgM,MAAlB,SACC,sBAAKjM,UAAWC,KAAE4K,KAAlB,UACC,oBAAI7K,UAAWC,KAAEkL,MAAjB,0BACA,qBAAKnL,UAAWC,KAAEC,IAAKC,IAAK+L,GAAQ7L,IAAI,KACxC,oBAAIL,UAAWC,KAAEmL,SAAjB,yBACA,qBAAKpL,UAAWC,KAAEkM,QAAlB,SACC,oBAAGnM,UAAWC,KAAEmM,SAAhB,2DAC2C7K,cCmDjC8K,OAvDf,WACC,IAAMrI,EAAWwG,cACjB,EAA0BnL,oBAAkB,GAA5C,mBAAOiN,EAAP,KAAcC,EAAd,KACA,EAA0BlN,mBAAiB,IAA3C,mBAAOqC,EAAP,KAAc2I,EAAd,KACMX,EAAUG,IACf,SAACrF,GAAD,OAAWA,EAAMiF,cAAc1C,eAE1ByF,EAAW3C,IAChB,SAACrF,GAAD,OAAWA,EAAMiF,cAAczC,UAG1ByF,EAAqB,SAAC3L,EAAc5B,GACzC4B,EAAEkK,iBACU,6BACRC,KAAK/L,GAAS8E,EXMO,SAACtC,GAAD,8CAAmB,WAAOsC,GAAP,iBAAAC,EAAA,6DAC7CD,EAAUiD,GAAa,YADsB,kBAGrBlF,EAAuCL,GAHlB,gBAGpCH,EAHoC,EAGpCA,KACRyC,EAPiD,CAAE7E,KAAM,gBAAiBuK,SAOnD,IACvB1F,EAAUiD,GAAa,UACvB5C,QAAQC,IAAK/C,GAN+B,kDAQ5CyC,EAAUiD,GAAa,UACvB5C,QAAQC,IAAR,MAT4C,0DAAnB,sDWNEoI,CAAYxN,IAAUqN,GAAS,IAE3D,OAAI7C,EAAgB,cAAC,GAAD,IAEnB,qBAAK1J,UAAWC,KAAE2K,MAAlB,SACC,sBAAK5K,UAAWC,KAAE4K,KAAlB,UACC,uBAAM7K,UAAWC,KAAE6K,KAAMC,SAAU,SAACjK,GAAD,OAAO2L,EAAmB3L,EAAGY,IAAhE,UACC,oBAAI1B,UAAWC,KAAEkL,MAAjB,0BACA,oBAAInL,UAAWC,KAAEmL,SAAjB,mCACA,sBAAKpL,UAAWC,KAAEkM,QAAlB,UACC,cAAC5L,EAAA,EAAD,CACCoM,WAAS,EACTC,UAAQ,EACRlM,MAAM,QACNE,QAAQ,WACRzB,KAAK,QACLD,MAAOwC,EACPb,SAAU,SAACC,GAAD,OArBM5B,EAqBc4B,EAAEC,cAAc7B,MArBZmL,EAASnL,GAA5B,IAACA,KAuBhBoN,GAAS,mBAAGtM,UAAWC,KAAEb,MAAhB,6BACV,mBAAGY,UAAWC,KAAEmM,SAAhB,mFAIAI,IAAazN,EAAO8N,QACpB,oBAAI7M,UAAWC,KAAE6M,QAAjB,+BAEA,wBAAQ9M,UAAWC,KAAE0L,IAArB,kCAGF,sBAAK3L,UAAWC,KAAE4L,SAAlB,UACC,sBAAM7L,UAAWC,KAAE8M,UAAnB,6CACA,cAAC,IAAD,CAAM/M,UAAWC,KAAE+M,OAAQrC,GAAG,SAA9B,qC,oBCWUsC,OArDf,WACC,IAAMjJ,EAAWwG,cACXxD,EAAS6C,IACd,SAACrF,GAAD,OAAWA,EAAMmF,sBAElB,EAAwBtK,mBAAS,IAAjC,mBAAO6N,EAAP,KAAaC,EAAb,KACQ1M,EAAO2M,cAAP3M,GAOR,OAAI1B,EAAOsO,QAAUrG,EAAOA,OAAe,cAAC,IAAD,CAAU2D,GAAG,WAEvD,qBAAK3K,UAAWC,KAAE2K,MAAlB,SACC,qBAAK5K,UAAWC,KAAE4K,KAAlB,SACC,uBAAM7K,UAAWC,KAAE6K,KAAMC,SAVX,SAACjK,GXEgB,IAACa,EAAkBO,EWDpDpB,EAAEkK,iBAEFhH,GXDkCrC,EWCLuL,EXDuBhL,EWCjBzB,EXDF,uCAAqC,WAAOuD,GAAP,iBAAAC,EAAA,6DACvED,EAAUkD,GAAc,YAD+C,kBAG/CnF,EAA+BJ,EAAUO,GAHM,gBAG9DX,EAH8D,EAG9DA,KACRyC,EAAUkD,GAAc,UACxB7C,QAAQC,IAAK/C,GALyD,kDAOtEyC,EAAUkD,GAAc,UACxB7C,QAAQC,IAAR,MARsE,0DAArC,wDWEjC6I,EAAQ,KAMN,UACC,oBAAInN,UAAWC,KAAEkL,MAAjB,0BACA,oBAAInL,UAAWC,KAAEmL,SAAjB,iCACA,sBAAKpL,UAAWC,KAAEkM,QAAlB,UACC,cAAC5L,EAAA,EAAD,CACCrB,MAAOgO,EACPrM,SAAU,SAACC,GAAD,OAAOqM,EAAQrM,EAAEC,cAAc7B,QACzCyN,WAAS,EACTC,UAAQ,EACRlM,MAAM,WACNE,QAAQ,WACRH,GAAG,WACHqC,KAAK,WACL3D,KAAK,aAEL+N,EAAKhC,QAAU,GAAKgC,EAAKhC,QAAU,EACnC,mBAAGlL,UAAWC,KAAEb,MAAhB,qDACG,KACJ,mBAAGY,UAAWC,KAAEmM,SAAhB,uFAKApF,EAAOA,SAAWjI,EAAO8N,QACzB,oBAAI7M,UAAWC,KAAE6M,QAAjB,+BAEA,wBAAQlB,SAAUsB,EAAKhC,QAAU,EAAGlL,UAAWC,KAAE0L,IAAjD,yC,wCCpDA2B,GAAQC,IAAMC,YAAuC,SAACC,EAAOC,GAAR,OAC1D,cAAC,KAAD,aAAUC,UAAW,EAAGD,IAAKA,EAAK9M,QAAQ,UAAa6M,OAGjD,SAASG,KACf,IAAMxO,EAAQyK,IACb,SAACrF,GAAD,OAAWA,EAAMoF,aAAaxK,SAGzB4E,EAAWwG,cAEXqD,EAAc,SACnBC,EACAC,GAEe,cAAXA,GAGJ/J,EAASmD,GAAW,QAGrB,OACC,cAAC6G,GAAA,EAAD,CACCC,KAAgB,OAAV7O,EACN8O,iBAAkB,IAClBC,QAASN,EAHV,SAKC,cAAC,GAAD,CAAOM,QAASN,EAAaO,SAAS,QAAQ1O,GAAI,CAAEE,MAAO,QAA3D,SACER,MCnBE,IAAMiP,GAAWd,IAAMe,MAAK,WAClC,MAA0BjP,mBAAiB,IAA3C,mBAAOqC,EAAP,KAAc2I,EAAd,KACA,EAAgChL,mBAAiB,IAAjD,mBAAOsC,EAAP,KAAiB2I,EAAjB,KACA,EAA8BjL,mBAAiB,IAA/C,mBAAOkP,EAAP,KAAgBC,EAAhB,KACA,EAAkCnP,oBAAkB,GAApD,mBAAOoP,EAAP,KAAkBC,EAAlB,KAEM1K,EAAWwG,cACXxD,EAAS6C,IACd,SAACrF,GAAD,OAAWA,EAAMgF,gBAAgBxC,UAE5BI,EAAeyC,IACpB,SAACrF,GAAD,OAAWA,EAAMgF,gBAAgBpC,gBAE5BR,EAAYiD,IACjB,SAACrF,GAAD,OAAWA,EAAMgF,gBAAgB5C,aAa5B+H,EAAoB,WACzBD,GAAcD,IAGTG,EAAa,SAAC1P,GACnB,MAAO,6BAA6B+L,KAAK/L,IAG1C2P,qBAAU,WACK,KAAVnN,GACHsC,EAASiD,GAAY,cAEpB,CAACvF,IAEJmN,qBAAU,WAKLD,EAAWlN,IAAUC,EAASuJ,QAAU,GAAKvJ,IAAa4M,GAC7DvK,EAASiD,GAAY,cAEjB2H,EAAWlN,IACfsC,EAASiD,GAAY,YAGlBtF,GAAYA,IAAa4M,GAC5BvK,EAASiD,GAAY,cAEpB,CAACtF,EAAU4M,EAAS7M,EAAOkN,IAS9B,OAAIxH,EACI,cAAC,IAAD,CAAUuD,GAAG,WAIpB,sBAAK3K,UAAW8O,KAAOrN,KAAvB,UACC,sBAAKzB,UAAW8O,KAAOC,KAAvB,UACC,qBAAK/O,UAAW8O,KAAO3D,MAAvB,0BACA,qBAAKnL,UAAW8O,KAAO1D,SAAvB,qBACA,qBAAKpL,UAAW8O,KAAOpN,MAAvB,SACC,8BACC,cAAClC,EAAA,EAAD,CACCC,UAAU,OACVC,GAAI,CACH,uBAAwB,CAAEC,EAAG,EAAGC,MAAO,QAASC,OAAQ,MAEzDG,UAAW8O,KAAOE,IAClBC,YAAU,EACVtO,aAAa,MAPd,SASC,cAACJ,EAAA,EAAD,CACCP,UAAW8O,KAAOtO,UAClBC,GAAG,0BACHC,MAAM,QACNvB,KAAK,QACLwB,aAAa,mBACbC,QAAQ,WACR1B,MAAOwC,EACPb,SA5Ee,SAACC,GACtBuJ,EAASvJ,EAAEC,cAAc7B,gBAgFvB,sBAAKc,UAAW8O,KAAOnN,SAAvB,UACC,8BACC,cAACnC,EAAA,EAAD,CACCC,UAAU,OACVC,GAAI,CACH,uBAAwB,CAAEC,EAAG,EAAGC,MAAO,QAASC,OAAQ,MAEzDG,UAAW8O,KAAOE,IAClBC,YAAU,EACVtO,aAAa,MAPd,SASC,cAACJ,EAAA,EAAD,CACCP,UAAW8O,KAAOtO,UAClBC,GAAG,0BACHC,MAAM,WACNvB,KAAOsP,EAAyB,OAAb,WACnB9N,aAAa,mBACbC,QAAQ,WACR1B,MAAOyC,EACPd,SAjGkB,SAACC,GACzBwJ,EAAYxJ,EAAEC,cAAc7B,cAoGzB,wBAAQoB,QAASqO,EAAmB3O,UAAW8O,KAAOI,UAEvD,sBAAKlP,UAAW8O,KAAOP,QAAvB,UACC,8BACC,cAAC/O,EAAA,EAAD,CACCC,UAAU,OACVC,GAAI,CACH,uBAAwB,CAAEC,EAAG,EAAGC,MAAO,QAASC,OAAQ,MAEzDG,UAAW8O,KAAOE,IAClBC,YAAU,EACVtO,aAAa,MAPd,SASC,cAACJ,EAAA,EAAD,CACCP,UAAW8O,KAAOtO,UAClBC,GAAG,0BACHC,MAAM,mBACNvB,KAAOsP,EAAyB,OAAb,WACnB9N,aAAa,mBACbC,QAAQ,WACR1B,MAAOqP,EACP1N,SAvHiB,SAACC,GACxB0N,EAAW1N,EAAEC,cAAc7B,cA0HxB,wBAAQoB,QAASqO,EAAmB3O,UAAW8O,KAAOI,UAGvD,sBAAKlP,UAAW8O,KAAOK,OAAvB,UACC,wBAAQnP,UAAW8O,KAAOM,OAA1B,oBACA,wBACC9O,QA9FwB,WAC5B0D,EXEwB,SAACtC,EAAeC,GAAhB,OAAqC,SAACqC,EAAoB6D,GAGnFvG,EAAiB,CAAEI,QAAOC,aACxBqG,MAAK,SAACC,GACNjE,EArC8D,CAChE7E,KAAM,iCACNiI,cAmCiC,IAC/B/C,QAAQC,IAAI2D,EAAI1G,SAIhB4G,OAAM,SAAC/I,GACP4E,EAASmD,GAAW,qCAGpBkI,SAAQ,gBWhBAC,CAAW5N,EAAOC,IAC3B0I,EAAS,IACTC,EAAY,IACZkE,EAAW,KA2FP5C,SAAqB,YAAX5E,GAAwBJ,EAClC5G,UAAW8O,KAAOS,SAHnB,4BASF,cAAC3B,GAAD,U,oBChLY,OAA0B,kCCA1B,OAA0B,oCC0D1B4B,OA1Cf,WACC,IAAMhM,EAASqG,GAAwBnF,GACjCjE,EAAKoJ,GAAehF,GACpBb,EAAWwG,cAIjB,OAAKhH,EAKJ,sBAAKxD,UAAWC,KAAEwP,QAAlB,UACC,wBAAQzP,UAAWC,KAAEyP,OAArB,SACC,sBAAK1P,UAAWC,KAAE0P,UAAlB,UACC,oBAAI3P,UAAWC,KAAE2P,KAAjB,0BACA,sBAAK5P,UAAWC,KAAE4P,QAAlB,UACC,cAAC,IAAD,CAAMlF,GAAE,iBAAYlK,GAAU,IAA9B,SACC,yBAAQT,UAAWC,KAAE6P,QAArB,UACC,qBAAK9P,UAAWC,KAAE8P,UAAW5P,IAAK6P,GAAO3P,IAAI,KAC7C,gDAGF,cAAC,IAAD,CAAMsK,GAAE,WAAR,SACC,yBAAQ3K,UAAWC,KAAEgQ,SAArB,UACC,qBAAKjQ,UAAWC,KAAEiQ,YAAa/P,IAAKgQ,GAAS9P,IAAI,KACjD,6CAGF,wBAAQL,UAAWC,KAAEgQ,SAAU3P,QAzBP,WAC5B0D,EnByHwB,uCAAgB,WAAMA,GAAN,qBAAAC,EAAA,+EAEA3C,IAFA,oBAEhCC,KAAQnC,EAFwB,EAExBA,MAAOgR,EAFiB,EAEjBA,KACvBpM,EAAUH,KACVQ,QAAQC,IAAK,CAAElF,QAAOgR,SAJkB,kDAMpClP,IAAMiD,aAAN,OAA2B,KAAEC,UAChCC,QAAQC,IAAK,KAAEF,SAAS7C,KAAKnC,OAPU,0DAAhB,wDmBjGpB,4BAMH,yBAASY,UAAWC,KAAEkM,QAAtB,SACC,cAAC,IAAD,SA5BK,cAAC,IAAD,CAAUxB,GAAG,Y,oBCxBP,OAA0B,oCCiB1B0F,OAbf,WACC,OACC,sBAAKrQ,UAAWC,KAAEqQ,SAAlB,UACC,sBAAMtQ,UAAWC,KAAEsQ,OAAnB,iBACA,qBAAKpQ,IAAKD,GAAKG,IAAI,aACnB,sBAAKL,UAAWC,KAAEuQ,WAAlB,UACC,kDACA,uGCPEC,GAAW,CAChBC,QAAS,EACT7Q,OAAQ,EACR8Q,OAAQ,qBAGIC,GAAO,WA0DnB,OACC,qCACC,gCACC,wBAAQ9Q,MAAO2Q,GAAUnQ,QA5DG,WAC9B8B,EACW,CAAEkG,QAAS,6BACpBN,KAAK3D,QAAQC,MAyDb,sBAGA,wBAAQxE,MAAO2Q,GAAUnQ,QAvDK,WAChC8B,EAAoB,CAAEU,KAAM,aAAckF,KAAK3D,QAAQC,MAsDrD,wBAGA,wBAAQxE,MAAO2Q,GAAUnQ,QAvDK,WAChC8B,EAAoB,4BAA4B4F,KAAK3D,QAAQC,MAsD3D,wBAGA,wBAAQxE,MAAO2Q,GAAUnQ,QAvDK,WAChC8B,EACa,CACXY,IAAK,2BACL6N,SAAS,EACT/N,KAAM,YACNgO,KAAM,OACNC,OAAQ,EACRC,MAAO,EACPC,MAAO,IAEPjJ,KAAK3D,QAAQC,MA4Cb,2BAID,gCACC,wBAAQxE,MAAO2Q,GAAUnQ,QA/CG,WAC9B8B,EACW,CAAEiH,aAAc,6BACzBrB,KAAK3D,QAAQC,MA4Cb,sBAGA,wBAAQxE,MAAO2Q,GAAUnQ,QA7CK,WAChC8B,EACa,CACXiH,aAAc,2BACd4H,MAAO,EACPF,OAAQ,EACRC,MAAO,IAEPhJ,KAAK3D,QAAQC,MAqCb,wBAGA,wBAAQxE,MAAO2Q,GAAUnQ,QAtCK,WAChC8B,EAAoB,4BAA4B4F,KAAK3D,QAAQC,MAqC3D,wBAGA,wBAAQxE,MAAO2Q,GAAUnQ,QAtCK,WAChC8B,EACa,CACXY,IAAK,2BACLkO,OAAQ,MACRC,SAAU,MACVJ,OAAQ,EACRC,MAAO,EACPC,MAAO,IAEPjJ,KAAK3D,QAAQC,MA4Bb,+B,8BCnFJ,SAAS8M,GAAUlS,GAClB,MAAM,GAAN,OAAUA,EAAV,SAGc,SAASmS,KACvB,IAAMrN,EAAWwG,cAEX8G,EAAiBzH,GAAenD,IAEtC,EAA0B6G,IAAMlO,SAAmB,CAAC,EAAGiS,IAAvD,mBAAOpS,EAAP,KAAcqS,EAAd,KAcA,OARA1C,qBAAU,WACT0C,EAAS,CAAC,EAAGD,MACX,CAACA,IAEJzC,qBAAU,WhBqDoB,IAACtI,EAA8BE,EgBpD5DzC,GhBoD8BuC,EgBpDLrH,EAAM,GhBoD6BuH,EgBpDzBvH,EAAM,GhBoDqD,CAC/FC,KAAM,uBACNoH,uBACAE,4BgBtDG,CAACvH,IAGH,cAACM,EAAA,EAAD,CAAKE,GAAI,CAAEE,MAAO,KAAlB,SACC,cAAC4R,GAAA,EAAD,CACC1R,MAAO,CAAE2R,MAAO,WAChBC,aAAc,iBAAM,qBACpBxS,MAAOA,EACPyS,kBAAkB,KAClB9Q,SAnBkB,SAACiN,EAAc8D,GACnCL,EAASK,IAmBPC,iBAAkBT,GAClBrJ,IAAKuJ,M,sGC3CM,OAA0B,sC,oBCS5BQ,GAA0C,SAAC,GAIjD,IAHN3G,EAGK,EAHLA,MACA4G,EAEK,EAFLA,SACAjS,EACK,EADLA,MAEA,OACC,mCACC,wBAAQE,UAAWC,KAAE0L,IAAK7L,MAAOA,EAAOQ,QAASyR,EAAjD,SACE5G,O,UCbU,SAAS6G,KACvB,OACC,cAACxS,EAAA,EAAD,CACCE,GAAI,CACHuS,QAAS,OACTlS,SAAU,WACVmS,IAAK,MACLC,KAAM,MACNC,UAAW,wBANb,SASC,cAACC,GAAA,EAAD,M,wBCmCYC,OAzCf,YAAkE,IAA1CxP,EAAyC,EAAzCA,KAAMyL,EAAmC,EAAnCA,QAASa,EAA0B,EAA1BA,OACtC,EAAwB/P,mBAAS,IAAjC,mBAAO6N,EAAP,KAAaC,EAAb,KAYA,OAXA0B,qBAAU,WACL/L,GAAMqK,EAAQrK,GAClB,IAAMrB,EAAO8Q,SAASC,cAAc,QAEpC,OADI/Q,IAAMA,EAAK3B,MAAM2S,SAAW,UACzB,WACFhR,IAAMA,EAAK3B,MAAM2S,SAAW,WAE/B,IAKF,qBAAKzS,UAAWC,KAAEyS,MAAOpS,QAAS8O,EAAlC,SACC,qBAAKpP,UAAWC,KAAEwP,QAASnP,QAAS,SAACQ,GAAD,OAAOA,EAAE6R,mBAA7C,SACC,sBAAK3S,UAAWC,KAAE4K,KAAlB,UACC,qBAAK7K,UAAWC,KAAEyP,OAAlB,SACC,oBAAI1P,UAAWC,KAAEkL,MAAjB,8BAED,mBAAGnL,UAAWC,KAAEiN,KAAhB,uBACA,uBACC/N,KAAK,OACLD,MAAOgO,EACPrM,SAAU,SAACC,GAAD,OAAOqM,EAAQrM,EAAEC,cAAc7B,QACzCc,UAAWC,KAAE2S,QAEd,sBAAK5S,UAAWC,KAAE4P,QAAlB,UACC,wBAAQ7P,UAAWC,KAAE4S,UAAWvS,QAAS8O,EAAzC,oBAGA,wBAAQpP,UAAWC,KAAE6S,QAASxS,QArBZ,WACtBiO,GAAWA,EAAQrB,IAoBf,6B,oBCIS6F,OAnCf,YAAoE,IAA9CxE,EAA6C,EAA7CA,QAASa,EAAoC,EAApCA,OAAQ4D,EAA4B,EAA5BA,SAStC,OARAnE,qBAAU,WACT,IAAMpN,EAAO8Q,SAASC,cAAc,QAEpC,OADI/Q,IAAMA,EAAK3B,MAAM2S,SAAW,UACzB,WACFhR,IAAMA,EAAK3B,MAAM2S,SAAW,WAE/B,IAGF,qBAAKzS,UAAWC,KAAEyS,MAAOpS,QAAS8O,EAAlC,SACC,qBAAKpP,UAAWC,KAAEwP,QAASnP,QAAS,SAACQ,GAAD,OAAOA,EAAE6R,mBAA7C,SACC,sBAAK3S,UAAWC,KAAE4K,KAAlB,UACC,qBAAK7K,UAAWC,KAAEyP,OAAlB,SACC,oBAAI1P,UAAWC,KAAEkL,MAAjB,2BAED,oBAAGnL,UAAWC,KAAEiN,KAAhB,yCAC8B,IAC7B,iCAAS8F,GAAY,cAFtB,kDAKA,sBAAKhT,UAAWC,KAAE4P,QAAlB,UACC,wBAAQ7P,UAAWC,KAAE4S,UAAWvS,QAAS8O,EAAzC,oBAGA,wBAAQpP,UAAWC,KAAEgT,OAAQ3S,QAASiO,EAAtC,+BCCA2E,GAAiBC,aAAOC,KAAPD,EAAiB,kBAAgB,CACvD,qBAAsB,CACrBE,gBAFsC,EAAGC,MAElBC,QAAQ9O,OAAO+O,OAGvC,mCAAoC,CACnC7C,OAAQ,GAET,OAAQ,CACPD,QAAS,QAIE+C,GAAU,SAACC,GAAD,OAAkB,IAAIC,KAAKD,GAAME,sBAMjD,SAASC,GAAT,GAAoD,IAA9BvL,EAA6B,EAA7BA,QACtB0H,EAAQnG,IACb,SAACrF,GAAD,OAAWA,EAAMU,aAAaoC,aAEzBnC,EAAO0E,GAAe5E,IACtBI,EAAYwE,GAAezE,IAC3B0O,EAAkBjK,GAAehF,GACjCb,EAAWwG,cACTuJ,EAAkB3G,cAAlB2G,cAEFC,EAAkBnK,GAAejD,IAEvC,EAAgCvH,oBAAS,GAAzC,mBAAO4U,EAAP,KAAiBC,EAAjB,KACA,EAAwC7U,mBAA0B,MAAlE,mBAAO8U,EAAP,KAAqBC,EAArB,KAEA,EAAoC/U,oBAAS,GAA7C,mBAAOgV,EAAP,KAAmBC,EAAnB,KACA,EAA0CjV,mBAA0B,MAApE,mBAAOkV,EAAP,KAAsBC,EAAtB,KAYMnO,EAAYwD,GAAelE,IAC3B8O,GAAiBpO,EAAU,GAC3BqO,EAAYrO,EAAUsO,MAAM,GAE5BC,EAAO5E,EAAM6E,KAAI,SAAClV,GAavB,OACC,eAACuT,GAAD,CAECxT,GAAI,CAAE,mCAAoC,CAAEiR,OAAQ,IAFrD,UAIC,cAACmE,GAAA,EAAD,CAAWrV,UAAU,KAAKsV,MAAM,MAAhC,SACC,cAAC,IAAD,CAAMpK,GAAE,iBAAYhL,EAAEqD,KAAO1C,QAlBP,WACxB0D,EAASyD,GAAe9H,KAiBtB,SACEA,EAAEmD,SAGL,cAACgS,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BrV,EAAEsV,aAC5B,cAACH,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BvB,GAAQ9T,EAAEyD,WACpC,cAAC0R,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BvB,GAAQ9T,EAAEwD,WACpC,eAAC2R,GAAA,EAAD,CAAWE,MAAM,QAAjB,UACErV,EAAE2I,UAAYwL,GACd,qCACC,cAAC,GAAD,CACC3I,MAAM,SACNrL,MAAO,CAAEoV,WAAY,UAAWzD,MAAO,QACvCM,SA5BuB,WAC5ByC,EAAiB7U,GACjB2U,GAAc,MA4BV,cAAC,GAAD,CAAcnJ,MAAM,OAAO4G,SA1BL,WAC1BqC,EAAgBzU,GAChBuU,GAAY,WA2BPvU,EAAEsV,YACJ,cAAC,IAAD,CAAMtK,GAAE,iBAAYhL,EAAEqD,KAAtB,SACC,cAAC,GAAD,CAAcmI,MAAM,iBAxBlBxL,EAAEqD,QAgCV6L,qBAAU,WACT7K,EACC4D,GAAS,CACRU,QAASA,GAAoByL,EAC7BnO,UAAW6O,EAAgBC,EAC3BvP,OACAE,iBAGA,CAAC0O,EAAeU,EAAeC,EAAWvP,EAAME,IAEnD,IAWM8P,EAAgB,SAACC,GACtB,OAAIA,IAAcV,EAAkB,CAAEzC,QAAS,QACzB,IAAlBwC,EAA4B,CAAErC,UAAW,kBACtC,IAGR,OACC,qCACE6B,GACA,cAAC,GAAD,CACC7E,OAAQ,kBAAM8E,GAAY,IAC1B3F,QA9FoB,SAAC8G,GACxBlB,GAAgBnQ,EAASuE,GAAa,2BAAK4L,GAAN,IAAoBrR,KAAMuS,MAC/DnB,GAAY,IA6FTpR,KAAI,OAAEqR,QAAF,IAAEA,OAAF,EAAEA,EAAcrR,OAGrBuR,GACA,cAAC,GAAD,CACC9F,QA/FsB,WACzBgG,GAAiBvQ,EAASoE,GAAamM,EAAcvR,MACrDsR,GAAc,IA8FXlF,OAAQ,kBAAMkF,GAAc,IAC5BtB,SAAQ,OAAEuB,QAAF,IAAEA,OAAF,EAAEA,EAAezR,OAI3B,eAACwS,GAAA,EAAD,CACCxV,MACqB,YAApBkU,EACG,CAAEuB,cAAe,QACjB,CAAEA,cAAe,QAErBvV,UAAWC,KAAEwP,QACbhQ,UAAW+V,KAPZ,UASsB,YAApBxB,EAAgC,cAAChC,GAAD,IAA4B,GAC7D,eAACyD,GAAA,EAAD,CAAO/V,GAAI,CAAEgW,SAAU,KAAOC,KAAK,QAAQ,aAAW,gBAAtD,UACC,cAACC,GAAA,EAAD,CAAW5V,UAAWC,KAAE4V,UAAxB,SACC,eAAC3C,GAAD,CAAgB5S,QA9C4B,SAACQ,GACjD,IAAMgV,EAAShV,EAAEiV,OACfC,QAAQtB,UACLoB,GAKL9R,EAAS2D,GAJLmO,IAAUpB,EAIQ,EAAIoB,GAHFrB,EAAgB,EAAI,GAAKC,KAyC7C,UACC,eAACI,GAAA,EAAD,CAAWE,MAAM,OAAO,kBAAgB,OAAxC,iBACM,IACL,qBACC7U,IAAK8V,GACL5V,IAAI,GACJL,UAAWC,KAAEC,IACbJ,MAAOqV,EAAc,aAIvB,eAACL,GAAA,EAAD,CAAWE,MAAM,QAAQ,kBAAgB,aAAzC,kBAEC,qBACChV,UAAWC,KAAEC,IACbC,IAAK8V,GACL5V,IAAI,GACJP,MAAOqV,EAAc,mBAGvB,eAACL,GAAA,EAAD,CAAWE,MAAM,QAAQ,kBAAgB,UAAzC,yBACc,IACb,qBACChV,UAAWC,KAAEC,IACbC,IAAK8V,GACL5V,IAAI,GACJP,MAAOqV,EAAc,gBAGvB,eAACL,GAAA,EAAD,CAAWE,MAAM,QAAQ,kBAAgB,UAAzC,uBAEC,qBACChV,UAAWC,KAAEC,IACbC,IAAK8V,GACL5V,IAAI,GACJP,MAAOqV,EAAc,gBAGvB,cAACL,GAAA,EAAD,CAAWE,MAAM,QAAjB,0BAGF,cAACkB,GAAA,EAAD,CAAWlW,UAAWC,KAAEkW,UAAxB,SAAoCvB,a,gECtN5BwB,GAA8C,SAAC,GAMrD,IALNC,EAKK,EALLA,SACAlR,EAIK,EAJLA,KACAmR,EAGK,EAHLA,gBACAC,EAEK,EAFLA,mBACAC,EACK,EADLA,eAEA,OACC,qCACC,cAACC,GAAA,EAAD,CAAOC,QAAS,EAAhB,SACC,cAACC,GAAA,EAAD,CACCC,MAAON,EACPnR,KAAMA,EACNtE,SAAU0V,EACVZ,KAAK,QACLkB,MAAM,UACNpF,MAAM,cAGR,mBAAGzR,UAAWC,KAAE6W,WAAhB,mBACA,eAACC,GAAA,EAAD,CACC/W,UAAWC,KAAE+W,YAEb9X,MAAOmX,EACPxV,SAAU2V,EACVS,aAAc,EALf,UAOC,cAACC,GAAA,EAAD,CAAUhY,MAAO,EAAjB,eACA,cAACgY,GAAA,EAAD,CAAUhY,MAAO,EAAjB,eACA,cAACgY,GAAA,EAAD,CAAUhY,MAAO,EAAjB,eACA,cAACgY,GAAA,EAAD,CAAUhY,MAAO,GAAjB,mBAED,mBAAGc,UAAWC,KAAE6W,WAAhB,iCCrCI,SAASK,KACf,IAAMnT,EAAWwG,cACXrF,EAAO0E,GAAe5E,IACtBoR,EAAWxM,GAAezE,IAC1BG,EAAsBsE,GAAevE,IACrCgR,EAAkBc,KAAKC,KAAK9R,EAAsB8Q,GAQxD,OACC,cAAC,GAAD,CACClR,KAAMA,EACNkR,SAAUA,EACVC,gBAAiBA,EACjBC,mBAZmB,SAACzI,EAAmC5O,GACxD8E,ExBsD0B,SAACmB,GAAD,MAAmB,CAC9ChG,KAAM,iBAAkBgG,QwBvDdmS,CAAapY,KAYrBsX,eAV0B,SAAC1V,GAC5BkD,ExBsDuD,CACxD7E,KAAM,uBAAwBkG,WwBvDDvE,EAAEiV,OAAO7W,WCkGxBqY,OAnGf,WACC,MAA8B1N,GAAejF,GAArC9B,EAAR,EAAQA,KAAMD,EAAd,EAAcA,OAAQG,EAAtB,EAAsBA,IACd+Q,EAAkB3G,cAAlB2G,cACF/P,EAAWwG,cACXwJ,EAAkBnK,GAAejD,IAEvC,EAAwCvH,mBAAS,IAAjD,mBAAOmY,EAAP,KAAqBC,EAArB,KACA,EAA4BpY,mBAAiB,IAA7C,mBAAOqY,EAAP,KAAeC,EAAf,KACM7P,EAAM+B,GAAevD,IACrByB,EAAM8B,GAAerD,IA0BrB8B,EAAUyL,GAAgC/Q,EAEhD,OACC,qBACClD,MACqB,YAApBkU,EACG,CAAEuB,cAAe,QACjB,CAAEA,cAAe,QAJtB,SAOC,sBAAKvV,UAAWC,KAAEwP,QAAlB,UACC,sBAAKzP,UAAWC,KAAE2X,SAAlB,UACC,sBAAK5X,UAAWC,KAAE4X,WAAlB,UACC,qBAAK7X,UAAWC,KAAEC,IAAKC,IAAK0C,GApDf,kCAoD6CxC,IAAI,KAC9D,oBAAIL,UAAWC,KAAEmL,SAAjB,SAA4BtI,IAC3BE,IAAQ+Q,IACNA,GACD,cAAC,IAAD,CAAMpJ,GAAI,gBAAV,SACC,wBAAQ3K,UAAWC,KAAE6X,eAArB,+BAIJ,sBAAK9X,UAAWC,KAAE8X,WAAlB,UACC,oBAAI/X,UAAWC,KAAE+X,aAAjB,6BACA,cAAC3G,GAAD,UAGF,sBAAKrR,UAAWC,KAAEgY,UAAlB,UACC,oBAAIjY,UAAWC,KAAEkL,MAAjB,mBAA4BrI,EAA5B,iBACA,sBAAK9C,UAAWC,KAAEiY,SAAlB,UACC,uBAAMlY,UAAWC,KAAEiY,SAAUnN,SAtDH,SAACjK,GAC/BA,EAAEkK,iBACFhI,GACCwU,GACAxT,EAAS4E,GAAW4O,EAAczD,GAAiB/Q,IACpDyU,EAAgB,KAiDZ,UACC,uBACCzX,UAAWC,KAAE2S,MACb1T,MAAOsY,EACP3W,SAAU,SAACC,GAAD,OAAO2W,EAAgB3W,EAAEC,cAAc7B,QACjDiZ,YAAY,cAEb,wBAAQnY,UAAWC,KAAEmY,OAArB,6BAED,sBAAKpY,UAAWC,KAAEiY,SAAlB,UACC,uBACClY,UAAWC,KAAE2S,MACb1T,MAAOwY,EACP7W,SA/Ce,SAACC,GACtB6W,EAAU7W,EAAEC,cAAc7B,QA+CpBC,KAAK,OACLgZ,YAAY,cAEb,wBAAQnY,UAAWC,KAAEmY,OAAQ9X,QAhEjB,WACb0C,GACHgB,EACC4D,GAAS,CACRU,QAASyL,GAAgC/Q,EACzCgQ,SAAU0E,EACV5P,MACAC,UAyDE,0BAKF,sBAAK/H,UAAWC,KAAEoY,MAAlB,UACC,cAACxE,GAAD,CAAYvL,QAASA,GAAW,KAChC,qBAAKtI,UAAWC,KAAEqY,WAAlB,SACC,cAACnB,GAAD,kBC1GMoB,GAA8B,WAC1C,IAAMC,EAAS3O,IAAe,SAACrF,GAAD,OAAWA,EAAMG,KAAK/B,UAAUI,OACtD+Q,EAAkB3G,cAAlB2G,cAER,OACC,sBAAK/T,UAAWC,KAAE4P,QAAlB,UACC,cAAC,IAAD,CAAMlF,GAAE,iBAAY6N,GAApB,SACC,wBACCxY,UAAS,UAAKC,KAAEwY,WAAP,YACR1E,IAAkByE,EAASvY,KAAEyY,UAAY,IAF3C,kBAQD,cAAC,IAAD,CAAM/N,GAAI,SAAV,SACC,wBACC3K,UAAS,UAAKC,KAAE0Y,YAAP,YAAuB5E,EAA8B,GAAd9T,KAAEyY,WADnD,uBCkEWE,OAvEf,WACC,MAA4BvZ,mBAAiB,IAA7C,mBAAOqY,EAAP,KAAeC,EAAf,KACM3T,EAAWwG,cACTuJ,EAAkB3G,cAAlB2G,cACFjM,EAAM+B,GAAevD,IACrByB,EAAM8B,GAAerD,IAM3B,EAAwCnH,mBAAS,IAAjD,mBAAOmY,EAAP,KAAqBC,EAArB,KAcA,OACC,8BACC,sBAAKzX,UAAWC,KAAEwP,QAAlB,UACC,sBAAKzP,UAAWC,KAAE2X,SAAlB,UACC,oBAAI5X,UAAWC,KAAEmL,SAAjB,8BACA,cAAC,GAAD,IACA,oBAAIpL,UAAWC,KAAE+X,aAAjB,6BACA,cAAC3G,GAAD,OAED,sBAAKrR,UAAWC,KAAEgY,UAAlB,UACC,oBAAIjY,UAAWC,KAAEkL,MAAjB,wBACA,uBAAMnL,UAAWC,KAAEiY,SAAUnN,SAxBF,SAACjK,GAC/BA,EAAEkK,iBACFwM,GAAgBxT,EAAS4E,GAAW4O,EAAczD,IAClD0D,EAAgB,KAqBb,UACC,uBACCzX,UAAWC,KAAE2S,MACb1T,MAAOsY,EACP3W,SAAU,SAACC,GAAD,OAAO2W,EAAgB3W,EAAEC,cAAc7B,QACjDiZ,YAAY,cAEb,wBAAQnY,UAAWC,KAAEmY,OAArB,6BAED,sBAAKpY,UAAWC,KAAEiY,SAAlB,UACC,uBACClY,UAAWC,KAAE2S,MACb1T,MAAOwY,EACP7W,SAhCgB,SAACC,GACtB6W,EAAU7W,EAAEC,cAAc7B,QAgCrBC,KAAK,OACLgZ,YAAY,cAEb,wBAAQnY,UAAWC,KAAEmY,OAAQ9X,QAhChB,WACjB0D,EAAS4D,GAAS,CAAEU,QAASyL,EAAef,SAAU0E,EAAQ5P,MAAKC,UA+B/D,uBAID,sBAAK/H,UAAWC,KAAEoY,MAAlB,UACC,cAACxE,GAAD,IACA,qBAAK7T,UAAWC,KAAEqY,WAAlB,SACC,cAACnB,GAAD,kBCnEM0B,GAAc,WAC1B,IAAMC,EAAWjP,GAAe/E,GAChC,EAAwBzF,mBAASyZ,GAAY,IAA7C,mBAAOhW,EAAP,KAAaiW,EAAb,KACM/U,EAAWwG,cACXwO,EAAWC,cACXC,EAA+C,uCAAG,WAAOpY,GAAP,SAAAmD,EAAA,6DACvDnD,EAAEkK,iBADqD,SAEjDhH,EAASD,EAAc,CAAEjB,UAFwB,OAGvDkW,EAAS,YAH8C,2CAAH,sDAMrD,OACC,uBAAMjO,SAAUmO,EAAhB,UACC,cAAC,EAAD,CAAgB/Z,KAAM,WAAYD,MAAO4D,EAAM7D,SAAU8Z,IACzD,wBAAQ5Z,KAAK,SAAb,sB,oBCvBY,OAA0B,kC,8BCKnCga,GAAehG,aAAOiG,KAAPjG,CAAe,CACnC,0BAA2B,CAC1B1B,MAAO,WAER,yBAA0B,CACzBA,MAAO,aAII4H,GAA0C,SAAC,GAAe,IAAbna,EAAY,EAAZA,MACzD,OACC,cAACM,EAAA,EAAD,CACCE,GAAI,CACH,aAAc,CAAE4Z,GAAI,IAFtB,SAKC,cAACH,GAAD,CACCrW,KAAK,eACL5D,MAAOA,EACP+X,aAAc,EACdlP,IAAK,EACL4N,KAAK,aCkBM5C,I,oBC3BFwG,GAAwC,SAAC,GAO/C,IANNrI,EAMK,EANLA,OACAC,EAKK,EALLA,SACA/B,EAIK,EAJLA,OACAb,EAGK,EAHLA,QACAwD,EAEK,EAFLA,SACAyH,EACK,EADLA,SAEA3K,qBAAU,WACT,IAAMpN,EAAO8Q,SAASC,cAAc,QAEpC,OADI/Q,IAAMA,EAAK3B,MAAM2S,SAAW,UACzB,WACFhR,IAAMA,EAAK3B,MAAM2S,SAAW,WAE/B,IACH,MAAoDpT,mBAAS8R,GAAY,IAAzE,mBAAOsI,EAAP,KAA2BC,EAA3B,KACA,EAAgDra,mBAAS6R,GAAU,IAAnE,mBAAOyI,EAAP,KAAyBC,EAAzB,KAYA,OACC,qBAAK5Z,UAAWC,KAAEyS,MAAOpS,QAAS,kBAAM8O,KAAxC,SACC,qBAAKpP,UAAWC,KAAEwP,QAAlB,SACC,sBAAKzP,UAAWC,KAAE4K,KAAMvK,QAAS,SAACQ,GAAD,OAAOA,EAAE6R,mBAA1C,UACC,oBAAI3S,UAAWC,KAAEmL,SAAjB,uBAEA,sBAAKpL,UAAWC,KAAEkM,QAAlB,UACC,mBAAGnM,UAAWC,KAAEiN,KAAhB,sBACA,uBACC/N,KAAK,OACLa,UAAWC,KAAE2S,MACbuF,YAAY,gCACZjZ,MAAOua,EACP5Y,SAAU,SAACC,GAAD,OAAO4Y,EAAsB5Y,EAAEC,cAAc7B,UAGxD,sBAAKc,UAAWC,KAAE4Z,KAAlB,UACC,uBAAOC,QAAQ,UAAU9Z,UAAWC,KAAE8Z,MAAtC,2BAGA,uBAAO5a,KAAK,OAAOa,UAAWC,KAAE+Z,GAAIvZ,GAAG,UAAUqC,KAAK,eAGvD,mBAAG9C,UAAWC,KAAEiN,KAAhB,oBACA,uBACC/N,KAAK,OACLa,UAAWC,KAAE2S,MACbuF,YAAY,wCACZjZ,MAAOya,EACP9Y,SAAU,SAACC,GAAD,OAAO8Y,EAAoB9Y,EAAEC,cAAc7B,UAEtD,sBAAKc,UAAWC,KAAE4Z,KAAlB,UACC,uBAAOC,QAAQ,UAAU9Z,UAAWC,KAAE8Z,MAAtC,2BAGA,uBAAO5a,KAAK,OAAOa,UAAWC,KAAE+Z,GAAIvZ,GAAG,UAAUqC,KAAK,eAEvD,sBAAK9C,UAAWC,KAAE4P,QAAlB,UACC,wBAAQ7P,UAAWC,KAAE4S,UAAWvS,QAAS8O,EAAzC,oBAGA,wBAAQpP,UAAWC,KAAE6S,QAASxS,QApDT,WAC1B,GAAiB,aAAbkZ,EAIH,OAHAzH,GACCA,EAAS,CAAEZ,SAAUsI,EAAoBvI,OAAQyI,SAClDvK,IAGDb,GACCA,EAAQ,CAAE2C,OAAQyI,EAAkBxI,SAAUsI,KA4C1C,gCCxCMhG,IAbUN,aAAOC,KAAPD,EAAiB,kBAAgB,CACvD,qBAAsB,CACrBE,gBAFsC,EAAGC,MAElBC,QAAQ9O,OAAO+O,OAGvC,mCAAoC,CACnC7C,OAAQ,GAET,OAAQ,CACPD,QAAS,QAIY,SAACgD,GAAD,OAAkB,IAAIC,KAAKD,GAAME,uBC/BjD,IAAM2F,GAAwC,SAAC,GAK/C,IAJNrI,EAIK,EAJLA,OACAC,EAGK,EAHLA,SACA/B,EAEK,EAFLA,OACAb,EACK,EADLA,QAEAM,qBAAU,WACT,IAAMpN,EAAO8Q,SAASC,cAAc,QAEpC,OADI/Q,IAAMA,EAAK3B,MAAM2S,SAAW,UACzB,WACFhR,IAAMA,EAAK3B,MAAM2S,SAAW,WAE/B,IACH,MAAoDpT,mBAAS8R,GAAY,IAAzE,mBAAOsI,EAAP,KAA2BC,EAA3B,KACA,EAAgDra,mBAAS6R,GAAU,IAAnE,mBAAOyI,EAAP,KAAyBC,EAAzB,KAMA,OACC,qBAAK5Z,UAAWC,KAAEyS,MAAOpS,QAAS8O,EAAlC,SACC,qBAAKpP,UAAWC,KAAEwP,QAAlB,SACC,sBAAKzP,UAAWC,KAAE4K,KAAMvK,QAAS,SAACQ,GAAD,OAAOA,EAAE6R,mBAA1C,UACC,oBAAI3S,UAAWC,KAAEmL,SAAjB,uBAEA,sBAAKpL,UAAWC,KAAEkM,QAAlB,UACC,mBAAGnM,UAAWC,KAAEiN,KAAhB,sBACA,uBACC/N,KAAK,OACLa,UAAWC,KAAE2S,MACbuF,YAAY,gCACZjZ,MAAOua,EACP5Y,SAAU,SAACC,GAAD,OAAO4Y,EAAsB5Y,EAAEC,cAAc7B,UAGxD,sBAAKc,UAAWC,KAAE4Z,KAAlB,UACC,uBAAOC,QAAQ,UAAU9Z,UAAWC,KAAE8Z,MAAtC,2BAGA,uBAAO5a,KAAK,OAAOa,UAAWC,KAAE+Z,GAAIvZ,GAAG,UAAUqC,KAAK,eAGvD,mBAAG9C,UAAWC,KAAEiN,KAAhB,oBACA,uBACC/N,KAAK,OACLa,UAAWC,KAAE2S,MACbuF,YAAY,wCACZjZ,MAAOya,EACP9Y,SAAU,SAACC,GAAD,OAAO8Y,EAAoB9Y,EAAEC,cAAc7B,UAEtD,sBAAKc,UAAWC,KAAE4Z,KAAlB,UACC,uBAAOC,QAAQ,UAAU9Z,UAAWC,KAAE8Z,MAAtC,2BAGA,uBAAO5a,KAAK,OAAOa,UAAWC,KAAE+Z,GAAIvZ,GAAG,UAAUqC,KAAK,eAEvD,sBAAK9C,UAAWC,KAAE4P,QAAlB,UACC,wBAAQ7P,UAAWC,KAAE4S,UAAWvS,QAAS8O,EAAzC,oBAGA,wBAAQpP,UAAWC,KAAE6S,QAASxS,QA9CT,WAC1BiO,GACCA,EAAQ,CAAE2C,OAAQyI,EAAkBxI,SAAUsI,KA4C1C,gCCnEA,SAASQ,GAAT,GAAoE,IAA9C1L,EAA6C,EAA7CA,QAASa,EAAoC,EAApCA,OAAQ8K,EAA4B,EAA5BA,SAS7C,OARArL,qBAAU,WACT,IAAMpN,EAAO8Q,SAASC,cAAc,QAEpC,OADI/Q,IAAMA,EAAK3B,MAAM2S,SAAW,UACzB,WACFhR,IAAMA,EAAK3B,MAAM2S,SAAW,WAE/B,IAGF,qBAAKzS,UAAWC,KAAEyS,MAAOpS,QAAS8O,EAAlC,SACC,qBAAKpP,UAAWC,KAAEwP,QAASnP,QAAS,SAACQ,GAAD,OAAOA,EAAE6R,mBAA7C,SACC,sBAAK3S,UAAWC,KAAE4K,KAAlB,UACC,qBAAK7K,UAAWC,KAAEyP,OAAlB,SACC,oBAAI1P,UAAWC,KAAEkL,MAAjB,2BAED,oBAAGnL,UAAWC,KAAEiN,KAAhB,yCAC8B,IAC7B,mCAASgN,GAAY,YAArB,OAFD,mCAKA,sBAAKla,UAAWC,KAAE4P,QAAlB,UACC,wBAAQ7P,UAAWC,KAAE4S,UAAWvS,QAAS8O,EAAzC,oBAGA,wBAAQpP,UAAWC,KAAEgT,OAAQ3S,QAASiO,EAAtC,8BCMN,IAAM2E,GAAiBC,aAAOC,KAAPD,EAAiB,kBAAgB,CACvD,sBAAuB,CACtBE,gBAFsC,EAAGC,MAElBC,QAAQ9O,OAAO+O,OAGvC,mCAAoC,CACnC7C,OAAQ,GAET,OAAQ,CACPD,QAAS,QAIJ,SAASyJ,KACf,IAAMpU,EAAQ8D,GAAehE,IACvBiO,EAAkBjK,GAAehF,GACjCwE,EAAeQ,GAAenE,IAC9BP,EAAO0E,GAAe7D,IACtBX,EAAYwE,GAAe5D,IAC3BjC,EAAWwG,cACjB,EAAgCnL,oBAAS,GAAzC,mBAAO4U,EAAP,KAAiBC,EAAjB,KACA,EAAoC7U,oBAAS,GAA7C,mBAAOgV,EAAP,KAAmBC,EAAnB,KAEA,EAA0CjV,mBAA2B,MAArE,mBAAO+a,EAAP,KAAsBC,EAAtB,KAEA,EAAwChb,mBAA2B,MAAnE,mBAAOib,EAAP,KAAqBC,EAArB,KACMvG,EAAkBnK,GAAejD,IAEjCP,EAAYwD,GAAezD,IAC3BqO,GAAiBpO,EAAU,GAC3BqO,EAAYrO,EAAUsO,MAAM,GAuBlC9F,qBAAU,WACTxF,GACCrF,EACCmF,GAAS,CACRE,eACAlE,OACAE,YACAgB,UAAWoO,EAAgBC,OAG5B,CAACrL,EAAclE,EAAME,EAAWqP,EAAWD,IAE9C,IAAMU,EAAgB,SAACC,GACtB,OAAIA,IAAcV,EAAkB,CAAEzC,QAAS,QACzB,IAAlBwC,EAA4B,CAAErC,UAAW,kBACtC,IAGFwC,EAAO7O,EAAM8O,KAAI,SAAClV,GASvB,OACC,eAAC,GAAD,CAECD,GAAI,CAAE,mCAAoC,CAAEiR,OAAQ,IAFrD,UAIC,cAACmE,GAAA,EAAD,CAAWrV,UAAU,KAAKsV,MAAM,MAAhC,SACEpV,EAAEwR,WAEJ,cAAC2D,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BrV,EAAEuR,SAC5B,cAAC4D,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BvB,GAAQ9T,EAAEyD,WACpC,cAAC0R,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACC,cAAC,GAAD,CAAkB9V,MAAOkY,KAAKoD,MAAM7a,EAAEsR,WAEvC,cAAC6D,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACErV,EAAE2I,UAAYwL,GACd,qCACC,cAAC,GAAD,CACC3I,MAAM,SACNrL,MAAO,CAAEoV,WAAY,UAAWzD,MAAO,QACvCM,SA3BuB,WAC5BsI,EAAiB1a,GACjB2U,GAAc,MA2BV,cAAC,GAAD,CAAcnJ,MAAM,WAAW4G,SAzBT,WAC1BwI,EAAgB5a,GAChBuU,GAAY,aAINvU,EAAEqD,QA2BV,OACC,sBACChD,UAAWC,KAAEwP,QACb3P,MACqB,YAApBkU,EACG,CAAEuB,cAAe,QACjB,CAAEA,cAAe,QALtB,UAQsB,YAApBvB,EAAgC,cAAChC,GAAD,IAA4B,GAE5DiC,GACA,cAAC,GAAD,CACC1F,QA1FsB,SAAC1M,GAC1ByY,GAAgBtW,EnCoEU,SAACnC,GAAD,8CAAkC,WAAOmC,GAAP,SAAAC,EAAA,+EAEtD7B,EAAqBP,GAFiC,OAG5DmC,EAAUmF,GAAU,CAAEE,aAAcxH,EAAQwH,gBAHgB,+CAK5DhF,QAAQC,IAAR,MAL4D,wDAAlC,sDmCpEDmW,CAAa,2BAAKH,GAAiBzY,KAC5DqS,GAAY,IAyFT9E,OAAQ,kBAAM8E,GAAY,IAC1BhD,OAAM,OAAEoJ,QAAF,IAAEA,OAAF,EAAEA,EAAcpJ,OACtBC,SAAQ,OAAEmJ,QAAF,IAAEA,OAAF,EAAEA,EAAcnJ,WAIzBkD,GACA,cAAC4F,GAAD,CACC7K,OAAQ,kBAAMkF,GAAc,IAC5B/F,QAhGsB,WACzB6L,GACCpW,EnCsDyB,SAAC0W,EAAgBrR,GAAjB,8CAAoD,WAAMrF,GAAN,SAAAC,EAAA,+EAExE7B,EAAqBsY,GAFmD,OAG9E1W,EAAUmF,GAAU,CAAEE,kBAHwD,+CAK9EhF,QAAQC,IAAR,MAL8E,wDAApD,sDmCtDhBqW,CAAY,OAACP,QAAD,IAACA,OAAD,EAACA,EAAepX,IAAhB,OAAqBoX,QAArB,IAAqBA,OAArB,EAAqBA,EAAe/Q,eAC1DiL,GAAc,MAgGb,cAACgB,GAAA,EAAD,CAAgB7V,UAAW+V,KAA3B,SACC,eAACC,GAAA,EAAD,CAAO/V,GAAI,CAAEgW,SAAU,KAAOC,KAAK,QAAQ,aAAW,gBAAtD,UACC,cAACC,GAAA,EAAD,CAAW5V,UAAWC,KAAE4V,UAAxB,SACC,eAAC,GAAD,CAAgBvV,QAhGmB,SAACQ,GACxC,IAAMgV,EAAShV,EAAEiV,OACfC,QAAQtB,UACLoB,GAKL9R,EAASiF,GAJL6M,IAAUpB,EAIQ,EAAIoB,GAHFrB,EAAgB,EAAI,GAAKC,KA2F7C,UACC,eAACI,GAAA,EAAD,CAAW,kBAAgB,WAA3B,qBAEC,qBACC9U,UAAWC,KAAEgW,MACbnW,MAAOqV,EAAc,YACrBhV,IAAK8V,GACL5V,IAAI,QAGN,eAACyU,GAAA,EAAD,CAAWE,MAAM,QAAQ,kBAAgB,SAAzC,mBAEC,qBACChV,UAAWC,KAAEgW,MACbnW,MAAOqV,EAAc,UACrBhV,IAAK8V,GACL5V,IAAI,QAGN,eAACyU,GAAA,EAAD,CAAWE,MAAM,QAAQ,kBAAgB,UAAzC,yBAEC,qBACChV,UAAWC,KAAEgW,MACbnW,MAAOqV,EAAc,WACrBhV,IAAK8V,GACL5V,IAAI,QAGN,eAACyU,GAAA,EAAD,CAAWE,MAAM,QAAQ,kBAAgB,QAAzC,kBAEC,qBACChV,UAAWC,KAAEgW,MACbnW,MAAOqV,EAAc,SACrBhV,IAAK8V,GACL5V,IAAI,QAGN,cAACyU,GAAA,EAAD,CAAWE,MAAM,QAAjB,0BAGF,cAACkB,GAAA,EAAD,CAAWlW,UAAWC,KAAEkW,UAAxB,SAAoCvB,YC9MlC,SAASgG,KACf,IAAM5W,EAAWwG,cACXrF,EAAO0E,GAAe7D,IACtBqQ,EAAWxM,GAAe5D,IAC1BE,EAAkB0D,GAAe3D,IACjCoQ,EAAkBc,KAAKC,KAAKlR,EAAkBkQ,GAQpD,OACC,cAAC,GAAD,CACClR,KAAMA,EACNkR,SAAUA,EACVC,gBAAiBA,EACjBC,mBAZmB,SAACzI,EAAmC5O,GACxD8E,EpC0E0B,SAACmB,GAAD,MAAoB,CAAEhG,KAAM,iBAAkBgG,QoC1E/D0V,CAAa3b,KAYrBsX,eAV0B,SAAC1V,GAC5BkD,EpCwEwD,CAAE7E,KAAM,uBAAwBkG,WoCxE5DvE,EAAEiV,OAAO7W,WCJhC,SAAS4b,KACf,IAAQzR,EAAiB+D,cAAjB/D,aACFrF,EAAWwG,cACX/E,EAAcoE,GAAerE,IAEnC,EAAgDnG,mBAAS,IAAzD,mBAAO0b,EAAP,KAAyBC,EAAzB,KACA,EAAoC3b,oBAAS,GAA7C,mBAAO4b,EAAP,KAAmBC,EAAnB,KACMC,EAAO,uCAAG,WAAOtZ,GAAP,SAAAoC,EAAA,0DACXoF,EADW,gCAERrF,EAASoF,GAAa,aAAEC,gBAAiBxH,KAFjC,OAGdqZ,GAAc,GAHA,2CAAH,sDAmBb,OAPArM,qBACC,kBAAM,WACL7K,ErCqDsD,CAAE7E,KAAM,YAAa4G,MqCrDvD,KACpB/B,EAASkF,GAAiB,QAE3B,IAGA,gCACE+R,GACA,cAAC,GAAD,CAAU1M,QAAS4M,EAAS/L,OAAQ,kBAAM8L,GAAc,MAEzD,qBAAKlb,UAAWC,KAAEwP,QAAlB,SACC,sBAAKzP,UAAWC,KAAE4K,KAAlB,UACC,sBAAK7K,UAAWC,KAAEmb,KAAlB,UACC,cAAC,IAAD,CAAMpb,UAAWC,KAAEob,KAAM1Q,GAAE,wBAAYlF,QAAZ,IAAYA,OAAZ,EAAYA,EAAa6C,SAApD,SACC,qBAAKtI,UAAWC,KAAEC,IAAKC,IAAK8V,GAAO5V,IAAI,OAExC,oBAAIL,UAAWC,KAAEkL,MAAjB,gBAAyB1F,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAa3C,UAEvC,wBAAQxC,QAAS,kBAAM4a,GAAc,IAArC,qBACA,uBAAMlb,UAAWC,KAAEiY,SAAUnN,SA3BR,SAACjK,GACzBA,EAAEkK,iBACFhH,EAASkF,GAAiB6R,IAC1B1R,GAAgBrF,EAASmF,GAAS,CAAEhE,KAAM,EAAGkE,mBAwB1C,UACC,uBACCrJ,UAAWC,KAAE2S,MACb1T,MAAO6b,EACPla,SAAU,SAACC,GAAD,OAAOka,EAAoBla,EAAEC,cAAc7B,QACrDC,KAAK,OACLgZ,YAAY,cAEb,wBAAQnY,UAAWC,KAAEmY,OAArB,uBAGD,cAAC+B,GAAD,IACA,qBAAKna,UAAWC,KAAEqY,WAAlB,SACC,cAACsC,GAAD,c,gEChEAU,GAASnI,aAAO,OAAPA,EAAe,gBAAGG,EAAH,EAAGA,MAAH,MAAgB,CAC7CiI,aAAc,MACd3b,MAAO,GACP4b,OAAQ,GACRC,UACwB,SAAvBnI,EAAMC,QAAQmI,KACX,gCACA,sEACJrI,gBAAwC,SAAvBC,EAAMC,QAAQmI,KAAkB,UAAY,UAC7DC,gBACwB,SAAvBrI,EAAMC,QAAQmI,KACX,gEACA,+DACJ,sBAAuB,CACtBE,QAAS,+BACTC,cAAe,GAEhB,kBAAmB,CAClBxI,gBAAwC,SAAvBC,EAAMC,QAAQmI,KAAkB,UAAY,eAIzDI,GAAgB3I,aAAOmI,GAAPnI,CAAe,CACpCE,gBAAiB,UACjBsI,gBACC,+DACD,WAAY,CACX1J,QAAS,QACTrS,MAAO,GACP4b,OAAQ,GACRG,gBAAiB,iDACjBxP,QAAS,MAEV,kBAAmB,CAClBkH,gBAAiB,aAKnB,SAAS0I,GAAQtO,GAChB,OACC,cAACuO,GAAA,EAAD,aACCtc,GAAI,CACH,UAAW,CACVuc,QAAS,gBAGXC,eAAa,EACbzK,MAAM,UACN0K,YAAa,cAACL,GAAD,IACb5M,KAAM,cAACoM,GAAD,KACF7N,IAUA,IAAM2O,GAAmB,SAAC,GAGC,IAFjCnd,EAEgC,EAFhCA,SACAod,EACgC,EADhCA,aAMA,OACC,cAACC,GAAA,EAAD,CAAa7c,UAAU,WAAvB,SACC,eAAC8c,GAAA,EAAD,CACCjc,QAPqC,SAACQ,GACxC,IAAMmQ,GAAUnQ,EAAEiV,OAA4B7W,MAC9C+R,GAAShS,EAASgS,IAMhBgG,aAAcoF,GAAgBjF,KAAKC,KAAKgF,GAFzC,UAIC,cAACG,GAAA,EAAD,CACCtd,MAAO,EACPud,QAAS,cAACV,GAAD,IACTrb,MAAM,iBAEP,cAAC8b,GAAA,EAAD,CAAkBtd,MAAO,EAAGud,QAAS,cAACV,GAAD,IAAarb,MAAM,WACxD,cAAC8b,GAAA,EAAD,CACCtd,MAAO,EACPud,QAAS,cAACV,GAAD,IACTrb,MAAM,qBAEP,cAAC8b,GAAA,EAAD,CAAkBtd,MAAO,EAAGud,QAAS,cAACV,GAAD,IAAarb,MAAM,kBACxD,cAAC8b,GAAA,EAAD,CACCtd,MAAO,EACPud,QAAS,cAACV,GAAD,IACTrb,MAAM,0BCvFJ,SAASgc,KACf,IAAM3W,EAAQ8D,GAAehE,IACvB7B,EAAWwG,cACjB,EAAoCnL,oBAAS,GAA7C,mBAAOsd,EAAP,KAAmBC,EAAnB,KACQvT,EAAiB+D,cAAjB/D,aACFwT,EAAaC,mBAAQ,WAC1B,GAAK/W,EAAMmF,OAAX,CAOA,IANA,IAAM6R,EAAmBhX,EAAMiX,QAAO,SAACC,EAAKC,GAC3C,OAAOD,EAAM,EAAIC,EAAGjM,QAClB,GACGkM,EAAe/F,KAAKgG,SAAWL,EACjCM,EAAM,EACNC,EAAI,EACDD,EAAMF,GACZE,GAAO,EAAItX,EAAMuX,GAAGrM,MACpBqM,GAAK,EAEN,OAAOvX,EAAMuX,EAAI,MACf,CAACvX,IAEJ,EAA0B1G,mBAAS,GAAnC,mBAAO4R,EAAP,KAAcsM,EAAd,KAgBA,OANA1O,qBAAU,WACLxF,GACHrF,EAASmF,GAAS,CAAEE,eAAchE,UAAW,SAE5C,CAACgE,IAGH,8BACC,qBAAKrJ,UAAWC,KAAEwP,QAAlB,SACC,sBAAKzP,UAAWC,KAAE4K,KAAlB,UACC,oBAAI7K,UAAWC,KAAEmL,SAAjB,yCACA,sBAAKpL,UAAWC,KAAEkM,QAAlB,UACC,oBAAGnM,UAAWC,KAAEiN,KAAhB,UACC,+CADD,qBAC2C,OAAV2P,QAAU,IAAVA,OAAA,EAAAA,EAAY1L,WAAY,IADzD,YAGCwL,GACA,qCACC,oBAAG3c,UAAWC,KAAEud,WAAhB,UACC,6CADD,qBACyC,OAAVX,QAAU,IAAVA,OAAA,EAAAA,EAAY3L,SAAU,IADrD,YAGA,mBAAGlR,UAAWC,KAAEwd,UAAhB,SACC,sDAED,cAAC,GAAD,CACCxe,SAjCc,SAACye,GAAD,OAAsBH,EAASG,IAkC7CrB,aAAY,OAAEQ,QAAF,IAAEA,OAAF,EAAEA,EAAY5L,WAI7B,sBAAKjR,UAAWC,KAAE4P,QAAlB,UACC,cAAC,IAAD,CAAMlF,GAAE,iBAAYtB,GAApB,SACC,wBAAQrJ,UAAWC,KAAE4S,UAArB,sBAEA8J,EACA,wBAAQ3c,UAAWC,KAAE6S,QAASxS,QAvCV,WvCmHJ,IAACuB,EuClHvB+a,GAAc,GACdC,GAAc7Y,GvCiHSnC,EuCjHS,CAAE8b,QAASd,EAAW7Z,IAAKiO,SvCiHrC,uCAA4C,WAAOjN,GAAP,iBAAAC,EAAA,+EAEP7B,EAAmBP,GAFZ,gBAElCwH,EAFkC,EAE1D9H,KAAQqc,aAAgBvU,aAChCrF,EAAUmF,GAAU,CAACE,eAAchE,UAAW,OAHoB,gDAM9DnE,IAAMiD,aAAN,OAA2B,KAAEC,UAAkC,MAAtB,KAAEA,SAAS4C,QACvDhD,EAAUH,KAPuD,yDAA5C,yDuC5EhB,kBAIA,wBAAQ7D,UAAWC,KAAE6S,QAASxS,QA7CN,kBAAMsc,GAAc,IA6C5C,sCC/DD,IAAMiB,GAAW,WACvB,OACC,eAAC,IAAD,WACC,eAAC,IAAD,CAAO/M,KAAK,IAAIgN,QAAS,cAAC,GAAD,IAAzB,UACC,cAAC,IAAD,CAAOhN,KAAK,SAASgN,QAAS,cAAC,GAAD,IAA9B,SACC,cAAC,IAAD,CAAOhN,KAAK,uBAAuBgN,QAAS,cAAC,GAAD,QAE7C,cAAC,IAAD,CAAOhN,KAAK,WAAWgN,QAAS,cAAC,GAAD,IAAhC,SACC,cAAC,IAAD,CAAOhN,KAAK,yBAAyBgN,QAAS,cAAC,GAAD,QAE/C,cAAC,IAAD,CAAOhN,KAAK,SAASgN,QAAS,cAAChD,GAAD,IAA9B,SACC,cAAC,IAAD,CAAOhK,KAAK,sBAAsBgN,QAAS,cAAChD,GAAD,QAE5C,cAAC,IAAD,CAAOhK,KAAK,SAASgN,QAAS,cAACpB,GAAD,IAA9B,SACC,cAAC,IAAD,CAAO5L,KAAK,sBAAsBgN,QAAS,cAACpB,GAAD,WAI7C,cAAC,IAAD,CAAO5L,KAAK,eAAegN,QAAS,cAAC,GAAD,MACpC,cAAC,IAAD,CAAOhN,KAAK,kBAAkBgN,QAAS,cAAC,GAAD,MACvC,cAAC,IAAD,CAAOhN,KAAK,QAAQgN,QAAS,cAAC,GAAD,MAC7B,cAAC,IAAD,CAAOhN,KAAK,uBAAuBgN,QAAS,cAAC,GAAD,MAC5C,cAAC,IAAD,CAAOhN,KAAK,eAAegN,QAAS,cAACzP,GAAD,MACpC,cAAC,IAAD,CAAOyC,KAAK,OAAOgN,QAAS,cAAC,GAAD,MAC5B,cAAC,IAAD,CAAOhN,KAAK,IAAIgN,QAAS,cAAC,GAAD,UCpBbC,GAZH,WACX,IAAM/Z,EAAWwG,cAIjB,OAHAqE,qBAAU,WACT7K,EjD2HuB,uCAAgB,WAAMA,GAAN,iBAAAC,EAAA,+EAEhB3C,IAFgB,gBAE/BC,EAF+B,EAE/BA,KACRyC,EAAUJ,EAAcrC,IAHe,gDAKvC8C,QAAQC,IAAR,MALuC,yDAAhB,yDiD1HrB,IAEF,8BACC,cAAC,GAAD,OCAY0Z,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBlW,MAAK,YAAkD,IAA/CmW,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,OCAdO,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,IAAD,UACC,cAAC,IAAD,CAAU3U,MAAOA,GAAjB,SACC,cAAC,GAAD,UAIHwI,SAASoM,eAAe,SAMzBX,M,mBCtBAnf,EAAOC,QAAU,CAAC,MAAQ,0BAA0B,QAAU,4BAA4B,KAAO,yBAAyB,OAAS,2BAA2B,QAAU,4BAA4B,MAAQ,0BAA0B,KAAO,yBAAyB,UAAY,8BAA8B,OAAS,6B,mBCAzTD,EAAOC,QAAU,CAAC,QAAU,0BAA0B,SAAW,2BAA2B,UAAY,4BAA4B,QAAU,0BAA0B,WAAa,6BAA6B,YAAc,8BAA8B,UAAY,4BAA4B,SAAW,2BAA2B,aAAe,+BAA+B,MAAQ,wBAAwB,SAAW,2BAA2B,MAAQ,wBAAwB,OAAS,yBAAyB,MAAQ,wBAAwB,WAAa,6BAA6B,WAAa,6BAA6B,WAAa,6BAA6B,OAAS,yBAAyB,YAAc,gC,mBCAhtBD,EAAOC,QAAU,CAAC,MAAQ,0BAA0B,QAAU,4BAA4B,KAAO,yBAAyB,OAAS,2BAA2B,QAAU,4BAA4B,MAAQ,0BAA0B,UAAY,8BAA8B,QAAU,4BAA4B,MAAQ,0BAA0B,KAAO,2B,mBCA/VD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,SAAW,0BAA0B,WAAa,4BAA4B,UAAY,2BAA2B,WAAa,4BAA4B,SAAW,0BAA0B,IAAM,qBAAqB,aAAe,8BAA8B,MAAQ,uBAAuB,SAAW,0BAA0B,KAAO,sBAAsB,MAAQ,uBAAuB,OAAS,wBAAwB,MAAQ,uBAAuB,WAAa,4BAA4B,WAAa,4BAA4B,WAAa,4BAA4B,OAAS,0B,mBCApoBD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,IAAM,sBAAsB,UAAY,4BAA4B,MAAQ,wBAAwB,SAAW,2BAA2B,MAAQ,wBAAwB,MAAQ,wBAAwB,SAAW,2BAA2B,QAAU,0BAA0B,KAAO,uBAAuB,OAAS,yBAAyB,OAAS,yBAAyB,SAAW,6B,mBCA/cD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,UAAY,yBAAyB,UAAY,yBAAyB,MAAQ,qBAAqB,YAAc,2BAA2B,IAAM,qB,mBCAzMD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,KAAO,wBAAwB,MAAQ,yBAAyB,MAAQ,yBAAyB,SAAW,4BAA4B,MAAQ,yBAAyB,QAAU,2BAA2B,WAAa,8BAA8B,YAAc,+BAA+B,aAAe,gCAAgC,IAAM,uBAAuB,SAAW,4BAA4B,WAAa,8BAA8B,QAAU,2BAA2B,iBAAmB,oCAAoC,SAAW,8B,mBCA5lBD,EAAOC,QAAU,CAAC,KAAO,4BAA4B,KAAO,4BAA4B,MAAQ,6BAA6B,MAAQ,6BAA6B,SAAW,gCAAgC,SAAW,gCAAgC,IAAM,2BAA2B,SAAW,gCAAgC,UAAY,iCAAiC,OAAS,8BAA8B,MAAQ,6BAA6B,QAAU,iC,mBCAvcD,EAAOC,QAAU,CAAC,QAAU,sBAAsB,SAAW,uBAAuB,QAAU,sBAAsB,UAAY,wBAAwB,UAAY,wBAAwB,YAAc,0BAA0B,QAAU,sBAAsB,OAAS,qBAAqB,KAAO,qB,mBCAzSD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,KAAO,oBAAoB,SAAW,wBAAwB,QAAU,uBAAuB,UAAY,yBAAyB,QAAU,uBAAuB,KAAO,oBAAoB,QAAU,uBAAuB,UAAY,yBAAyB,WAAa,4B,mBCAtUD,EAAOC,QAAU,CAAC,KAAO,2BAA2B,KAAO,2BAA2B,MAAQ,4BAA4B,MAAQ,4BAA4B,SAAW,+BAA+B,SAAW,+BAA+B,IAAM,0BAA0B,MAAQ,4BAA4B,QAAU,gC,mBCAhUD,EAAOC,QAAU,CAAC,QAAU,0BAA0B,KAAO,uBAAuB,KAAO,uBAAuB,MAAQ,wBAAwB,MAAQ,wBAAwB,IAAM,sBAAsB,SAAW,2BAA2B,WAAa,+B,mBCAjQD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,MAAQ,0BAA0B,MAAQ,0BAA0B,SAAW,6BAA6B,IAAM,wBAAwB,QAAU,4BAA4B,SAAW,+B,mBCA7OD,EAAOC,QAAU,CAAC,UAAY,iCAAiC,MAAQ,6BAA6B,QAAU,iC,mBCA9GD,EAAOC,QAAU,CAAC,IAAM,4B,mBCAxBD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,WAAa,+B,mBCAvGD,EAAOC,QAAU,CAAC,IAAM,+B","file":"static/js/main.993de20e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"CardInfo_modal__aUIlW\",\"wrapper\":\"CardInfo_wrapper__12GqZ\",\"input\":\"CardInfo_input__Bibm8\",\"text\":\"CardInfo_text__JUTHM\",\"subtitle\":\"CardInfo_subtitle__18qUm\",\"btnCancel\":\"CardInfo_btnCancel__1qcM5\",\"btnSave\":\"CardInfo_btnSave__3b6Q5\",\"wrap\":\"CardInfo_wrap__3e5o9\",\"erapper\":\"CardInfo_erapper__2Jr9D\",\"content\":\"CardInfo_content__3QDkz\",\"wrapBtn\":\"CardInfo_wrapBtn__1LBsP\",\"chous\":\"CardInfo_chous__2wMTV\",\"my\":\"CardInfo_my__3Zocx\"};","import axios, { AxiosResponse } from 'axios';\r\nimport { RegistrationRequestType, RegistrationResponseType } from '../redux/register-reducer';\r\n\r\n\r\nexport enum Status {\r\n\tloading = 'loading',\r\n\terror = 'error',\r\n\tready = 'ready'\r\n}\r\n\r\ntype SendMessageType = {\r\n\tanswer: boolean\r\n\thtml: boolean\r\n\tinfo: string\r\n\tsuccess: boolean\r\n}\r\n\r\nexport type AuthDomainDataType = {\r\n\tavatar: string\r\n\temail: string\r\n\tname: string\r\n\tpublicCardPacksCount: number\r\n\t_id: string\r\n}\r\n\r\ntype userDomainType = {\r\n\t_id: string\r\n\temail: string\r\n\trememberMe: false\r\n\tisAdmin: false\r\n\tname: string\r\n\tverified: false\r\n\tpublicCardPacksCount: number\r\n\tcreated: string\r\n\tupdated: string\r\n\t__v: number\r\n\ttoken: string\r\n\ttokenDeathTime: number\r\n\tavatar: string | null\r\n}\r\n\r\ntype updateUserDomainType = {\r\n\tupdatedUser: userDomainType,\r\n\ttoken: string\r\n\ttokenDeathTime: number\r\n}\r\n\r\nexport type updateProfilePayloadType = { name?: string, avatar?: string }\r\n\r\nconst axiosConfig = {\r\n\t// baseURL: 'http://localhost:7542/2.0/',\r\n\tbaseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n\twithCredentials: true,\r\n};\r\n\r\nexport const axiosInstance = axios.create( axiosConfig );\r\n\r\n\r\nexport const api = {\r\n\tlogin(data: any) {\r\n\t\treturn axiosInstance.post<userDomainType>( 'auth/login', data );\r\n\t},\r\n\tregistration(body: RegistrationRequestType) {\r\n\t\treturn axiosInstance.post<RegistrationRequestType, AxiosResponse<RegistrationResponseType>>( 'auth/register', {\r\n\t\t\temail: body.email,\r\n\t\t\tpassword: body.password,\r\n\t\t} );\r\n\t},\r\n\tauthMe() {\r\n\t\treturn axiosInstance.post<userDomainType>( 'auth/me', {} );\r\n\t},\r\n\tlogOut() {\r\n\t\treturn axiosInstance.delete<{ info: string, error?: string }>( 'auth/me', {} );\r\n\t},\r\n\tupdateProfile(payload: updateProfilePayloadType) {\r\n\t\treturn axiosInstance.put<updateUserDomainType>( 'auth/me', payload );\r\n\t},\r\n};\r\nexport const changePasswordAPI = {\r\n\tsendMessagePassword(email: string) {\r\n\t\treturn axiosInstance.post<SendMessageType>( 'auth/forgot', {\r\n\t\t\temail,\r\n\t\t\tfrom: 'test-front-admin <t9371100211@gmail.com>',\r\n\t\t\tmessage: `<div><h1><a href='https://alfilip.github.io/cards/#/set-new-password/$token$'>change password</h1></div>`,\r\n\t\t} );\r\n\t},\r\n\tnewPassword(password: string, token: string) {\r\n\t\treturn axiosInstance.post( `auth/set-new-password`, {\r\n\t\t\tpassword,\r\n\t\t\tresetPasswordToken: token,\r\n\t\t} );\r\n\t},\r\n};\r\n\r\n\r\n// объект с необязательными параметрами\r\nexport type getPacksPayloadType = {\r\n\tpackName?: string\r\n\tmin?: number\r\n\tmax?: number\r\n\t// 0 | 1 - направление сортировки\r\n\tsortPacks?: string\r\n\t// номер страницы\r\n\tpage?: number\r\n\t// количество паков\r\n\tpageCount?: number\r\n\tuser_id?: string\r\n}\r\n// объект пака\r\ntype domainPackType = {\r\n\t// id пака\r\n\t_id: string\r\n\tuser_id: string\r\n\tuser_name: string\r\n\tprivate: boolean,\r\n\tname: string\r\n\tpath: string\r\n\tgrade: number\r\n\tshots: number\r\n\t// количество карт в паке\r\n\tcardsCount: number\r\n\ttype: string\r\n\trating: number\r\n\tcreated: string\r\n\tupdated: string\r\n\t// more_id: string\r\n\t__v: number\r\n}\r\n\r\n\r\n// объект с массивом паков и пр\r\nexport type getPacksResponseType = {\r\n\tcardPacks: domainPackType[],\r\n\tpage: number\r\n\tpageCount: number\r\n\tcardPacksTotalCount: number\r\n\tminCardsCount: number\r\n\tmaxCardsCount: number\r\n\ttoken: string\r\n\ttokenDeathTime: number\r\n}\r\n// объект карточки\r\ntype domainCardType = {\r\n\t_id: string\r\n\tcardsPack_id: string\r\n\tuser_id: string\r\n\tanswer: string\r\n\tquestion: string\r\n\tgrade: number\r\n\tshots: number\r\n\ttype: string\r\n\trating: number\r\n\tcreated: string\r\n\tupdated: string\r\n\t__v: number\r\n}\r\n// объект с массивом карточек и прочей инфой\r\nexport type getCardsResponseType = {\r\n\tcards: domainCardType[]\r\n\tcardsTotalCount: number\r\n\tmaxGrade: number\r\n\tminGrade: number\r\n\tpackUserId: string\r\n\tpage: number\r\n\tpageCount: number\r\n\ttoken: string\r\n\ttokenDeathTime: number\r\n}\r\n\r\n// объект с одним обязательным параметром cardsPack_id и кучей необязательных параметров\r\nexport type getCardsPayloadType = {\r\n\tcardsPack_id: string\r\n\tcardAnswer?: string\r\n\tcardQuestion?: string\r\n\tmin?: number\r\n\tmax?: number\r\n\tsortCards?: string\r\n\tpage?: number\r\n\tpageCount?: number\r\n}\r\n\r\n\r\ntype createPackParamsType = {\r\n\tname?: string\r\n\tpath?: string\r\n\tgrade?: number\r\n\tshots?: number\r\n\trating?: number\r\n\t// url or base64\r\n\tdeckCover?: string\r\n\tprivate?: boolean\r\n\ttype?: string\r\n}\r\n\r\nexport type createCardParamsType = {\r\n\tcardsPack_id: string\r\n\tquestion?: string\r\n\tanswer?: string\r\n\tgrade?: number\r\n\tshots?: number\r\n\trating?: number\r\n\t// url or base64\r\n\tanswerImg?: string\r\n\t// url or base64\r\n\tquestionImg?: string\r\n\t// url or base64\r\n\tquestionVideo?: string\r\n\t// url or base64\r\n\tanswerVideo?: string\r\n\ttype?: string\r\n}\r\n\r\ntype updatePackPayloadType = {\r\n\t// id пака\r\n\t_id: string\r\n\tprivate?: boolean,\r\n\tname?: string\r\n\tpath?: string\r\n\trating?: number\r\n\tgrade?: number\r\n\tshots?: number\r\n}\r\n\r\ntype updateCardPayloadType = {\r\n\t// id карты\r\n\t_id: string\r\n\tquestion?: string\r\n\tanswer?: string\r\n\tshots?: number\r\n\trating?: number\r\n\tgrade?: number\r\n\t// url or base64\r\n\tanswerImg?: string\r\n\t// url or base64\r\n\tquestionImg?: string\r\n\t// url or base64\r\n\tquestionVideo?: string\r\n\t// url or base64\r\n\tanswerVideo?: string\r\n\ttype?: string\r\n\tcomments?: string\r\n}\r\n\r\nexport type putGradePayloadType = {\r\n\tgrade: number\r\n\tcard_id: string\r\n}\r\n\r\ntype updatedGradeType = {\r\n\tcard_id: string\r\n\tcardsPack_id: string\r\n\tcreated: string\r\n\tgrade: number\r\n\tmore_id: string\r\n\tshots: number\r\n\tupdated: string\r\n\tuser_id: string\r\n\t__v: number\r\n\t_id: string\r\n}\r\n\r\ntype putGradeResponseType = {\r\n\ttoken: string\r\n\ttokenDeathTime: number\r\n\tupdatedGrade: updatedGradeType\r\n}\r\n\r\nexport const cardsApi = {\r\n\t// возвращает промис с паками\r\n\tgetPacks(payload = {} as getPacksPayloadType) {\r\n\t\treturn axiosInstance.get<getPacksResponseType>( `cards/pack`, {\r\n\t\t\tparams: {\r\n\t\t\t\t...payload,\r\n\t\t\t},\r\n\t\t} );\r\n\t},\r\n\t// возвращает промис c новым паком. Сделай новый запрос паков после этого запроса\r\n\tcreatePack(payload = {} as createPackParamsType) {\r\n\t\treturn axiosInstance.post( 'cards/pack', { cardsPack: payload } );\r\n\t},\r\n\t// возвращает промис с удаленным паком. Сделай новый запрос паков после этого запроса\r\n\tdeletePack(packId: string) {\r\n\t\treturn axiosInstance.delete( 'cards/pack', { params: { id: packId } } );\r\n\t},\r\n\t// возвращает промис с обновленным паком. Сделай новый запрос паков после этого запроса\r\n\tupdatePack(payload: updatePackPayloadType) {\r\n\t\treturn axiosInstance.put( 'cards/pack', { cardsPack: { ...payload } } );\r\n\t},\r\n\t// возвращает промис с карточками\r\n\tgetCards(payload: getCardsPayloadType) {\r\n\t\treturn axiosInstance.get<getCardsResponseType>( `cards/card`, {\r\n\t\t\tparams: {\r\n\t\t\t\t...payload,\r\n\t\t\t},\r\n\t\t} );\r\n\t},\r\n\t// возвращает промис c новой картой. Сделай новый запрос карт после этого запроса\r\n\tcreateCard(payload = {} as createCardParamsType) {\r\n\t\treturn axiosInstance.post( 'cards/card', { card: payload } );\r\n\t},\r\n\t// возвращает промис с удаленной картой. Сделай новый запрос карт после этого запроса\r\n\tdeleteCard(cardId: string) {\r\n\t\treturn axiosInstance.delete( 'cards/card', { params: { id: cardId } } );\r\n\t},\r\n\t// возвращает промис с обновленной картой. Сделай новый запрос карт после этого запроса\r\n\tupdateCard(payload: updateCardPayloadType) {\r\n\t\treturn axiosInstance.put( 'cards/card', { card: { ...payload } } );\r\n\t},\r\n\t// возвращает промис с обновленной картой.\r\n\tputGrade(payload: putGradePayloadType) {\r\n\t\treturn axiosInstance.put<putGradeResponseType>( 'cards/grade', payload );\r\n\t},\r\n};\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/eye.109a1739.svg\";","import React, { ChangeEventHandler, FC, useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport s from './TextFieldEmail.module.scss';\r\nimport eye from '../../../assets/images/auth-img/eye.svg';\r\n\r\ntype LabelType = 'Password' | 'Email' | 'Nickname';\r\n\r\ntype FormPropsType = {\r\n\tcallback?: (value: string) => void;\r\n\tvalue?: string;\r\n\ttype?: LabelType;\r\n\terror?: string | null;\r\n};\r\n\r\nconst SuperTextField: FC<FormPropsType> = ({\r\n\tcallback,\r\n\tvalue,\r\n\ttype,\r\n\terror,\r\n}) => {\r\n\tconst [isPasswordHidden, setPasswordHidden] = useState(type === 'Password');\r\n\tconst onChangeHandler: ChangeEventHandler<\r\n\t\tHTMLInputElement | HTMLTextAreaElement\r\n\t> = (e) => {\r\n\t\tcallback && callback(e.currentTarget.value);\r\n\t};\r\n\r\n\tconst isPasswordHideToggle = () => setPasswordHidden(!isPasswordHidden);\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tcomponent='div'\r\n\t\t\tsx={{\r\n\t\t\t\t'& .MuiTextField-root': { m: 1, width: '346px', margin: '0' },\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div style={{ position: 'relative' }}>\r\n\t\t\t\t{type === 'Password' && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\tsrc={eye}\r\n\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\tonClick={isPasswordHideToggle}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tclassName={s.textField}\r\n\t\t\t\t\tid='standard-password-input'\r\n\t\t\t\t\tlabel={type ? type : ''}\r\n\t\t\t\t\ttype={type && isPasswordHidden ? type : ''}\r\n\t\t\t\t\tautoComplete='current-password'\r\n\t\t\t\t\tvariant='standard'\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={onChangeHandler}\r\n\t\t\t\t\terror={!!error}\r\n\t\t\t\t\thelperText={error}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default SuperTextField;\r\n","import axios from 'axios';\r\n\r\nimport { AppThunk } from './store';\r\nimport { api, updateProfilePayloadType } from '../api/api';\r\n\r\n\r\nexport type OptionalStringType = string | null\r\n\r\nexport type LoginDataType = {\r\n\tavatar: OptionalStringType\r\n\temail: OptionalStringType\r\n\tname: OptionalStringType\r\n\tpublicCardPacksCount: number | null\r\n\t_id: OptionalStringType\r\n\r\n\trememberMe: boolean\r\n\tisAdmin: boolean\r\n\tverified: boolean\r\n\tcreated: OptionalStringType\r\n\tupdated: OptionalStringType\r\n\t__v: number | null\r\n\ttoken: OptionalStringType\r\n\ttokenDeathTime: number | null\r\n}\r\n\r\ntype LoginErrorsStateType = {\r\n\tpasswordError: OptionalStringType\r\n\temailError: OptionalStringType\r\n}\r\n\r\nexport type AuthStateType = typeof initState\r\n\r\nconst initState = {\r\n\tloginData: {\r\n\t\tavatar: null,\r\n\t\temail: null,\r\n\t\tname: null,\r\n\t\tpublicCardPacksCount: null,\r\n\t\t_id: null,\r\n\r\n\t\trememberMe: false,\r\n\t\t__v: null,\r\n\t\tcreated: null,\r\n\t\tupdated: null,\r\n\t\tverified: false,\r\n\t\tisAdmin: false,\r\n\t\ttoken: null,\r\n\t\ttokenDeathTime: null,\r\n\t} as LoginDataType,\r\n\tisAuth: false as boolean,\r\n\terrors: {\r\n\t\tpasswordError: null,\r\n\t\temailError: null,\r\n\t} as LoginErrorsStateType,\r\n};\r\n\r\n\r\nconst authReducer = (state = initState, action: AuthReducerActionTypes): AuthStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SET_LOGIN_DATA':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloginData: {\r\n\t\t\t\t\t...state.loginData,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t},\r\n\t\t\t\tisAuth: true,\r\n\t\t\t};\r\n\t\tcase 'SET_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: {\r\n\t\t\t\t\t...state.errors,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\tcase 'SET_IS_AUTH': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuth: action.isAuth,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'CLEAR_AUTH_DATA':\r\n\t\t\treturn action.initState;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport type AuthReducerActionTypes = SetLoginDataActionType\r\n\t| SetErrorActionType\r\n\t| SetIsAuthActionType\r\n\t| ClearAuthDataActionType\r\n\r\ntype SetLoginDataActionType = ReturnType<typeof setLoginData>\r\ntype SetErrorActionType = ReturnType<typeof setError>\r\ntype SetIsAuthActionType = ReturnType<typeof setIsAuth>\r\ntype ClearAuthDataActionType = ReturnType<typeof clearAuthData>\r\n\r\nconst setLoginData = (payload: LoginDataType) => ( {\r\n\ttype: 'SET_LOGIN_DATA', payload,\r\n} as const );\r\n\r\nconst setIsAuth = (isAuth: boolean) => ( {\r\n\ttype: 'SET_IS_AUTH', isAuth,\r\n} as const );\r\n\r\nexport const clearAuthData = () => ( {\r\n\ttype: 'CLEAR_AUTH_DATA', initState,\r\n} as const );\r\n\r\nexport const setError = (payload: Partial<LoginErrorsStateType>) => ( {\r\n\ttype: 'SET_ERROR',\r\n\tpayload,\r\n} as const );\r\n\r\n\r\ntype LoginValuesType = {\r\n\temail: string\r\n\tpassword: string\r\n\trememberMe: boolean\r\n}\r\n\r\nexport const makeLogin = (loginData: LoginValuesType): AppThunk => async dispatch => {\r\n\ttry {\r\n\t\tconst { data } = await api.login( loginData );\r\n\t\tdispatch( setLoginData( data ) );\r\n\t} catch (error) {\r\n\t\tconst errorMessage = 'Incorrect pair email/password';\r\n\t\tdispatch( setError( { passwordError: errorMessage, emailError: errorMessage } ) );\r\n\t}\r\n};\r\n\r\nexport const checkAuth = (): AppThunk => async dispatch => {\r\n\ttry {\r\n\t\tconst { data } = await api.authMe();\r\n\t\tdispatch( setLoginData( data ) );\r\n\t} catch (e) {\r\n\t\tconsole.log( e );\r\n\t}\r\n};\r\n\r\nexport const makeLogout = (): AppThunk => async dispatch => {\r\n\ttry {\r\n\t\tconst { data: { error, info } } = await api.logOut();\r\n\t\tdispatch( clearAuthData() );\r\n\t\tconsole.log( { error, info } );\r\n\t} catch (e) {\r\n\t\tif (axios.isAxiosError( e ) && e.response) {\r\n\t\t\tconsole.log( e.response.data.error );\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const updateProfile = (payload: updateProfilePayloadType): AppThunk => async dispatch => {\r\n\ttry {\r\n\t\tconst { data: { updatedUser } } = await api.updateProfile( payload );\r\n\t\tdispatch( setLoginData( updatedUser ) );\r\n\t} catch (e) {\r\n\t\tif (axios.isAxiosError( e ) && e.response) {\r\n\t\t\tconsole.log( e.response.data.error );\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nexport default authReducer;","import { RootState } from '../../redux/store';\r\nimport { LoginDataType, OptionalStringType } from '../../redux/authReducer';\r\nimport { cardsType } from '../../redux/cards-reducer';\r\nimport { packType } from '../../redux/packs-reducer';\r\nimport { isLoadingStatus } from '../../redux/appReducer';\r\n\r\n// auth selectors\r\n\r\nexport const selectIsAuth = (state: RootState): boolean => state.auth.isAuth;\r\nexport const selectLoginData = (state: RootState): LoginDataType => state.auth.loginData;\r\nexport const selectAutorisedUserId = (state: RootState): OptionalStringType => state.auth.loginData._id;\r\nexport const selectEmail = (state: RootState): OptionalStringType => state.auth.loginData.email;\r\nexport const selectUserName = (state: RootState): OptionalStringType => state.auth.loginData.name;\r\n\r\n\r\nexport const selectEmailError = (state: RootState): OptionalStringType => state.auth.errors.emailError;\r\nexport const selectPasswordError = (state: RootState): OptionalStringType => state.auth.errors.passwordError;\r\n\r\n// packs selectors\r\n\r\nexport const selectPacksPageNumber = (state: RootState): number => state.packsReducer.page;\r\nexport const selectPacksPageSize = (state: RootState): number => state.packsReducer.pageCount;\r\nexport const selectPacksTotalCount = (state: RootState): number => state.packsReducer.cardPacksTotalCount;\r\nexport const selectCurrentPack = (state: RootState): null | packType => state.packsReducer.currentPack;\r\nexport const selectCurrentPackId = (state: RootState): string | undefined => state.packsReducer.currentPack?._id;\r\nexport const selectSortPacks = (state: RootState): string => state.packsReducer.sortPacks;\r\n\r\n\r\n// cards selectors\r\n\r\nexport const selectCards = (state: RootState): cardsType[] => state.cardsReducer.cards;\r\nexport const selectCardsPageNumber = (state: RootState): number => state.cardsReducer.page;\r\nexport const selectCardsPageSize = (state: RootState): number => state.cardsReducer.pageCount;\r\nexport const selectCardsTotalCount = (state: RootState): number => state.cardsReducer.cardsTotalCount;\r\nexport const selectSortCards = (state: RootState): string => state.cardsReducer.sortCards;\r\n\r\n\r\n// search selectors\r\n\r\nexport const minCardsInPackNumber = (state: RootState): number => state.packsReducer.minRangeSearchSlider;\r\nexport const maxCardsInPackNumber = (state: RootState): number => state.packsReducer.maxRangeSearchSlider;\r\nexport const maxCardsRangeInPackNumber = (state: RootState): number => state.packsReducer.maxCardsCount;\r\n\r\n\r\n// app selector\r\nexport const isLoading = (state: RootState): isLoadingStatus => state.appReducer.isLoading;\r\n\r\n\r\n\r\n","import { Dispatch } from 'redux';\r\n\r\nimport { StatusType } from './new-password-reducer';\r\nimport { changePasswordAPI } from '../api/api';\r\n\r\n\r\ntype ForgotInitialStateType = ReturnType<typeof SendEmailAC> | ReturnType<typeof SetStatusAC>\r\n\r\nexport type TypeInitialState = {\r\n\tisSendEmail: boolean\r\n\tstatus: StatusType\r\n}\r\n\r\nconst initialState: TypeInitialState = {\r\n\tisSendEmail: false,\r\n\tstatus: 'error',\r\n};\r\n\r\nexport const forgotReducer = (state = initialState, action: ForgotInitialStateType): TypeInitialState => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SET_STATUS':\r\n\t\t\treturn { ...state, status: action.value };\r\n\t\tcase 'SEND_IS_EMAIL':\r\n\t\t\treturn { ...state, isSendEmail: action.isEmail };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const SendEmailAC = (isEmail: boolean) => ( { type: 'SEND_IS_EMAIL', isEmail } as const );\r\nexport const SetStatusAC = (value: StatusType) => ( { type: 'SET_STATUS', value } as const );\r\n\r\nexport const SendEmailTC = (email: string) => async (dispatch: Dispatch<ForgotInitialStateType>) => {\r\n\tdispatch( SetStatusAC( 'loading' ) );\r\n\ttry {\r\n\t\tconst { data } = await changePasswordAPI.sendMessagePassword( email );\r\n\t\tdispatch( SendEmailAC( true ) );\r\n\t\tdispatch( SetStatusAC( 'ready' ) );\r\n\t\tconsole.log( data );\r\n\t} catch (e) {\r\n\t\tdispatch( SetStatusAC( 'error' ) );\r\n\t\tconsole.log( e );\r\n\t}\r\n};\r\n","import { Dispatch } from 'redux';\r\n\r\nimport { changePasswordAPI } from '../api/api';\r\n\r\n\r\nexport type StatusType = 'loading' | 'error' | 'ready'\r\n\r\ntype ActionType = ReturnType<typeof ChangeStatus>\r\n\r\nexport type NewPasswordType = typeof initialState\r\nconst initialState = {\r\n\tstatus: 'error' as StatusType,\r\n};\r\n\r\nexport const newPasswordReducer = (state = initialState, action: ActionType) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'CHANGE_STATUS':\r\n\t\t\treturn { ...state, status: action.status };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const ChangeStatus = (status: string) => ( { type: 'CHANGE_STATUS', status } as const );\r\n\r\nexport const createNewPasswordTC = (password: string, token: string) => async (dispatch: Dispatch<ActionType>) => {\r\n\tdispatch( ChangeStatus( 'loading' ) );\r\n\ttry {\r\n\t\tconst { data } = await changePasswordAPI.newPassword( password, token );\r\n\t\tdispatch( ChangeStatus( 'ready' ) );\r\n\t\tconsole.log( data );\r\n\t} catch (e) {\r\n\t\tdispatch( ChangeStatus( 'error' ) );\r\n\t\tconsole.log( e );\r\n\t}\r\n};","const initialState: InitialStateType = {\r\n\terror: null,\r\n};\r\n\r\nexport const errorReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase 'APP/SET-ERROR':\r\n\t\t\treturn { ...state, error: action.error };\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport type InitialStateType = {\r\n\terror: string | null\r\n}\r\n\r\nexport const setErrorAC = (error: string | null) => ( { type: 'APP/SET-ERROR', error } as const );\r\n\r\n\r\nexport type SetErrorActionType = ReturnType<typeof setErrorAC>\r\n\r\n\r\ntype ActionsType = SetErrorActionType\r\n\r\n\r\n","import { Dispatch } from 'redux';\r\n\r\nimport { RootState } from './store';\r\nimport { api } from '../api/api';\r\nimport { setErrorAC } from './errorReducer';\r\n\r\n\r\nconst initialState: InitialStateType = {\r\n\tstatus: 'loading',\r\n\tisLoading: true,\r\n\tisRegistered: false,\r\n\r\n};\r\n\r\nexport const registerReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'REGISTER/SET-STATUS': {\r\n\t\t\treturn { ...state, status: action.status };\r\n\t\t}\r\n\r\n\t\tcase 'REGISTER/SET-REGISTERED-STATUS': {\r\n\t\t\treturn { ...state, isRegistered: action.isRegistered };\r\n\t\t}\r\n\t\tcase 'REGISTER/SET-LOADING-STATUS': {\r\n\t\t\treturn { ...state, isLoading: action.isLoading };\r\n\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport type RequestStatusType = 'loading' | 'succeeded'\r\nexport type InitialStateType = {\r\n\tstatus: RequestStatusType\r\n\tisRegistered: boolean\r\n\tisLoading: boolean\r\n}\r\n\r\n\r\nexport const SetStatusAC = (status: RequestStatusType) => ({\r\n\ttype: 'REGISTER/SET-STATUS',\r\n\tstatus,\r\n} as const);\r\n\r\nexport const SetRegisteredStatusAC = (isRegistered: boolean) => ({\r\n\ttype: 'REGISTER/SET-REGISTERED-STATUS',\r\n\tisRegistered,\r\n} as const);\r\n\r\nexport const SetLoadingStatusAC = (isLoading: boolean) => ({\r\n\ttype: 'REGISTER/SET-LOADING-STATUS',\r\n\tisLoading,\r\n} as const);\r\n\r\nexport type SetRegisteredStatusActionType = ReturnType<typeof SetRegisteredStatusAC>\r\nexport type SetStatusActionType = ReturnType<typeof SetStatusAC>\r\nexport type SetLoadingStatusActionType = ReturnType<typeof SetLoadingStatusAC>\r\n\r\n\r\ntype ActionsType =\r\n\t| SetStatusActionType\r\n\t| SetRegisteredStatusActionType\r\n\t| SetLoadingStatusActionType\r\n\r\nexport type RegistrationRequestType = {\r\n\temail: string\r\n\tpassword: string\r\n\r\n}\r\n\r\n\r\nexport type RegistrationResponseType = {\r\n\taddedUser: {}\r\n\terror?: string\r\n}\r\n\r\nexport const registerTC = (email: string, password: string) => (dispatch: Dispatch, getState: () => RootState) => {\r\n\t// dispatch(SetLoadingStatusAC(true));\r\n\r\n\tapi.registration({ email, password })\r\n\t\t.then((res) => {\r\n\t\t\tdispatch(SetRegisteredStatusAC(true));\r\n\t\t\tconsole.log(res.data);\r\n\r\n\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tdispatch(setErrorAC('Incorrect pair email/password'));\r\n\r\n\t\t})\r\n\t\t.finally(() => {\r\n\t\t\t// dispatch(SetLoadingStatusAC(false));\r\n\t\t});\r\n\r\n};\r\n\r\n","export type isLoadingStatus = 'idle' | 'loading' | 'succeeded' | 'failed'\r\n\r\n\r\nexport type InitialStateType = {\r\n\tisLoading: isLoadingStatus\r\n}\r\n\r\n\r\nconst initialState: InitialStateType = {\r\n\tisLoading: 'idle',\r\n};\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase 'APP/SET-LOADING-STATUS':\r\n\t\t\treturn { ...state, isLoading: action.isLoading };\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n\r\nexport const setLoadingStatusAC = (isLoading: isLoadingStatus) => ({\r\n\ttype: 'APP/SET-LOADING-STATUS',\r\n\tisLoading,\r\n} as const);\r\n\r\n\r\nexport type setLoadingStatusActionType = ReturnType<typeof setLoadingStatusAC>\r\n\r\n\r\ntype ActionsType = setLoadingStatusActionType\r\n\r\n","import axios from 'axios';\r\n\r\nimport { AppThunk, RootState } from './store';\r\nimport { cardsApi, getPacksPayloadType, getPacksResponseType } from '../api/api';\r\nimport { clearAuthData } from './authReducer';\r\nimport { setLoadingStatusAC } from './appReducer';\r\n\r\n\r\nexport type packType = {\r\n\t_id: string\r\n\tuser_id: string\r\n\tname: string\r\n\tpath: string\r\n\tcardsCount: number\r\n\tgrade: number\r\n\tshots: number\r\n\trating: number\r\n\ttype: string\r\n\tcreated: string\r\n\tupdated: string\r\n\t__v: number\r\n\tprivate: boolean\r\n\tuser_name: string\r\n}\r\n\r\nexport type PacksReducerStateType = typeof initialState\r\n\r\nconst initialState = {\r\n\tcardPacks: [] as packType[],\r\n\tcardPacksTotalCount: 1 as number,\r\n\tmaxCardsCount: Infinity as number,\r\n\tminCardsCount: 0 as number,\r\n\tpage: 1 as number,\r\n\tpageCount: 4 as number,\r\n\ttoken: null as null | string,\r\n\ttokenDeathTime: null as null | number,\r\n\tcurrentPack: null as null | packType,\r\n\tminRangeSearchSlider: 0 as number,\r\n\tmaxRangeSearchSlider: 0 as number,\r\n\tsortPacks: '0name' as string,\r\n};\r\n\r\nexport const packsReducer = (state = initialState, action: ActionsType): PacksReducerStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'PACKS/SET-PACKS': {\r\n\t\t\treturn { ...state, ...action.payload };\r\n\t\t}\r\n\t\tcase 'PACKS/SET_PAGE':\r\n\t\t\treturn { ...state, page: action.page };\r\n\t\tcase 'PACKS/SET_PAGE_COUNT':\r\n\t\t\treturn { ...state, pageCount: action.pageCount };\r\n\t\tcase 'PACKS/SET_CURRENT_PACK':\r\n\t\t\treturn { ...state, currentPack: action.pack };\r\n\t\tcase 'SET_NEW_SEARCH_RANGE': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tminRangeSearchSlider: action.minRangeSearchSlider,\r\n\t\t\t\tmaxRangeSearchSlider: action.maxRangeSearchSlider,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'SET_PACKS_SORT': {\r\n\t\t\treturn { ...state, sortPacks: action.sortPacks };\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setPacks = (payload: getPacksResponseType) => ({\r\n\t\ttype: 'PACKS/SET-PACKS',\r\n\t\tpayload,\r\n\t} as const\r\n);\r\nexport const setPacksPage = (page: number) => ({\r\n\ttype: 'PACKS/SET_PAGE', page,\r\n} as const);\r\nexport const setPacksPageCount = (pageCount: number) => ({\r\n\ttype: 'PACKS/SET_PAGE_COUNT', pageCount,\r\n} as const);\r\n\r\nexport const setCurrentPack = (pack: packType) => ({\r\n\ttype: 'PACKS/SET_CURRENT_PACK', pack,\r\n} as const);\r\nexport const SetRangeCardsAC = (minRangeSearchSlider: number, maxRangeSearchSlider: number) => ({\r\n\ttype: 'SET_NEW_SEARCH_RANGE',\r\n\tminRangeSearchSlider,\r\n\tmaxRangeSearchSlider,\r\n} as const);\r\n\r\nexport const setPacksSort = (sortPacks: string) => ({\r\n\ttype: 'SET_PACKS_SORT',\r\n\tsortPacks,\r\n} as const);\r\n\r\ntype setRangeActionType = ReturnType<typeof SetRangeCardsAC>\r\nexport type setPacksActionType = ReturnType<typeof setPacks>\r\nexport type setPageActionType = ReturnType<typeof setPacksPage>\r\nexport type setPageCountActionType = ReturnType<typeof setPacksPageCount>\r\nexport type setCurrentPackActionType = ReturnType<typeof setCurrentPack>\r\nexport type setPacksSortActionType = ReturnType<typeof setPacksSort>\r\n\r\ntype ActionsType =\r\n\tsetPacksActionType\r\n\t| setPageActionType\r\n\t| setPageCountActionType\r\n\t| setCurrentPackActionType\r\n\t| setRangeActionType\r\n\t| setPacksSortActionType\r\n\r\n\r\nexport const getPacks = (payload?: getPacksPayloadType): AppThunk => (dispatch, getState) => {\r\n\tconst {\r\n\t\tpage,\r\n\t\tpageCount,\r\n\t\tmaxCardsCount,\r\n\t\tsortPacks,\r\n\t\tminCardsCount,\r\n\t} = getState().packsReducer;\r\n\r\n\tdispatch(setLoadingStatusAC('loading'))\r\n\tcardsApi.getPacks({\r\n\t\tmin: minCardsCount,\r\n\t\tmax: maxCardsCount,\r\n\t\tpage,\r\n\t\tpageCount,\r\n\t\tsortPacks,\r\n\t\t...payload,\r\n\t})\r\n\t\t.then((res) => {\r\n\t\t\tdispatch(setPacks(res.data));\r\n\t\t\tdispatch(setLoadingStatusAC('idle'))\r\n\t\t\t// dispatch(SetRangeCardsAC(0, res.data.maxCardsCount));\r\n\t\t})\r\n\t\t.catch((e) => {\r\n\t\t\tif (axios.isAxiosError(e) && e.response && e.response.status === 401) {\r\n\t\t\t\tdispatch(clearAuthData());\r\n\t\t\t}\r\n\t\t});\r\n};\r\n\r\nexport const deletePackTC = (idPack: string, user_id?: string): AppThunk => async (dispatch) => {\r\n\ttry {\r\n\t\tawait cardsApi.deletePack(idPack);\r\n\t\tdispatch(getPacks({ user_id }));\r\n\t} catch (e) {\r\n\t\tif (axios.isAxiosError(e) && e.response) {\r\n\t\t\tconsole.log(e.response.data.error);\r\n\t\t}\r\n\t}\r\n};\r\nexport const updatePackTC = (payload: packType, user_id?: string): AppThunk => async (dispatch, getState: () => RootState) => {\r\n\ttry {\r\n\t\tconst pack = getState().packsReducer.cardPacks.find(item => item._id === payload._id);\r\n\t\tif (!pack) {\r\n\t\t\tthrow new Error('Pack not found in the state');\r\n\t\t}\r\n\t\tconst updatePack = { ...pack, ...payload };\r\n\t\tawait cardsApi.updatePack(updatePack);\r\n\r\n\t\tdispatch(getPacks({ ...payload, user_id }));\r\n\r\n\t} catch (e) {\r\n\t\tif (axios.isAxiosError(e) && e.response) {\r\n\t\t\tconsole.log(e.response.data.error);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nexport const createPack = (name: string, user_id?: string): AppThunk => (dispatch) => {\r\n\tcardsApi.createPack({ name })\r\n\t\t.then(() => {\r\n\t\t\tdispatch(getPacks({ user_id }));\r\n\t\t});\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n\tcardsApi,\r\n\tcreateCardParamsType,\r\n\tgetCardsPayloadType,\r\n\tgetCardsResponseType,\r\n\tputGradePayloadType,\r\n} from '../api/api';\r\nimport { AppThunk } from './store';\r\nimport { clearAuthData } from './authReducer';\r\nimport { setLoadingStatusAC } from './appReducer';\r\n\r\n\r\nconst initialState: cardsUserType = {\r\n\tcards: [],\r\n\tcardsTotalCount: 0,\r\n\tmaxGrade: 0,\r\n\tminGrade: 0,\r\n\tpage: 1,\r\n\tpageCount: 4,\r\n\tpackUserId: '',\r\n\tsortCards: '0grade',\r\n\tcardQuestion: '',\r\n};\r\n\r\nexport type cardsUserType = {\r\n\tcards: Array<cardsType>\r\n\tcardsTotalCount: number\r\n\tmaxGrade: number\r\n\tminGrade: number\r\n\tpage: number\r\n\tpageCount: number\r\n\tpackUserId: string\r\n\tsortCards: string\r\n\tcardQuestion: string\r\n}\r\n\r\nexport type cardsType = {\r\n\tanswer: string\r\n\tquestion: string\r\n\tcardsPack_id: string\r\n\tgrade: number\r\n\trating?: number\r\n\tshots: number\r\n\ttype?: string\r\n\tuser_id: string\r\n\tcreated: string\r\n\tupdated: string\r\n\t__v?: number\r\n\t_id: string\r\n}\r\n\r\n\r\nexport const cardsReducer = (state = initialState, action: ActionCardsType): cardsUserType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_CARDS':\r\n\t\t\treturn { ...state, cards: action.cards };\r\n\t\tcase 'SET_CARDS_PAGE':\r\n\t\t\treturn { ...state, page: action.page };\r\n\t\tcase 'SET_CARDS_PAGE_COUNT':\r\n\t\t\treturn { ...state, pageCount: action.pageCount };\r\n\t\tcase 'SET_CARDS_STATE':\r\n\t\t\treturn { ...state, ...action.state };\r\n\t\tcase 'SET_CARDS_SORT':\r\n\t\t\treturn { ...state, sortCards: action.sortCards };\r\n\t\tcase 'SET_NEW_RANGE': {\r\n\t\t\treturn { ...state, minGrade: action.minGrade, maxGrade: action.maxGrade };\r\n\t\t}\r\n\t\tcase 'SET_CARDS_QUESTION':\r\n\t\t\treturn { ...state, cardQuestion: action.cardQuestion };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport  type ActionCardsType = AddCardsActionType\r\n\t| setCardsStateActionType\r\n\t| setCardsPageActionType\r\n\t| setCardsPageCountActionType\r\n\t| setCardsSortActionType\r\n\t| setRangeActionType\r\n\t| setCardsQuestionActionType\r\n\r\n\r\ntype AddCardsActionType = ReturnType<typeof AddCardsAC>\r\ntype setCardsStateActionType = ReturnType<typeof setCardsState>\r\ntype setCardsPageActionType = ReturnType<typeof setCardsPage>\r\ntype setCardsPageCountActionType = ReturnType<typeof setCardsPageCount>\r\nexport type setCardsSortActionType = ReturnType<typeof setCardsSort>\r\ntype setRangeActionType = ReturnType<typeof SetRangeCardsAC>\r\ntype setCardsQuestionActionType = ReturnType<typeof setCardsQuestion>\r\n\r\nexport const AddCardsAC = (cards: Array<cardsType>) => ( { type: 'ADD_CARDS', cards } as const );\r\nexport const setCardsPage = (page: number) => ( { type: 'SET_CARDS_PAGE', page } as const );\r\nexport const setCardsPageCount = (pageCount: number) => ( { type: 'SET_CARDS_PAGE_COUNT', pageCount } as const );\r\nexport const setCardsState = (state: getCardsResponseType) => ( { type: 'SET_CARDS_STATE', state } as const );\r\nexport const setCardsSort = (sortCards: string) => ( { type: 'SET_CARDS_SORT', sortCards } as const );\r\nexport const SetRangeCardsAC = (minGrade: number, maxGrade: number) => ( {\r\n\ttype: 'SET_NEW_RANGE',\r\n\tminGrade,\r\n\tmaxGrade,\r\n} as const );\r\nexport const setCardsQuestion = (cardQuestion: string) => ( {\r\n\ttype: 'SET_CARDS_QUESTION',\r\n\tcardQuestion,\r\n} as const );\r\n\r\nexport const getCards = (payload: getCardsPayloadType): AppThunk => (dispatch, getState) => {\r\n\tdispatch(setLoadingStatusAC('loading'))\r\n\tconst { page, pageCount, sortCards, cardQuestion } = getState().cardsReducer;\r\n\tcardsApi.getCards( { page, pageCount, sortCards, cardQuestion, ...payload } )\r\n\t\t.then( (res) => {\r\n\t\t\tdispatch( setCardsState( res.data ) );\r\n\t\t\tdispatch(setLoadingStatusAC('idle'))\r\n\t\t} )\r\n\t\t.catch( (e) => {\r\n\t\t\tif (axios.isAxiosError( e ) && e.response && e.response.status === 401) {\r\n\t\t\t\tdispatch( clearAuthData() );\r\n\t\t\t}\r\n\t\t} );\r\n};\r\n\r\n\r\nexport const CreateCardTC = (payload: createCardParamsType): AppThunk => async dispatch => {\r\n\ttry {\r\n\t\tawait cardsApi.createCard( payload );\r\n\t\tdispatch( getCards( { cardsPack_id: payload.cardsPack_id } ) );\r\n\t} catch (err) {\r\n\t\tconsole.log( err );\r\n\t}\r\n};\r\n\r\nexport const DeleteCardTC = (cardID: string, cardsPack_id: string): AppThunk => async dispatch => {\r\n\ttry {\r\n\t\tawait cardsApi.deleteCard( cardID );\r\n\t\tdispatch( getCards( { cardsPack_id } ) );\r\n\t} catch (err) {\r\n\t\tconsole.log( err );\r\n\t}\r\n};\r\n\r\nexport const UpdateCardTC = (payload: cardsType): AppThunk => async (dispatch) => {\r\n\ttry {\r\n\t\tawait cardsApi.updateCard( payload );\r\n\t\tdispatch( getCards( { cardsPack_id: payload.cardsPack_id } ) );\r\n\t} catch (err) {\r\n\t\tconsole.log( err );\r\n\t}\r\n};\r\n\r\nexport const putGrade = (payload: putGradePayloadType): AppThunk => async (dispatch) => {\r\n\ttry {\r\n\t\tconst { data: { updatedGrade: { cardsPack_id } } } = await cardsApi.putGrade( payload );\r\n\t\tdispatch( getCards( {cardsPack_id, pageCount: 100000} ) );\r\n\r\n\t} catch (e) {\r\n\t\tif (axios.isAxiosError( e ) && e.response && e.response.status === 401) {\r\n\t\t\tdispatch( clearAuthData() );\r\n\t\t}\r\n\t}\r\n};\r\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\r\nimport { AnyAction, applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport thunk, { ThunkAction } from 'redux-thunk';\r\n\r\nimport { forgotReducer } from './forgot-reducer';\r\nimport { newPasswordReducer } from './new-password-reducer';\r\nimport auth from './authReducer';\r\nimport { registerReducer } from './register-reducer';\r\nimport { errorReducer } from './errorReducer';\r\nimport { packsReducer } from './packs-reducer';\r\nimport {cardsReducer} from \"./cards-reducer\";\r\nimport { appReducer } from './appReducer';\r\n\r\n\r\nconst rootReducer = combineReducers( {\r\n\tauth,\r\n\tregisterReducer,\r\n\tforgotReducer,\r\n\tnewPasswordReducer,\r\n\terrorReducer,\r\n\tpacksReducer,\r\n\tcardsReducer,\r\n\tappReducer,\r\n} );\r\n\r\nexport type AppStoreType = ReturnType<typeof rootReducer>\r\nexport const useAppSelector: TypedUseSelectorHook<AppStoreType> = useSelector;\r\n\r\nexport const store = createStore( rootReducer, applyMiddleware( thunk ) );\r\n\r\n//@ts-ignore\r\nwindow.store = store;\r\n\r\n// type AllActionsType = AuthReducerActionTypes\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, RootState, unknown, AnyAction>","import React, { ChangeEvent, FormEventHandler, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, Navigate } from 'react-router-dom';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport SuperTextField from '../../mui/text-field/SuperTextField';\r\nimport {\r\n\tmakeLogin,\r\n\tOptionalStringType,\r\n\tsetError,\r\n} from '../../../redux/authReducer';\r\nimport {\r\n\tselectEmailError,\r\n\tselectIsAuth,\r\n\tselectPasswordError,\r\n} from '../../../assets/selectors/authSelectors';\r\nimport s from './AuthLogin.module.scss';\r\nimport { useAppSelector } from '../../../redux/store';\r\n\r\nconst checkEmailValidity = (value: string) => {\r\n\tconst reg = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\treturn reg.test(value);\r\n};\r\n\r\nfunction AuthLogin() {\r\n\tconst isAuth = useAppSelector<boolean>(selectIsAuth);\r\n\t// const [email, setEmail] = useState( 't9371100211@gmail.com' );\r\n\t// const [password, setPassword] = useState( '12345678' );\r\n\tconst [email, setEmail] = useState('t9371100211@gmail.comm');\r\n\tconst [password, setPassword] = useState('12345678');\r\n\t// const [email, setEmail] = useState('t9371100211@gmail.commm');\r\n\t// const [password, setPassword] = useState('12345678');\r\n\tconst [rememberMe, setRememberMe] = useState(false);\r\n\tconst emailError = useAppSelector<OptionalStringType>(selectEmailError);\r\n\tconst passwordError = useAppSelector<OptionalStringType>(selectPasswordError);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst setAllErrors = (errorMessage: OptionalStringType) => {\r\n\t\tdispatch(\r\n\t\t\tsetError({ passwordError: errorMessage, emailError: errorMessage }),\r\n\t\t);\r\n\t};\r\n\r\n\tconst onSubmitHandler: FormEventHandler<HTMLFormElement> = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (!checkEmailValidity(email)) {\r\n\t\t\tdispatch(setError({ emailError: 'not valid email' }));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (password.length < 8) {\r\n\t\t\tsetAllErrors('Incorrect pair email/password');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdispatch(makeLogin({ email, password, rememberMe }));\r\n\t};\r\n\r\n\tconst emailChangeHandler = (value: string) => {\r\n\t\tsetEmail(value);\r\n\r\n\t\temailError && setAllErrors(null);\r\n\t};\r\n\r\n\tconst passwordChangeHandler = (value: string) => {\r\n\t\tsetPassword(value);\r\n\r\n\t\tpasswordError && setAllErrors(null);\r\n\t};\r\n\r\n\tconst onCheckboxClickHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetRememberMe(e.currentTarget.checked);\r\n\t};\r\n\r\n\tif (isAuth) {\r\n\t\treturn <Navigate to='/profile' />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.login}>\r\n\t\t\t<div className={s.wrap}>\r\n\t\t\t\t<form className={s.form} onSubmit={onSubmitHandler}>\r\n\t\t\t\t\t<h2 className={s.title}>It-incubator</h2>\r\n\t\t\t\t\t<h3 className={s.subtitle}>Sign In</h3>\r\n\t\t\t\t\t<div className={s.email}>\r\n\t\t\t\t\t\t<SuperTextField\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tcallback={emailChangeHandler}\r\n\t\t\t\t\t\t\ttype={'Email'}\r\n\t\t\t\t\t\t\terror={emailError}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<SuperTextField\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tcallback={passwordChangeHandler}\r\n\t\t\t\t\t\t\ttype={'Password'}\r\n\t\t\t\t\t\t\t// isHide={ isPasswordHidden }\r\n\t\t\t\t\t\t\terror={passwordError}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.checkboxAndFogot}>\r\n\t\t\t\t\t\t<div className={s.checkbox}>\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tchecked={rememberMe}\r\n\t\t\t\t\t\t\t\tonChange={onCheckboxClickHandler}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<p className={s.checkboxText}>remember me</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Link className={s.linkNewPass} to='/change-password'>\r\n\t\t\t\t\t\t\tForgot Password\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*<CircularProgress />*/}\r\n\t\t\t\t\t<button className={s.btn} disabled={!email || !password}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<div className={s.wrapLink}>\r\n\t\t\t\t\t<span className={s.linkNewAcc}>Don’t have an account?</span>\r\n\t\t\t\t\t<Link className={s.linkReg} to='/registration'>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AuthLogin;\r\n","export default __webpack_public_path__ + \"static/media/letter.bc3a4042.svg\";","import s from './CheckEmail.module.scss';\r\nimport letter from '../../../assets/images/auth-img/letter.svg';\r\n\r\nconst data = {\r\n\temail: 'example@mail.com',\r\n};\r\n\r\nfunction CheckEmail() {\r\n\treturn (\r\n\t\t<div className={s.check}>\r\n\t\t\t<div className={s.wrap}>\r\n\t\t\t\t<h2 className={s.title}>It-incubator</h2>\r\n\t\t\t\t<img className={s.img} src={letter} alt='' />\r\n\t\t\t\t<h3 className={s.subtitle}>Check Email</h3>\r\n\t\t\t\t<div className={s.content}>\r\n\t\t\t\t\t<p className={s.textInfo}>\r\n\t\t\t\t\t\tWe’ve sent an Email with instructions to {data.email}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CheckEmail;\r\n","import React, { FormEvent, useState } from 'react';\r\nimport TextField from '@mui/material/TextField';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport s from './FogotPassword.module.scss';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport { SendEmailTC } from '../../../redux/forgot-reducer';\r\nimport CheckEmail from '../chek-email/CheckEmail';\r\nimport { StatusType } from '../../../redux/new-password-reducer';\r\nimport { Status } from '../../../api/api';\r\n\r\nfunction ForgotPassword() {\r\n\tconst dispatch = useDispatch();\r\n\tconst [valid, setValid] = useState<boolean>(false);\r\n\tconst [email, setEmail] = useState<string>('');\r\n\tconst isEmail = useAppSelector<boolean>(\r\n\t\t(state) => state.forgotReducer.isSendEmail,\r\n\t);\r\n\tconst isStatus = useAppSelector<StatusType>(\r\n\t\t(state) => state.forgotReducer.status,\r\n\t);\r\n\tconst handlerEmail = (value: string) => setEmail(value);\r\n\tconst checkEmailValidity = (e: FormEvent, value: string) => {\r\n\t\te.preventDefault();\r\n\t\tconst reg = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\t\treg.test(value) ? dispatch(SendEmailTC(value)) : setValid(true);\r\n\t};\r\n\tif (isEmail) return <CheckEmail />;\r\n\treturn (\r\n\t\t<div className={s.login}>\r\n\t\t\t<div className={s.wrap}>\r\n\t\t\t\t<form className={s.form} onSubmit={(e) => checkEmailValidity(e, email)}>\r\n\t\t\t\t\t<h2 className={s.title}>It-incubator</h2>\r\n\t\t\t\t\t<h3 className={s.subtitle}>Forgot your password?</h3>\r\n\t\t\t\t\t<div className={s.content}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\t\tvariant='standard'\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => handlerEmail(e.currentTarget.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{valid && <p className={s.error}>incorrect email</p>}\r\n\t\t\t\t\t\t<p className={s.textInfo}>\r\n\t\t\t\t\t\t\tEnter your email address and we will send you further instructions\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{isStatus === Status.loading ? (\r\n\t\t\t\t\t\t<h3 className={s.waiting}>Please waiting...</h3>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<button className={s.btn}>Send Instructions</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</form>\r\n\t\t\t\t<div className={s.wrapLink}>\r\n\t\t\t\t\t<span className={s.linkMemor}>Did you remember your password?</span>\r\n\t\t\t\t\t<Link className={s.trylog} to='/login'>\r\n\t\t\t\t\t\tTry logging in\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import React, { FormEvent, useState } from 'react';\r\nimport { Navigate, useParams } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { TextField } from '@mui/material';\r\nimport s from './CreatNewPass.module.scss';\r\nimport {\r\n\tcreateNewPasswordTC,\r\n\tNewPasswordType,\r\n} from '../../../redux/new-password-reducer';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport { Status } from '../../../api/api';\r\n\r\nexport type sd = {\r\n\tid: string;\r\n};\r\n\r\nfunction CreatNewPass() {\r\n\tconst dispatch = useDispatch();\r\n\tconst status = useAppSelector<NewPasswordType>(\r\n\t\t(state) => state.newPasswordReducer,\r\n\t);\r\n\tconst [text, setText] = useState('');\r\n\tconst { id } = useParams();\r\n\tconst onSubmit = (e: FormEvent) => {\r\n\t\te.preventDefault();\r\n\t\t// @ts-ignore\r\n\t\tdispatch(createNewPasswordTC(text, id));\r\n\t\tsetText('');\r\n\t};\r\n\tif (Status.ready === status.status) return <Navigate to='/login' />;\r\n\treturn (\r\n\t\t<div className={s.login}>\r\n\t\t\t<div className={s.wrap}>\r\n\t\t\t\t<form className={s.form} onSubmit={onSubmit}>\r\n\t\t\t\t\t<h2 className={s.title}>It-incubator</h2>\r\n\t\t\t\t\t<h3 className={s.subtitle}>Create new password</h3>\r\n\t\t\t\t\t<div className={s.content}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\t\tonChange={(e) => setText(e.currentTarget.value)}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\tvariant='standard'\r\n\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{text.length <= 7 && text.length >= 1 ? (\r\n\t\t\t\t\t\t\t<p className={s.error}>password must be more than 7 characters</p>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<p className={s.textInfo}>\r\n\t\t\t\t\t\t\tCreate new password and we will send you further instructions to\r\n\t\t\t\t\t\t\temail\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{status.status === Status.loading ? (\r\n\t\t\t\t\t\t<h3 className={s.waiting}>Please waiting...</h3>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<button disabled={text.length <= 7} className={s.btn}>\r\n\t\t\t\t\t\t\tCreate new password\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CreatNewPass;\r\n","import React from 'react';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert, { AlertProps } from '@mui/material/Alert';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setErrorAC } from '../../../redux/errorReducer';\r\nimport { useAppSelector } from '../../../redux/store';\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>((props, ref) => (\r\n\t<MuiAlert elevation={6} ref={ref} variant='filled' {...props} />\r\n));\r\n\r\nexport function ErrorSnackbar() {\r\n\tconst error = useAppSelector<string | null>(\r\n\t\t(state) => state.errorReducer.error,\r\n\t);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleClose = (\r\n\t\tevent?: React.SyntheticEvent | Event,\r\n\t\treason?: string,\r\n\t) => {\r\n\t\tif (reason === 'clickaway') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdispatch(setErrorAC(null));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Snackbar\r\n\t\t\topen={error !== null}\r\n\t\t\tautoHideDuration={5000}\r\n\t\t\tonClose={handleClose}\r\n\t\t>\r\n\t\t\t<Alert onClose={handleClose} severity='error' sx={{ width: '100%' }}>\r\n\t\t\t\t{error}\r\n\t\t\t</Alert>\r\n\t\t</Snackbar>\r\n\t);\r\n}\r\n","import React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport {\r\n\tregisterTC,\r\n\tRequestStatusType,\r\n\tSetStatusAC,\r\n} from '../../../redux/register-reducer';\r\nimport styles from './Register.module.scss';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport { ErrorSnackbar } from '../../common/error/ErrorSnackbar';\r\n\r\nexport const Register = React.memo(() => {\r\n\tconst [email, setEmail] = useState<string>('');\r\n\tconst [password, setPassword] = useState<string>('');\r\n\tconst [confirm, setConfirm] = useState<string>('');\r\n\tconst [inputType, setInputType] = useState<boolean>(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst status = useAppSelector<RequestStatusType>(\r\n\t\t(state) => state.registerReducer.status,\r\n\t);\r\n\tconst isRegistered = useAppSelector<boolean>(\r\n\t\t(state) => state.registerReducer.isRegistered,\r\n\t);\r\n\tconst isLoading = useAppSelector<boolean>(\r\n\t\t(state) => state.registerReducer.isLoading,\r\n\t);\r\n\r\n\tconst onEmailHandle = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetEmail(e.currentTarget.value);\r\n\t};\r\n\tconst onPasswordHandle = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetPassword(e.currentTarget.value);\r\n\t};\r\n\tconst onConfirmHandle = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetConfirm(e.currentTarget.value);\r\n\t};\r\n\r\n\tconst onInputTypeHandle = () => {\r\n\t\tsetInputType(!inputType);\r\n\t};\r\n\r\n\tconst checkValid = (value: string) => {\r\n\t\treturn /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (email === '') {\r\n\t\t\tdispatch(SetStatusAC('loading'));\r\n\t\t}\r\n\t}, [email]);\r\n\t//\r\n\tuseEffect(() => {\r\n\t\t// if (password === '' || confirm === '') {\r\n\t\t// \tdispatch(SetStatusAC('loading'));\r\n\t\t// }\r\n\r\n\t\tif (checkValid(email) && password.length >= 8 && password === confirm) {\r\n\t\t\tdispatch(SetStatusAC('succeeded'));\r\n\t\t}\r\n\t\tif (!checkValid(email)) {\r\n\t\t\tdispatch(SetStatusAC('loading'));\r\n\t\t}\r\n\r\n\t\tif (password && password !== confirm) {\r\n\t\t\tdispatch(SetStatusAC('loading'));\r\n\t\t}\r\n\t}, [password, confirm, email, checkValid]);\r\n\r\n\tconst onSendPasswordHandle = () => {\r\n\t\tdispatch(registerTC(email, password));\r\n\t\tsetEmail('');\r\n\t\tsetPassword('');\r\n\t\tsetConfirm('');\r\n\t};\r\n\r\n\tif (isRegistered) {\r\n\t\treturn <Navigate to='/login' />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.body}>\r\n\t\t\t<div className={styles.main}>\r\n\t\t\t\t<div className={styles.title}>It-incubator</div>\r\n\t\t\t\t<div className={styles.subtitle}>Sign Up</div>\r\n\t\t\t\t<div className={styles.email}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tcomponent='form'\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t'& .MuiTextField-root': { m: 1, width: '346px', margin: '0' },\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={styles.box}\r\n\t\t\t\t\t\t\tnoValidate\r\n\t\t\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tclassName={styles.textField}\r\n\t\t\t\t\t\t\t\tid='standard-password-input'\r\n\t\t\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\t\t\ttype='Email'\r\n\t\t\t\t\t\t\t\tautoComplete='current-password'\r\n\t\t\t\t\t\t\t\tvariant='standard'\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={onEmailHandle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.password}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tcomponent='form'\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t'& .MuiTextField-root': { m: 1, width: '346px', margin: '0' },\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={styles.box}\r\n\t\t\t\t\t\t\tnoValidate\r\n\t\t\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tclassName={styles.textField}\r\n\t\t\t\t\t\t\t\tid='standard-password-input'\r\n\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\ttype={!inputType ? 'password' : 'text'}\r\n\t\t\t\t\t\t\t\tautoComplete='current-password'\r\n\t\t\t\t\t\t\t\tvariant='standard'\r\n\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\tonChange={onPasswordHandle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button onClick={onInputTypeHandle} className={styles.icon} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.confirm}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tcomponent='form'\r\n\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t'& .MuiTextField-root': { m: 1, width: '346px', margin: '0' },\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName={styles.box}\r\n\t\t\t\t\t\t\tnoValidate\r\n\t\t\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tclassName={styles.textField}\r\n\t\t\t\t\t\t\t\tid='standard-password-input'\r\n\t\t\t\t\t\t\t\tlabel='Confirm password'\r\n\t\t\t\t\t\t\t\ttype={!inputType ? 'password' : 'text'}\r\n\t\t\t\t\t\t\t\tautoComplete='current-password'\r\n\t\t\t\t\t\t\t\tvariant='standard'\r\n\t\t\t\t\t\t\t\tvalue={confirm}\r\n\t\t\t\t\t\t\t\tonChange={onConfirmHandle}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button onClick={onInputTypeHandle} className={styles.icon} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={styles.footer}>\r\n\t\t\t\t\t<button className={styles.cancel}>Cancel</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={onSendPasswordHandle}\r\n\t\t\t\t\t\tdisabled={status === 'loading' && isLoading}\r\n\t\t\t\t\t\tclassName={styles.register}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRegister\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ErrorSnackbar />\r\n\t\t</div>\r\n\t);\r\n});\r\n","export default __webpack_public_path__ + \"static/media/packs.eb946c6a.svg\";","export default __webpack_public_path__ + \"static/media/profile.6166565d.svg\";","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, Navigate, Outlet } from 'react-router-dom';\r\n\r\nimport s from './Main.module.scss';\r\nimport packs from '../../assets/images/main/packs.svg';\r\nimport profile from '../../assets/images/main/profile.svg';\r\nimport { makeLogout } from '../../redux/authReducer';\r\nimport {\r\n\tselectAutorisedUserId,\r\n\tselectIsAuth,\r\n} from '../../assets/selectors/authSelectors';\r\nimport { useAppSelector } from '../../redux/store';\r\n\r\n// import CardInfo from \"./packs-list/CardInfo\";\r\n\r\nfunction Main() {\r\n\tconst isAuth = useAppSelector<boolean>(selectIsAuth);\r\n\tconst id = useAppSelector(selectAutorisedUserId);\r\n\tconst dispatch = useDispatch();\r\n\tconst onLogoutClickHandler = () => {\r\n\t\tdispatch(makeLogout());\r\n\t};\r\n\tif (!isAuth) {\r\n\t\treturn <Navigate to='/login' />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.wrapper}>\r\n\t\t\t<header className={s.header}>\r\n\t\t\t\t<div className={s.container}>\r\n\t\t\t\t\t<h2 className={s.logo}>It-incubator</h2>\r\n\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t<Link to={`/packs/${id ? id : ''}`}>\r\n\t\t\t\t\t\t\t<button className={s.BtnLeft}>\r\n\t\t\t\t\t\t\t\t<img className={s.iconPacks} src={packs} alt='' />\r\n\t\t\t\t\t\t\t\t<p>Packs list</p>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={`/profile`}>\r\n\t\t\t\t\t\t\t<button className={s.BtnRight}>\r\n\t\t\t\t\t\t\t\t<img className={s.iconProfile} src={profile} alt='' />\r\n\t\t\t\t\t\t\t\t<p>Profile</p>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<button className={s.BtnRight} onClick={onLogoutClickHandler}>\r\n\t\t\t\t\t\t\tlogout\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t\t<section className={s.content}>\r\n\t\t\t\t<Outlet />\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/404girl.449c1390.jpg\";","import React from 'react';\r\nimport s from './Error404.module.css';\r\nimport img from '../../../assets/images/error/404girl.jpg';\r\n\r\nfunction Error404() {\r\n\treturn (\r\n\t\t<div className={s.error404}>\r\n\t\t\t<span className={s.num404}>404</span>\r\n\t\t\t<img src={img} alt='sad girl' />\r\n\t\t\t<div className={s.content404}>\r\n\t\t\t\t<div>Page not found!</div>\r\n\t\t\t\t<div>But don't worry, and click the \"Back\" button of your browser</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Error404;\r\n","import React from 'react';\r\n\r\nimport { cardsApi } from '../../../api/api';\r\n\r\nconst btnStyle = {\r\n\tpadding: 4,\r\n\tmargin: 4,\r\n\tborder: '1px solid #43447b',\r\n};\r\n\r\nexport const Test = () => {\r\n\tconst onGetPacksClickHandler = () => {\r\n\t\tcardsApi\r\n\t\t\t.getPacks({ user_id: '61b8cf59c4355e00049b16f7' })\r\n\t\t\t.then(console.log);\r\n\t};\r\n\r\n\t// cardsPack_id: '61bd9ee25663080004d9caa7'\r\n\r\n\tconst onCreatePackClickHandler = () => {\r\n\t\tcardsApi.createPack({ name: 'PackName' }).then(console.log);\r\n\t};\r\n\tconst onDeletePackClickHandler = () => {\r\n\t\tcardsApi.deletePack('61beefc523ca880004b56cac').then(console.log);\r\n\t};\r\n\tconst onUpdatePackClickHandler = () => {\r\n\t\tcardsApi\r\n\t\t\t.updatePack({\r\n\t\t\t\t_id: '61bf147923ca880004b56cae',\r\n\t\t\t\tprivate: false,\r\n\t\t\t\tname: 'PackName2',\r\n\t\t\t\tpath: '/def',\r\n\t\t\t\trating: 4,\r\n\t\t\t\tshots: 1,\r\n\t\t\t\tgrade: 5,\r\n\t\t\t})\r\n\t\t\t.then(console.log);\r\n\t};\r\n\tconst onGetCardsClickHandler = () => {\r\n\t\tcardsApi\r\n\t\t\t.getCards({ cardsPack_id: '61bf147923ca880004b56cae' })\r\n\t\t\t.then(console.log);\r\n\t};\r\n\tconst onCreateCardClickHandler = () => {\r\n\t\tcardsApi\r\n\t\t\t.createCard({\r\n\t\t\t\tcardsPack_id: '61bf147923ca880004b56cae',\r\n\t\t\t\tgrade: 5,\r\n\t\t\t\trating: 4,\r\n\t\t\t\tshots: 1,\r\n\t\t\t})\r\n\t\t\t.then(console.log);\r\n\t};\r\n\tconst onDeleteCardClickHandler = () => {\r\n\t\tcardsApi.deleteCard('61bf176223ca880004b56caf').then(console.log);\r\n\t};\r\n\tconst onUpdateCardClickHandler = () => {\r\n\t\tcardsApi\r\n\t\t\t.updateCard({\r\n\t\t\t\t_id: '61bf17a623ca880004b56cb0',\r\n\t\t\t\tanswer: 'ans',\r\n\t\t\t\tquestion: 'que',\r\n\t\t\t\trating: 4,\r\n\t\t\t\tshots: 1,\r\n\t\t\t\tgrade: 5,\r\n\t\t\t})\r\n\t\t\t.then(console.log);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<button style={btnStyle} onClick={onGetPacksClickHandler}>\r\n\t\t\t\t\tgetPacks\r\n\t\t\t\t</button>\r\n\t\t\t\t<button style={btnStyle} onClick={onCreatePackClickHandler}>\r\n\t\t\t\t\tcreatePack\r\n\t\t\t\t</button>\r\n\t\t\t\t<button style={btnStyle} onClick={onDeletePackClickHandler}>\r\n\t\t\t\t\tdeletePack\r\n\t\t\t\t</button>\r\n\t\t\t\t<button style={btnStyle} onClick={onUpdatePackClickHandler}>\r\n\t\t\t\t\tupdatePack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button style={btnStyle} onClick={onGetCardsClickHandler}>\r\n\t\t\t\t\tgetCards\r\n\t\t\t\t</button>\r\n\t\t\t\t<button style={btnStyle} onClick={onCreateCardClickHandler}>\r\n\t\t\t\t\tcreateCard\r\n\t\t\t\t</button>\r\n\t\t\t\t<button style={btnStyle} onClick={onDeleteCardClickHandler}>\r\n\t\t\t\t\tdeleteCard\r\n\t\t\t\t</button>\r\n\t\t\t\t<button style={btnStyle} onClick={onUpdateCardClickHandler}>\r\n\t\t\t\t\tupdateCard\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Slider from '@mui/material/Slider';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tPacksReducerStateType,\r\n\tSetRangeCardsAC,\r\n} from '../../../redux/packs-reducer';\r\nimport { RootState, useAppSelector } from '../../../redux/store';\r\nimport { maxCardsRangeInPackNumber } from '../../../assets/selectors/authSelectors';\r\n\r\nfunction valuetext(value: number) {\r\n\treturn `${value}°C`;\r\n}\r\n\r\nexport default function RangeSlider() {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst maxNumberCards = useAppSelector(maxCardsRangeInPackNumber);\r\n\r\n\tconst [value, setValue] = React.useState<number[]>([0, maxNumberCards]);\r\n\r\n\tconst handleChange = (event: Event, newValue: number | number[]) => {\r\n\t\tsetValue(newValue as number[]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue([0, maxNumberCards]);\r\n\t}, [maxNumberCards]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(SetRangeCardsAC(value[0], value[1]));\r\n\t}, [value]);\r\n\r\n\treturn (\r\n\t\t<Box sx={{ width: 196 }}>\r\n\t\t\t<Slider\r\n\t\t\t\tstyle={{ color: '#21268F' }}\r\n\t\t\t\tgetAriaLabel={() => 'Temperature range'}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tvalueLabelDisplay='on'\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tgetAriaValueText={valuetext}\r\n\t\t\t\tmax={maxNumberCards}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/sortArrow.3eb1db71.svg\";","import React, { CSSProperties, FC } from 'react';\r\nimport s from './ActionButton.module.scss';\r\n\r\ntype ActionButtonPropsType = {\r\n\ttitle: string;\r\n\tcallBack?: () => void;\r\n\tstyle?: CSSProperties;\r\n};\r\n\r\nexport const ActionButton: FC<ActionButtonPropsType> = ({\r\n\ttitle,\r\n\tcallBack,\r\n\tstyle,\r\n}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button className={s.btn} style={style} onClick={callBack}>\r\n\t\t\t\t{title}\r\n\t\t\t</button>\r\n\t\t</>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Box from '@mui/material/Box';\r\n\r\nexport default function CircularIndeterminate() {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tsx={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\ttop: '50%',\r\n\t\t\t\tleft: '50%',\r\n\t\t\t\ttransform: 'translate(-50%,-50%)',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<CircularProgress />\r\n\t\t</Box>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport s from './AddNewPack.module.scss';\r\n\r\ntype AddNewPackType = {\r\n\tname?: string;\r\n\tconfirm: (newName: string) => void;\r\n\tcancel: () => void;\r\n};\r\n\r\nfunction EditPackName({ name, confirm, cancel }: AddNewPackType) {\r\n\tconst [text, setText] = useState('');\r\n\tuseEffect(() => {\r\n\t\tif (name) setText(name);\r\n\t\tconst body = document.querySelector('body');\r\n\t\tif (body) body.style.overflow = 'hidden';\r\n\t\treturn () => {\r\n\t\t\tif (body) body.style.overflow = 'auto';\r\n\t\t};\r\n\t}, []);\r\n\tconst addNameHandler = () => {\r\n\t\tconfirm && confirm(text);\r\n\t};\r\n\treturn (\r\n\t\t<div className={s.modal} onClick={cancel}>\r\n\t\t\t<div className={s.wrapper} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t<div className={s.wrap}>\r\n\t\t\t\t\t<div className={s.header}>\r\n\t\t\t\t\t\t<h2 className={s.title}>Edit pack name</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className={s.text}>Pack name</p>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\tonChange={(e) => setText(e.currentTarget.value)}\r\n\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t<button className={s.btnCancel} onClick={cancel}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={s.btnSave} onClick={addNameHandler}>\r\n\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EditPackName;\r\n","import React, { useEffect } from 'react';\r\nimport s from './DeletePack.module.scss';\r\n\r\ntype DeletePackType = {\r\n\tconfirm: () => void;\r\n\tcancel: () => void;\r\n\tpackName?: string;\r\n};\r\n\r\nfunction DeletePack({ confirm, cancel, packName }: DeletePackType) {\r\n\tuseEffect(() => {\r\n\t\tconst body = document.querySelector('body');\r\n\t\tif (body) body.style.overflow = 'hidden';\r\n\t\treturn () => {\r\n\t\t\tif (body) body.style.overflow = 'auto';\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={s.modal} onClick={cancel}>\r\n\t\t\t<div className={s.wrapper} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t<div className={s.wrap}>\r\n\t\t\t\t\t<div className={s.header}>\r\n\t\t\t\t\t\t<h2 className={s.title}>Delete Pack</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className={s.text}>\r\n\t\t\t\t\t\tDo you really want to remove{' '}\r\n\t\t\t\t\t\t<strong>{packName || 'this pack'}</strong>\r\n\t\t\t\t\t\tAll cards will be excluded from this course.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t<button className={s.btnCancel} onClick={cancel}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={s.btnDel} onClick={confirm}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DeletePack;\r\n","import React, { MouseEventHandler, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { styled } from '@mui/material/styles';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport s from './Table.module.scss';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport {\r\n\tdeletePackTC,\r\n\tgetPacks,\r\n\tpackType,\r\n\tsetCurrentPack,\r\n\tsetPacksSort,\r\n\tupdatePackTC,\r\n} from '../../../redux/packs-reducer';\r\nimport arrow from './../../../assets/images/main/sortArrow.svg';\r\nimport { ActionButton } from '../../common/button/ActionButtonNew';\r\nimport {\r\n\tisLoading,\r\n\tselectAutorisedUserId,\r\n\tselectPacksPageNumber,\r\n\tselectPacksPageSize,\r\n\tselectSortPacks,\r\n} from '../../../assets/selectors/authSelectors';\r\nimport CircularIndeterminate from '../progress-bar/CircularIndeterminate';\r\nimport EditPackName from '../../common/modal-windows/add-new-pack/EditPackName';\r\nimport DeletePack from '../../common/modal-windows/delete-pack/DeletePackNew';\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n\t'&:nth-of-type(odd)': {\r\n\t\tbackgroundColor: theme.palette.action.hover,\r\n\t},\r\n\t// hide last border\r\n\t'&:last-child td, &:last-child th': {\r\n\t\tborder: 0,\r\n\t},\r\n\t'& td': {\r\n\t\tpadding: 16,\r\n\t},\r\n}));\r\n\r\nexport const cutDate = (date: string) => new Date(date).toLocaleDateString();\r\n\r\ntype ProfilePropsType = {\r\n\tuser_id?: string;\r\n};\r\n\r\nexport function DenseTable({ user_id }: ProfilePropsType) {\r\n\tconst packs = useAppSelector<packType[]>(\r\n\t\t(state) => state.packsReducer.cardPacks,\r\n\t);\r\n\tconst page = useAppSelector(selectPacksPageNumber);\r\n\tconst pageCount = useAppSelector(selectPacksPageSize);\r\n\tconst autorisedUserId = useAppSelector(selectAutorisedUserId);\r\n\tconst dispatch = useDispatch();\r\n\tconst { currentUserId } = useParams();\r\n\r\n\tconst isLoadingStatus = useAppSelector(isLoading);\r\n\r\n\tconst [editMode, setEditMode] = useState(false);\r\n\tconst [editablePack, setEditablePack] = useState<packType | null>(null);\r\n\r\n\tconst [deleteMode, setDeleteMode] = useState(false);\r\n\tconst [deletablePack, setDeletablePack] = useState<packType | null>(null);\r\n\r\n\tconst editPackHandler = (newName: string) => {\r\n\t\teditablePack && dispatch(updatePackTC({ ...editablePack, name: newName }));\r\n\t\tsetEditMode(false);\r\n\t};\r\n\r\n\tconst deletePackHandler = () => {\r\n\t\tdeletablePack && dispatch(deletePackTC(deletablePack._id));\r\n\t\tsetDeleteMode(false);\r\n\t};\r\n\r\n\tconst sortCards = useAppSelector(selectSortPacks);\r\n\tconst sortDirection = +sortCards[0];\r\n\tconst sortField = sortCards.slice(1);\r\n\r\n\tconst rows = packs.map((m) => {\r\n\t\tconst linkClickHandler = () => {\r\n\t\t\tdispatch(setCurrentPack(m));\r\n\t\t};\r\n\t\tconst onDeleteClickHandler = () => {\r\n\t\t\tsetDeletablePack(m);\r\n\t\t\tsetDeleteMode(true);\r\n\t\t};\r\n\t\tconst onEditClickHandler = () => {\r\n\t\t\tsetEditablePack(m);\r\n\t\t\tsetEditMode(true);\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<StyledTableRow\r\n\t\t\t\tkey={m._id}\r\n\t\t\t\tsx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n\t\t\t>\r\n\t\t\t\t<TableCell component='th' scope='row'>\r\n\t\t\t\t\t<Link to={`/cards/${m._id}`} onClick={linkClickHandler}>\r\n\t\t\t\t\t\t{m.name}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell align='right'>{m.cardsCount}</TableCell>\r\n\t\t\t\t<TableCell align='right'>{cutDate(m.updated)}</TableCell>\r\n\t\t\t\t<TableCell align='right'>{cutDate(m.created)}</TableCell>\r\n\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t{m.user_id === autorisedUserId && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\ttitle='Delete'\r\n\t\t\t\t\t\t\t\tstyle={{ background: '#f1453d', color: '#fff' }}\r\n\t\t\t\t\t\t\t\tcallBack={onDeleteClickHandler}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ActionButton title='Edit' callBack={onEditClickHandler} />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!!m.cardsCount && (\r\n\t\t\t\t\t\t<Link to={`/learn/${m._id}`}>\r\n\t\t\t\t\t\t\t<ActionButton title='Learn' />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t</StyledTableRow>\r\n\t\t);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(\r\n\t\t\tgetPacks({\r\n\t\t\t\tuser_id: user_id ? user_id : currentUserId,\r\n\t\t\t\tsortPacks: sortDirection + sortField,\r\n\t\t\t\tpage,\r\n\t\t\t\tpageCount,\r\n\t\t\t}),\r\n\t\t);\r\n\t}, [currentUserId, sortDirection, sortField, page, pageCount]);\r\n\r\n\tconst tableHeadClickHandler: MouseEventHandler = (e) => {\r\n\t\tconst field = (e.target as unknown as { dataset: { sortField: string } })\r\n\t\t\t.dataset.sortField;\r\n\t\tif (!field) return;\r\n\t\tif (field === sortField) {\r\n\t\t\tdispatch(setPacksSort((sortDirection ? 0 : 1) + sortField));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdispatch(setPacksSort(1 + field));\r\n\t};\r\n\r\n\tconst getArrowStyle = (fieldName: string) => {\r\n\t\tif (fieldName !== sortField) return { display: 'none' };\r\n\t\tif (sortDirection === 0) return { transform: 'rotate(180deg)' };\r\n\t\treturn {};\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{editMode && (\r\n\t\t\t\t<EditPackName\r\n\t\t\t\t\tcancel={() => setEditMode(false)}\r\n\t\t\t\t\tconfirm={editPackHandler}\r\n\t\t\t\t\tname={editablePack?.name}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{deleteMode && (\r\n\t\t\t\t<DeletePack\r\n\t\t\t\t\tconfirm={deletePackHandler}\r\n\t\t\t\t\tcancel={() => setDeleteMode(false)}\r\n\t\t\t\t\tpackName={deletablePack?.name}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t<TableContainer\r\n\t\t\t\tstyle={\r\n\t\t\t\t\tisLoadingStatus === 'loading'\r\n\t\t\t\t\t\t? { pointerEvents: 'none' }\r\n\t\t\t\t\t\t: { pointerEvents: 'auto' }\r\n\t\t\t\t}\r\n\t\t\t\tclassName={s.wrapper}\r\n\t\t\t\tcomponent={Paper}\r\n\t\t\t>\r\n\t\t\t\t{isLoadingStatus === 'loading' ? <CircularIndeterminate /> : ''}\r\n\t\t\t\t<Table sx={{ minWidth: 650 }} size='small' aria-label='a dense table'>\r\n\t\t\t\t\t<TableHead className={s.tableHead}>\r\n\t\t\t\t\t\t<StyledTableRow onClick={tableHeadClickHandler}>\r\n\t\t\t\t\t\t\t<TableCell align='left' data-sort-field='name'>\r\n\t\t\t\t\t\t\t\tName{' '}\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('name')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t<TableCell align='right' data-sort-field='cardsCount'>\r\n\t\t\t\t\t\t\t\tCards\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('cardsCount')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='right' data-sort-field='updated'>\r\n\t\t\t\t\t\t\t\tLast Updated{' '}\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('updated')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='right' data-sort-field='created'>\r\n\t\t\t\t\t\t\t\tCreated by\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('created')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='right'>Actions</TableCell>\r\n\t\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody className={s.tableBody}>{rows}</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { FC } from 'react';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Stack from '@mui/material/Stack';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { SelectChangeEvent } from '@mui/material';\r\n\r\nimport s from '../../main/packs-list/PackList.module.scss';\r\n\r\ntype PaginationSizePropsType = {\r\n\ttotalPagesCount: number;\r\n\tpage: number;\r\n\tpageSize: number;\r\n\tpaginationCallback: (e: React.ChangeEvent<unknown>, value: number) => void;\r\n\tselectCallback: (e: SelectChangeEvent<number>) => void;\r\n};\r\n\r\nexport const PaginationSize: FC<PaginationSizePropsType> = ({\r\n\tpageSize,\r\n\tpage,\r\n\ttotalPagesCount,\r\n\tpaginationCallback,\r\n\tselectCallback,\r\n}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Stack spacing={2}>\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tcount={totalPagesCount}\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonChange={paginationCallback}\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tshape='rounded'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t/>\r\n\t\t\t</Stack>\r\n\t\t\t<p className={s.textBottom}> Show</p>\r\n\t\t\t<Select\r\n\t\t\t\tclassName={s.select__pag} //класс для задания высоты селекта\r\n\t\t\t\t// size='small'\r\n\t\t\t\tvalue={pageSize}\r\n\t\t\t\tonChange={selectCallback}\r\n\t\t\t\tdefaultValue={4}\r\n\t\t\t>\r\n\t\t\t\t<MenuItem value={4}>4</MenuItem>\r\n\t\t\t\t<MenuItem value={6}>6</MenuItem>\r\n\t\t\t\t<MenuItem value={8}>8</MenuItem>\r\n\t\t\t\t<MenuItem value={12}>12</MenuItem>\r\n\t\t\t</Select>\r\n\t\t\t<p className={s.textBottom}> Cards per Page</p>\r\n\t\t</>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { SelectChangeEvent } from '@mui/material';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport {\r\n\tselectPacksTotalCount,\r\n\tselectPacksPageNumber,\r\n\tselectPacksPageSize,\r\n} from '../../../assets/selectors/authSelectors';\r\nimport { setPacksPage, setPacksPageCount } from '../../../redux/packs-reducer';\r\nimport { PaginationSize } from './Pagination';\r\n\r\nexport function PaginationPacksContainer() {\r\n\tconst dispatch = useDispatch();\r\n\tconst page = useAppSelector(selectPacksPageNumber);\r\n\tconst pageSize = useAppSelector(selectPacksPageSize);\r\n\tconst cardPacksTotalCount = useAppSelector(selectPacksTotalCount);\r\n\tconst totalPagesCount = Math.ceil(cardPacksTotalCount / pageSize);\r\n\tconst handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n\t\tdispatch(setPacksPage(value));\r\n\t};\r\n\tconst selectChangeHandler = (e: SelectChangeEvent<number>) => {\r\n\t\tdispatch(setPacksPageCount(+e.target.value));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PaginationSize\r\n\t\t\tpage={page}\r\n\t\t\tpageSize={pageSize}\r\n\t\t\ttotalPagesCount={totalPagesCount}\r\n\t\t\tpaginationCallback={handleChange}\r\n\t\t\tselectCallback={selectChangeHandler}\r\n\t\t/>\r\n\t);\r\n}\r\n","import React, { ChangeEvent, FormEvent, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport s from './Profile.module.scss';\r\nimport RangeSlider from '../../../mui/range-slider/RangeSlider';\r\nimport { DenseTable } from '../../../mui/table/TableNew';\r\nimport { useAppSelector } from '../../../../redux/store';\r\nimport {\r\n\tisLoading,\r\n\tmaxCardsInPackNumber,\r\n\tminCardsInPackNumber,\r\n\tselectLoginData,\r\n} from '../../../../assets/selectors/authSelectors';\r\nimport { createPack, getPacks } from '../../../../redux/packs-reducer';\r\nimport { PaginationPacksContainer } from '../../../mui/pagination/PaginationPacksContainer';\r\n\r\nconst defaultAva = 'https://via.placeholder.com/150';\r\n\r\n// import ButtonForTable from \"./../../../Components/common/button/ButtonForTable\";\r\n\r\nfunction Profile() {\r\n\tconst { name, avatar, _id } = useAppSelector(selectLoginData);\r\n\tconst { currentUserId } = useParams();\r\n\tconst dispatch = useDispatch();\r\n\tconst isLoadingStatus = useAppSelector(isLoading);\r\n\r\n\tconst [addPackValue, setAddPackValue] = useState('');\r\n\tconst [search, setSearch] = useState<string>('');\r\n\tconst min = useAppSelector(minCardsInPackNumber);\r\n\tconst max = useAppSelector(maxCardsInPackNumber);\r\n\r\n\tconst addNewPackClickHandler = (e: FormEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\t\t_id &&\r\n\t\t\taddPackValue &&\r\n\t\t\tdispatch(createPack(addPackValue, currentUserId || _id));\r\n\t\tsetAddPackValue('');\r\n\t};\r\n\tconst searching = () => {\r\n\t\tif (_id) {\r\n\t\t\tdispatch(\r\n\t\t\t\tgetPacks({\r\n\t\t\t\t\tuser_id: currentUserId ? currentUserId : _id,\r\n\t\t\t\t\tpackName: search,\r\n\t\t\t\t\tmin, // принимает значения для поиска из range slider\r\n\t\t\t\t\tmax, // принимает значения для поиска из range slider\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handlerSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetSearch(e.currentTarget.value);\r\n\t};\r\n\r\n\tconst user_id = currentUserId ? currentUserId : _id;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={\r\n\t\t\t\tisLoadingStatus === 'loading'\r\n\t\t\t\t\t? { pointerEvents: 'none' }\r\n\t\t\t\t\t: { pointerEvents: 'auto' }\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t<div className={s.wrapLeft}>\r\n\t\t\t\t\t<div className={s.wrapPerson}>\r\n\t\t\t\t\t\t<img className={s.img} src={avatar ? avatar : defaultAva} alt='' />\r\n\t\t\t\t\t\t<h3 className={s.subtitle}>{name}</h3>\r\n\t\t\t\t\t\t{_id === currentUserId ||\r\n\t\t\t\t\t\t\t(!currentUserId && (\r\n\t\t\t\t\t\t\t\t<Link to={'/edit-profile'}>\r\n\t\t\t\t\t\t\t\t\t<button className={s.btnEditProfile}>Edit Profile</button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.wrapSlider}>\r\n\t\t\t\t\t\t<h3 className={s.subtitleSlid}>Number of cards</h3>\r\n\t\t\t\t\t\t<RangeSlider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.wrapRight}>\r\n\t\t\t\t\t<h2 className={s.title}>{`${name} Packs list`}</h2>\r\n\t\t\t\t\t<div className={s.wrapForm}>\r\n\t\t\t\t\t\t<form className={s.wrapForm} onSubmit={addNewPackClickHandler}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\t\tvalue={addPackValue}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setAddPackValue(e.currentTarget.value)}\r\n\t\t\t\t\t\t\t\tplaceholder='Type here'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button className={s.button}>Add new pack</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<div className={s.wrapForm}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\t\tonChange={handlerSearch}\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Search...'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button className={s.button} onClick={searching}>\r\n\t\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.table}>\r\n\t\t\t\t\t\t<DenseTable user_id={user_id || ''} />\r\n\t\t\t\t\t\t<div className={s.wrapBottom}>\r\n\t\t\t\t\t\t\t<PaginationPacksContainer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Profile;\r\n","import React, { useEffect } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport s from '../PackList.module.scss';\r\nimport { useAppSelector } from '../../../../redux/store';\r\n\r\nexport const ToggleOwnerPacksShowButtons = () => {\r\n\tconst userId = useAppSelector((state) => state.auth.loginData._id);\r\n\tconst { currentUserId } = useParams();\r\n\r\n\treturn (\r\n\t\t<div className={s.wrapBtn}>\r\n\t\t\t<Link to={`/packs/${userId}`}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={`${s.buttonLeft} ${\r\n\t\t\t\t\t\tcurrentUserId === userId ? s.activeBtn : ''\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\tMy\r\n\t\t\t\t</button>\r\n\t\t\t</Link>\r\n\t\t\t<Link to={'/packs'}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={`${s.buttonRight} ${!currentUserId ? s.activeBtn : ''}`}\r\n\t\t\t\t>\r\n\t\t\t\t\tAll\r\n\t\t\t\t</button>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { ChangeEvent, FormEvent, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport s from './PackList.module.scss';\r\nimport RangeSlider from '../../mui/range-slider/RangeSlider';\r\nimport { DenseTable } from '../../mui/table/TableNew';\r\nimport { ToggleOwnerPacksShowButtons } from './buttons/ToggleOwnerPacksShowButtons';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport {\r\n\tmaxCardsInPackNumber,\r\n\tminCardsInPackNumber,\r\n} from '../../../assets/selectors/authSelectors';\r\nimport { createPack, getPacks } from '../../../redux/packs-reducer';\r\nimport { PaginationPacksContainer } from '../../mui/pagination/PaginationPacksContainer';\r\n\r\nfunction PackList() {\r\n\tconst [search, setSearch] = useState<string>('');\r\n\tconst dispatch = useDispatch();\r\n\tconst { currentUserId } = useParams();\r\n\tconst min = useAppSelector(minCardsInPackNumber);\r\n\tconst max = useAppSelector(maxCardsInPackNumber);\r\n\r\n\t// useEffect(() => {\r\n\t// \tdispatch(getPacks({ user_id: currentUserId, page, pageCount }));\r\n\t// }, [currentUserId, page, pageCount]);\r\n\r\n\tconst [addPackValue, setAddPackValue] = useState('');\r\n\tconst addNewPackClickHandler = (e: FormEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\t\taddPackValue && dispatch(createPack(addPackValue, currentUserId));\r\n\t\tsetAddPackValue('');\r\n\t};\r\n\tconst handlerSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetSearch(e.currentTarget.value);\r\n\t};\r\n\r\n\tconst searching = () => {\r\n\t\tdispatch(getPacks({ user_id: currentUserId, packName: search, min, max }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t<div className={s.wrapLeft}>\r\n\t\t\t\t\t<h3 className={s.subtitle}>Show packs cards</h3>\r\n\t\t\t\t\t<ToggleOwnerPacksShowButtons />\r\n\t\t\t\t\t<h3 className={s.subtitleSlid}>Number of cards</h3>\r\n\t\t\t\t\t<RangeSlider />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.wrapRight}>\r\n\t\t\t\t\t<h2 className={s.title}>Packs list</h2>\r\n\t\t\t\t\t<form className={s.wrapForm} onSubmit={addNewPackClickHandler}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\tvalue={addPackValue}\r\n\t\t\t\t\t\t\tonChange={(e) => setAddPackValue(e.currentTarget.value)}\r\n\t\t\t\t\t\t\tplaceholder='Type here'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button className={s.button}>Add new pack</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className={s.wrapForm}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={handlerSearch}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder='Search...'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button className={s.button} onClick={searching}>\r\n\t\t\t\t\t\t\tSearch\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.table}>\r\n\t\t\t\t\t\t<DenseTable />\r\n\t\t\t\t\t\t<div className={s.wrapBottom}>\r\n\t\t\t\t\t\t\t<PaginationPacksContainer />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/*<DeletePack />*/}\r\n\t\t\t{/*<AddNewPack />*/}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PackList;\r\n","import React, { FormEventHandler, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport SuperTextField from '../../../mui/text-field/SuperTextField';\r\nimport { useAppSelector } from '../../../../redux/store';\r\nimport { selectUserName } from '../../../../assets/selectors/authSelectors';\r\nimport { updateProfile } from '../../../../redux/authReducer';\r\n\r\nexport const EditProfile = () => {\r\n\tconst nickName = useAppSelector(selectUserName);\r\n\tconst [name, setName] = useState(nickName || '');\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\tconst clickHandler: FormEventHandler<HTMLFormElement> = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tawait dispatch(updateProfile({ name }));\r\n\t\tnavigate('/profile');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={clickHandler}>\r\n\t\t\t<SuperTextField type={'Nickname'} value={name} callback={setName} />\r\n\t\t\t<button type='submit'>Save</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/arrow.d52a0f56.svg\";","import React, { FC } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Rating from '@mui/material/Rating';\r\n\r\nconst StyledRating = styled(Rating)({\r\n\t'& .MuiRating-iconFilled': {\r\n\t\tcolor: '#21268F',\r\n\t},\r\n\t'& .MuiRating-iconHover': {\r\n\t\tcolor: '#21268F',\r\n\t},\r\n});\r\n\r\nexport const CustomizedRating: FC<{ value: number }> = ({ value }) => {\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tsx={{\r\n\t\t\t\t'& > legend': { mt: 5 },\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<StyledRating\r\n\t\t\t\tname='customized-5'\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tdefaultValue={5}\r\n\t\t\t\tmax={5}\r\n\t\t\t\tsize='small'\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t);\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport s from './DeletePack.module.scss';\r\n\r\ntype DeletePackType = {\r\n\tsetModal: () => void;\r\n\tdeleteCallBack?: () => void;\r\n};\r\n\r\nfunction DeletePack({ setModal, deleteCallBack }: DeletePackType) {\r\n\tconst deletePack = () => deleteCallBack && deleteCallBack();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst body = document.querySelector('body');\r\n\t\tif (body) body.style.overflow = 'hidden';\r\n\t\treturn () => {\r\n\t\t\tif (body) body.style.overflow = 'auto';\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={s.modal} onClick={setModal}>\r\n\t\t\t<div className={s.wrapper} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t<div className={s.wrap}>\r\n\t\t\t\t\t<div className={s.header}>\r\n\t\t\t\t\t\t<h2 className={s.title}>Delete Pack</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className={s.text}>\r\n\t\t\t\t\t\tDo you really want to remove <strong>Pack Name - Name Pack?</strong>\r\n\t\t\t\t\t\tAll cards will be excluded from this course.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t<button className={s.btnCancel} onClick={setModal}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={s.btnDel} onClick={deletePack}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DeletePack;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport s from './CardInfo.module.scss';\r\n\r\n// import arrow from \"../../../images/main/arrow.svg\";\r\n\r\nexport type confirmPayloadType = { answer?: string; question?: string };\r\n\r\ntype CardInfoPropsType = {\r\n\tquestion?: string;\r\n\tanswer?: string;\r\n\tconfirm?: (payload: confirmPayloadType) => void;\r\n\tcancel: () => void;\r\n\tcallBack?: (payload: confirmPayloadType) => void;\r\n\tEditCard?: string;\r\n};\r\n\r\nexport const CardInfo: React.FC<CardInfoPropsType> = ({\r\n\tanswer,\r\n\tquestion,\r\n\tcancel,\r\n\tconfirm,\r\n\tcallBack,\r\n\tEditCard,\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tconst body = document.querySelector('body');\r\n\t\tif (body) body.style.overflow = 'hidden';\r\n\t\treturn () => {\r\n\t\t\tif (body) body.style.overflow = 'auto';\r\n\t\t};\r\n\t}, []);\r\n\tconst [questionFieldValue, setQuestionFieldValue] = useState(question || '');\r\n\tconst [answerFieldValue, setAnswerFieldValue] = useState(answer || '');\r\n\tconst onSaveClickHandler = () => {\r\n\t\tif (EditCard === 'EditCard') {\r\n\t\t\tcallBack &&\r\n\t\t\t\tcallBack({ question: questionFieldValue, answer: answerFieldValue });\r\n\t\t\tcancel();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconfirm &&\r\n\t\t\tconfirm({ answer: answerFieldValue, question: questionFieldValue });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.modal} onClick={() => cancel()}>\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t<div className={s.wrap} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t\t<h3 className={s.subtitle}>Card Info</h3>\r\n\r\n\t\t\t\t\t<div className={s.content}>\r\n\t\t\t\t\t\t<p className={s.text}>Question</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\tplaceholder='How This works in JavaScript?'\r\n\t\t\t\t\t\t\tvalue={questionFieldValue}\r\n\t\t\t\t\t\t\tonChange={(e) => setQuestionFieldValue(e.currentTarget.value)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div className={s.dada}>\r\n\t\t\t\t\t\t\t<label htmlFor='myfile2' className={s.chous}>\r\n\t\t\t\t\t\t\t\t+ Attach file\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input type='file' className={s.my} id='myfile2' name='myfile2' />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<p className={s.text}>Answer</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\tplaceholder='This is how This works in JavaScript?'\r\n\t\t\t\t\t\t\tvalue={answerFieldValue}\r\n\t\t\t\t\t\t\tonChange={(e) => setAnswerFieldValue(e.currentTarget.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className={s.dada}>\r\n\t\t\t\t\t\t\t<label htmlFor='myfile2' className={s.chous}>\r\n\t\t\t\t\t\t\t\t+ Attach file\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input type='file' className={s.my} id='myfile2' name='myfile2' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t\t<button className={s.btnCancel} onClick={cancel}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className={s.btnSave} onClick={onSaveClickHandler}>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { MouseEventHandler, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { styled } from '@mui/material/styles';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport s from './Table.module.scss';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport {\r\n\tdeletePackTC,\r\n\tgetPacks,\r\n\tpackType,\r\n\tsetCurrentPack,\r\n\tsetPacksSort,\r\n\tupdatePackTC,\r\n} from '../../../redux/packs-reducer';\r\nimport arrow from './../../../assets/images/main/sortArrow.svg';\r\nimport { ActionButton } from '../../common/button/ActionButton';\r\nimport {\r\n\tisLoading,\r\n\tselectAutorisedUserId,\r\n\tselectPacksPageNumber,\r\n\tselectPacksPageSize,\r\n\tselectSortPacks,\r\n} from '../../../assets/selectors/authSelectors';\r\nimport CircularIndeterminate from '../progress-bar/CircularIndeterminate';\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n\t'&:nth-of-type(odd)': {\r\n\t\tbackgroundColor: theme.palette.action.hover,\r\n\t},\r\n\t// hide last border\r\n\t'&:last-child td, &:last-child th': {\r\n\t\tborder: 0,\r\n\t},\r\n\t'& td': {\r\n\t\tpadding: 16,\r\n\t},\r\n}));\r\n\r\nexport const cutDate = (date: string) => new Date(date).toLocaleDateString();\r\n\r\ntype ProfilePropsType = {\r\n\tuser_id?: string;\r\n};\r\n\r\nexport function DenseTable({ user_id }: ProfilePropsType) {\r\n\tconst packs = useAppSelector<packType[]>(\r\n\t\t(state) => state.packsReducer.cardPacks,\r\n\t);\r\n\tconst page = useAppSelector(selectPacksPageNumber);\r\n\tconst pageCount = useAppSelector(selectPacksPageSize);\r\n\tconst autorisedUserId = useAppSelector(selectAutorisedUserId);\r\n\tconst dispatch = useDispatch();\r\n\tconst { currentUserId } = useParams();\r\n\r\n\tconst isLoadingStatus = useAppSelector(isLoading);\r\n\tconst sortCards = useAppSelector(selectSortPacks);\r\n\tconst sortDirection = +sortCards[0];\r\n\tconst sortField = sortCards.slice(1);\r\n\r\n\tconst rows = packs.map((m) => {\r\n\t\tconst linkClickHandler = () => {\r\n\t\t\tdispatch(setCurrentPack(m));\r\n\t\t};\r\n\t\tconst onDeleteClickHandler = () => dispatch(deletePackTC(m._id, m.user_id));\r\n\t\tconst onUpdateClickHandler = (text: string) =>\r\n\t\t\tdispatch(\r\n\t\t\t\tupdatePackTC(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t...m,\r\n\t\t\t\t\t\tname: text,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tm.user_id,\r\n\t\t\t\t),\r\n\t\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<StyledTableRow\r\n\t\t\t\tkey={m._id}\r\n\t\t\t\tsx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n\t\t\t>\r\n\t\t\t\t<TableCell component='th' scope='row'>\r\n\t\t\t\t\t<Link to={`/cards/${m._id}`} onClick={linkClickHandler}>\r\n\t\t\t\t\t\t{m.name}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell align='right'>{m.cardsCount}</TableCell>\r\n\t\t\t\t<TableCell align='right'>{cutDate(m.updated)}</TableCell>\r\n\t\t\t\t<TableCell align='right'>{cutDate(m.created)}</TableCell>\r\n\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t{m.user_id === autorisedUserId && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\ttitle='Delete'\r\n\t\t\t\t\t\t\t\tstyle={{ background: '#f1453d', color: '#fff' }}\r\n\t\t\t\t\t\t\t\tcallBack={onDeleteClickHandler}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\ttitle='Edit'\r\n\t\t\t\t\t\t\t\taddName={onUpdateClickHandler}\r\n\t\t\t\t\t\t\t\tname={m.name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Link to={`/learn/${m._id}`}>\r\n\t\t\t\t\t\t<ActionButton title='Learn' />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</TableCell>\r\n\t\t\t</StyledTableRow>\r\n\t\t);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(\r\n\t\t\tgetPacks({\r\n\t\t\t\tuser_id: user_id ? user_id : currentUserId,\r\n\t\t\t\tsortPacks: sortDirection + sortField,\r\n\t\t\t\tpage,\r\n\t\t\t\tpageCount,\r\n\t\t\t}),\r\n\t\t);\r\n\t}, [currentUserId, sortDirection, sortField, page, pageCount]);\r\n\r\n\tconst clickHandler: MouseEventHandler = (e) => {\r\n\t\tconst field = (e.target as unknown as { dataset: { sortField: string } })\r\n\t\t\t.dataset.sortField;\r\n\t\tif (!field) return;\r\n\t\tif (field === sortField) {\r\n\t\t\tdispatch(setPacksSort((sortDirection ? 0 : 1) + sortField));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdispatch(setPacksSort(1 + field));\r\n\t};\r\n\r\n\tconst getArrowStyle = (fieldName: string) => {\r\n\t\tif (fieldName !== sortField) return { display: 'none' };\r\n\t\tif (sortDirection === 0) return { transform: 'rotate(180deg)' };\r\n\t\treturn {};\r\n\t};\r\n\r\n\treturn (\r\n\t\t<TableContainer\r\n\t\t\tstyle={\r\n\t\t\t\tisLoadingStatus === 'loading'\r\n\t\t\t\t\t? { pointerEvents: 'none' }\r\n\t\t\t\t\t: { pointerEvents: 'auto' }\r\n\t\t\t}\r\n\t\t\tclassName={s.wrapper}\r\n\t\t\tcomponent={Paper}\r\n\t\t>\r\n\t\t\t{isLoadingStatus === 'loading' ? <CircularIndeterminate /> : ''}\r\n\t\t\t<Table sx={{ minWidth: 650 }} size='small' aria-label='a dense table'>\r\n\t\t\t\t<TableHead className={s.tableHead}>\r\n\t\t\t\t\t<StyledTableRow onClick={clickHandler}>\r\n\t\t\t\t\t\t<TableCell align='left' data-sort-field='name'>\r\n\t\t\t\t\t\t\tName{' '}\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\tstyle={getArrowStyle('name')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t<TableCell align='right' data-sort-field='cardsCount'>\r\n\t\t\t\t\t\t\tCards\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\tstyle={getArrowStyle('cardsCount')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell align='right' data-sort-field='updated'>\r\n\t\t\t\t\t\t\tLast Updated{' '}\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\tstyle={getArrowStyle('updated')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell align='right' data-sort-field='created'>\r\n\t\t\t\t\t\t\tCreated by\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName={s.img}\r\n\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\tstyle={getArrowStyle('created')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell align='right'>Actions</TableCell>\r\n\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t</TableHead>\r\n\t\t\t\t<TableBody className={s.tableBody}>{rows}</TableBody>\r\n\t\t\t</Table>\r\n\t\t</TableContainer>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport s from './CardInfo.module.scss';\r\n\r\n// import arrow from \"../../../images/main/arrow.svg\";\r\n\r\nexport type confirmPayloadType = { answer: string; question: string };\r\n\r\ntype CardInfoPropsType = {\r\n\tquestion?: string;\r\n\tanswer?: string;\r\n\tconfirm?: (payload: confirmPayloadType) => void;\r\n\tcancel: () => void;\r\n};\r\n\r\nexport const CardInfo: React.FC<CardInfoPropsType> = ({\r\n\tanswer,\r\n\tquestion,\r\n\tcancel,\r\n\tconfirm,\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tconst body = document.querySelector('body');\r\n\t\tif (body) body.style.overflow = 'hidden';\r\n\t\treturn () => {\r\n\t\t\tif (body) body.style.overflow = 'auto';\r\n\t\t};\r\n\t}, []);\r\n\tconst [questionFieldValue, setQuestionFieldValue] = useState(question || '');\r\n\tconst [answerFieldValue, setAnswerFieldValue] = useState(answer || '');\r\n\tconst onSaveClickHandler = () => {\r\n\t\tconfirm &&\r\n\t\t\tconfirm({ answer: answerFieldValue, question: questionFieldValue });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.modal} onClick={cancel}>\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t<div className={s.wrap} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t\t<h3 className={s.subtitle}>Card Info</h3>\r\n\r\n\t\t\t\t\t<div className={s.content}>\r\n\t\t\t\t\t\t<p className={s.text}>Question</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\tplaceholder='How This works in JavaScript?'\r\n\t\t\t\t\t\t\tvalue={questionFieldValue}\r\n\t\t\t\t\t\t\tonChange={(e) => setQuestionFieldValue(e.currentTarget.value)}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div className={s.dada}>\r\n\t\t\t\t\t\t\t<label htmlFor='myfile2' className={s.chous}>\r\n\t\t\t\t\t\t\t\t+ Attach file\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input type='file' className={s.my} id='myfile2' name='myfile2' />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<p className={s.text}>Answer</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\tplaceholder='This is how This works in JavaScript?'\r\n\t\t\t\t\t\t\tvalue={answerFieldValue}\r\n\t\t\t\t\t\t\tonChange={(e) => setAnswerFieldValue(e.currentTarget.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className={s.dada}>\r\n\t\t\t\t\t\t\t<label htmlFor='myfile2' className={s.chous}>\r\n\t\t\t\t\t\t\t\t+ Attach file\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input type='file' className={s.my} id='myfile2' name='myfile2' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t\t<button className={s.btnCancel} onClick={cancel}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button className={s.btnSave} onClick={onSaveClickHandler}>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport s from './DeletePack.module.scss';\r\n\r\ntype DeleteCardType = {\r\n\tconfirm: () => void;\r\n\tcancel: () => void;\r\n\tcardName?: string;\r\n};\r\n\r\nexport function DeleteCard({ confirm, cancel, cardName }: DeleteCardType) {\r\n\tuseEffect(() => {\r\n\t\tconst body = document.querySelector('body');\r\n\t\tif (body) body.style.overflow = 'hidden';\r\n\t\treturn () => {\r\n\t\t\tif (body) body.style.overflow = 'auto';\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={s.modal} onClick={cancel}>\r\n\t\t\t<div className={s.wrapper} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t<div className={s.wrap}>\r\n\t\t\t\t\t<div className={s.header}>\r\n\t\t\t\t\t\t<h2 className={s.title}>Delete Card</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className={s.text}>\r\n\t\t\t\t\t\tDo you really want to remove{' '}\r\n\t\t\t\t\t\t<strong>{cardName || 'this card'}?</strong>\r\n\t\t\t\t\t\tThis action can't be canceled\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t<button className={s.btnCancel} onClick={cancel}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={s.btnDel} onClick={confirm}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { MouseEventHandler, useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport { styled } from '@mui/material/styles';\r\n\r\nimport s from './TableListCard.module.scss';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport {\r\n\tisLoading,\r\n\tselectAutorisedUserId,\r\n\tselectCards,\r\n\tselectCardsPageNumber,\r\n\tselectCardsPageSize,\r\n\tselectCurrentPackId,\r\n\tselectSortCards,\r\n} from '../../../assets/selectors/authSelectors';\r\nimport { CustomizedRating } from '../rating/Rating';\r\nimport { cutDate } from '../table/Table';\r\nimport { ActionButton } from '../../common/button/ActionButtonNew';\r\nimport {\r\n\tcardsType,\r\n\tDeleteCardTC,\r\n\tgetCards,\r\n\tsetCardsSort,\r\n\tUpdateCardTC,\r\n} from '../../../redux/cards-reducer';\r\nimport {\r\n\tCardInfo,\r\n\tconfirmPayloadType,\r\n} from '../../main/packs-list/CardInfo/CardInfoNew';\r\nimport arrow from '../../../assets/images/main/sortArrow.svg';\r\nimport CircularIndeterminate from '../progress-bar/CircularIndeterminate';\r\nimport { DeleteCard } from '../../common/modal-windows/delete-pack/DeleteCardNew';\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n\t'&:nth-of-type(even)': {\r\n\t\tbackgroundColor: theme.palette.action.hover,\r\n\t},\r\n\t// hide last border\r\n\t'&:last-child td, &:last-child th': {\r\n\t\tborder: 0,\r\n\t},\r\n\t'& td': {\r\n\t\tpadding: 16,\r\n\t},\r\n}));\r\n\r\nexport function DenseTableList() {\r\n\tconst cards = useAppSelector(selectCards);\r\n\tconst autorisedUserId = useAppSelector(selectAutorisedUserId);\r\n\tconst cardsPack_id = useAppSelector(selectCurrentPackId);\r\n\tconst page = useAppSelector(selectCardsPageNumber);\r\n\tconst pageCount = useAppSelector(selectCardsPageSize);\r\n\tconst dispatch = useDispatch();\r\n\tconst [editMode, setEditMode] = useState(false);\r\n\tconst [deleteMode, setDeleteMode] = useState(false);\r\n\r\n\tconst [deletableCard, setDeletableCard] = useState<cardsType | null>(null);\r\n\r\n\tconst [editableCard, setEditableCard] = useState<cardsType | null>(null);\r\n\tconst isLoadingStatus = useAppSelector(isLoading);\r\n\r\n\tconst sortCards = useAppSelector(selectSortCards);\r\n\tconst sortDirection = +sortCards[0];\r\n\tconst sortField = sortCards.slice(1);\r\n\r\n\tconst updateCardHandler = (payload: confirmPayloadType) => {\r\n\t\teditableCard && dispatch(UpdateCardTC({ ...editableCard, ...payload }));\r\n\t\tsetEditMode(false);\r\n\t};\r\n\tconst deleteCardHandler = () => {\r\n\t\tdeletableCard &&\r\n\t\t\tdispatch(DeleteCardTC(deletableCard?._id, deletableCard?.cardsPack_id));\r\n\t\tsetDeleteMode(false);\r\n\t};\r\n\r\n\tconst clickHandler: MouseEventHandler = (e) => {\r\n\t\tconst field = (e.target as unknown as { dataset: { sortField: string } })\r\n\t\t\t.dataset.sortField;\r\n\t\tif (!field) return;\r\n\t\tif (field === sortField) {\r\n\t\t\tdispatch(setCardsSort((sortDirection ? 0 : 1) + sortField));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdispatch(setCardsSort(1 + field));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcardsPack_id &&\r\n\t\t\tdispatch(\r\n\t\t\t\tgetCards({\r\n\t\t\t\t\tcardsPack_id,\r\n\t\t\t\t\tpage,\r\n\t\t\t\t\tpageCount,\r\n\t\t\t\t\tsortCards: sortDirection + sortField,\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t}, [cardsPack_id, page, pageCount, sortField, sortDirection]);\r\n\r\n\tconst getArrowStyle = (fieldName: string) => {\r\n\t\tif (fieldName !== sortField) return { display: 'none' };\r\n\t\tif (sortDirection === 0) return { transform: 'rotate(180deg)' };\r\n\t\treturn {};\r\n\t};\r\n\r\n\tconst rows = cards.map((m) => {\r\n\t\tconst onDeleteClickHandler = () => {\r\n\t\t\tsetDeletableCard(m);\r\n\t\t\tsetDeleteMode(true);\r\n\t\t};\r\n\t\tconst onEditClickHandler = () => {\r\n\t\t\tsetEditableCard(m);\r\n\t\t\tsetEditMode(true);\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<StyledTableRow\r\n\t\t\t\tkey={m._id}\r\n\t\t\t\tsx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n\t\t\t>\r\n\t\t\t\t<TableCell component='th' scope='row'>\r\n\t\t\t\t\t{m.question}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell align='right'>{m.answer}</TableCell>\r\n\t\t\t\t<TableCell align='right'>{cutDate(m.updated)}</TableCell>\r\n\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t<CustomizedRating value={Math.round(m.grade)} />\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t{m.user_id === autorisedUserId && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\ttitle='Delete'\r\n\t\t\t\t\t\t\t\tstyle={{ background: '#f1453d', color: '#fff' }}\r\n\t\t\t\t\t\t\t\tcallBack={onDeleteClickHandler}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ActionButton title='EditCard' callBack={onEditClickHandler} />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t</StyledTableRow>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={s.wrapper}\r\n\t\t\tstyle={\r\n\t\t\t\tisLoadingStatus === 'loading'\r\n\t\t\t\t\t? { pointerEvents: 'none' }\r\n\t\t\t\t\t: { pointerEvents: 'auto' }\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{isLoadingStatus === 'loading' ? <CircularIndeterminate /> : ''}\r\n\r\n\t\t\t{editMode && (\r\n\t\t\t\t<CardInfo\r\n\t\t\t\t\tconfirm={updateCardHandler}\r\n\t\t\t\t\tcancel={() => setEditMode(false)}\r\n\t\t\t\t\tanswer={editableCard?.answer}\r\n\t\t\t\t\tquestion={editableCard?.question}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{deleteMode && (\r\n\t\t\t\t<DeleteCard\r\n\t\t\t\t\tcancel={() => setDeleteMode(false)}\r\n\t\t\t\t\tconfirm={deleteCardHandler}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t<Table sx={{ minWidth: 650 }} size='small' aria-label='a dense table'>\r\n\t\t\t\t\t<TableHead className={s.tableHead}>\r\n\t\t\t\t\t\t<StyledTableRow onClick={clickHandler}>\r\n\t\t\t\t\t\t\t<TableCell data-sort-field='question'>\r\n\t\t\t\t\t\t\t\tQuestion\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName={s.arrow}\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('question')}\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='right' data-sort-field='answer'>\r\n\t\t\t\t\t\t\t\tAnswer\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName={s.arrow}\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('answer')}\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='right' data-sort-field='updated'>\r\n\t\t\t\t\t\t\t\tLast Updated\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName={s.arrow}\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('updated')}\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='right' data-sort-field='grade'>\r\n\t\t\t\t\t\t\t\tGrade\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName={s.arrow}\r\n\t\t\t\t\t\t\t\t\tstyle={getArrowStyle('grade')}\r\n\t\t\t\t\t\t\t\t\tsrc={arrow}\r\n\t\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align='right'>Actions</TableCell>\r\n\t\t\t\t\t\t</StyledTableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody className={s.tableBody}>{rows}</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { SelectChangeEvent } from '@mui/material';\r\nimport { useAppSelector } from '../../../redux/store';\r\nimport {\r\n\tselectCardsPageNumber,\r\n\tselectCardsPageSize,\r\n\tselectCardsTotalCount,\r\n} from '../../../assets/selectors/authSelectors';\r\nimport { PaginationSize } from './Pagination';\r\nimport { setCardsPage, setCardsPageCount } from '../../../redux/cards-reducer';\r\n\r\nexport function PaginationCardsContainer() {\r\n\tconst dispatch = useDispatch();\r\n\tconst page = useAppSelector(selectCardsPageNumber);\r\n\tconst pageSize = useAppSelector(selectCardsPageSize);\r\n\tconst cardsTotalCount = useAppSelector(selectCardsTotalCount);\r\n\tconst totalPagesCount = Math.ceil(cardsTotalCount / pageSize);\r\n\tconst handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n\t\tdispatch(setCardsPage(value));\r\n\t};\r\n\tconst selectChangeHandler = (e: SelectChangeEvent<number>) => {\r\n\t\tdispatch(setCardsPageCount(+e.target.value));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PaginationSize\r\n\t\t\tpage={page}\r\n\t\t\tpageSize={pageSize}\r\n\t\t\ttotalPagesCount={totalPagesCount}\r\n\t\t\tpaginationCallback={handleChange}\r\n\t\t\tselectCallback={selectChangeHandler}\r\n\t\t/>\r\n\t);\r\n}\r\n","import React, { FormEvent, useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport s from './ListCard.module.scss';\r\nimport arrow from '../../../../assets/images/main/arrow.svg';\r\nimport {\r\n\tAddCardsAC,\r\n\tCreateCardTC,\r\n\tgetCards,\r\n\tsetCardsQuestion,\r\n} from '../../../../redux/cards-reducer';\r\nimport { useAppSelector } from '../../../../redux/store';\r\nimport { selectCurrentPack } from '../../../../assets/selectors/authSelectors';\r\nimport { DenseTableList } from '../../../mui/table-list-card/TableListCardNew';\r\nimport { PaginationCardsContainer } from '../../../mui/pagination/PaginationCardsContainer';\r\nimport { CardInfo, confirmPayloadType } from '../CardInfo/CardInfo';\r\n\r\nexport function CardsList() {\r\n\tconst { cardsPack_id } = useParams();\r\n\tconst dispatch = useDispatch();\r\n\tconst currentPack = useAppSelector(selectCurrentPack);\r\n\r\n\tconst [searchFieldValue, setSearchFieldValue] = useState('');\r\n\tconst [addingMode, setAddingMode] = useState(false);\r\n\tconst addCard = async (payload: confirmPayloadType) => {\r\n\t\tif (cardsPack_id) {\r\n\t\t\tawait dispatch(CreateCardTC({ cardsPack_id, ...payload }));\r\n\t\t\tsetAddingMode(false);\r\n\t\t}\r\n\t};\r\n\tconst addSearchHandler = (e: FormEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(setCardsQuestion(searchFieldValue));\r\n\t\tcardsPack_id && dispatch(getCards({ page: 1, cardsPack_id }));\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => () => {\r\n\t\t\tdispatch(AddCardsAC([]));\r\n\t\t\tdispatch(setCardsQuestion(''));\r\n\t\t},\r\n\t\t[],\r\n\t);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{addingMode && (\r\n\t\t\t\t<CardInfo confirm={addCard} cancel={() => setAddingMode(false)} />\r\n\t\t\t)}\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t<div className={s.wrap}>\r\n\t\t\t\t\t<div className={s.head}>\r\n\t\t\t\t\t\t<Link className={s.link} to={`/packs/${currentPack?.user_id}`}>\r\n\t\t\t\t\t\t\t<img className={s.img} src={arrow} alt='' />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<h2 className={s.title}>{currentPack?.name}</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button onClick={() => setAddingMode(true)}>Add new</button>\r\n\t\t\t\t\t<form className={s.wrapForm} onSubmit={addSearchHandler}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName={s.input}\r\n\t\t\t\t\t\t\tvalue={searchFieldValue}\r\n\t\t\t\t\t\t\tonChange={(e) => setSearchFieldValue(e.currentTarget.value)}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder='Search...'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button className={s.button}>Search</button>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<DenseTableList />\r\n\t\t\t\t\t<div className={s.wrapBottom}>\r\n\t\t\t\t\t\t<PaginationCardsContainer />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { MouseEventHandler } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport Radio, { RadioProps } from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\n\r\nconst BpIcon = styled('span')(({ theme }) => ({\r\n\tborderRadius: '50%',\r\n\twidth: 16,\r\n\theight: 16,\r\n\tboxShadow:\r\n\t\ttheme.palette.mode === 'dark'\r\n\t\t\t? '0 0 0 1px rgb(16 22 26 / 40%)'\r\n\t\t\t: 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\r\n\tbackgroundColor: theme.palette.mode === 'dark' ? '#394b59' : '#f5f8fa',\r\n\tbackgroundImage:\r\n\t\ttheme.palette.mode === 'dark'\r\n\t\t\t? 'linear-gradient(180deg,hsla(0,0%,100%,.05),hsla(0,0%,100%,0))'\r\n\t\t\t: 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\r\n\t'.Mui-focusVisible &': {\r\n\t\toutline: '1px auto rgba(19,124,189,.6)',\r\n\t\toutlineOffset: 2,\r\n\t},\r\n\t'input:hover ~ &': {\r\n\t\tbackgroundColor: theme.palette.mode === 'dark' ? '#30404d' : '#ebf1f5',\r\n\t},\r\n}));\r\n\r\nconst BpCheckedIcon = styled(BpIcon)({\r\n\tbackgroundColor: '#21268F',\r\n\tbackgroundImage:\r\n\t\t'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\r\n\t'&:before': {\r\n\t\tdisplay: 'block',\r\n\t\twidth: 16,\r\n\t\theight: 16,\r\n\t\tbackgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\r\n\t\tcontent: '\"\"',\r\n\t},\r\n\t'input:hover ~ &': {\r\n\t\tbackgroundColor: '#106ba3',\r\n\t},\r\n});\r\n\r\n// Inspired by blueprintjs\r\nfunction BpRadio(props: RadioProps) {\r\n\treturn (\r\n\t\t<Radio\r\n\t\t\tsx={{\r\n\t\t\t\t'&:hover': {\r\n\t\t\t\t\tbgcolor: 'transparent',\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tdisableRipple\r\n\t\t\tcolor='default'\r\n\t\t\tcheckedIcon={<BpCheckedIcon />}\r\n\t\t\ticon={<BpIcon />}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\ntype CustomizedRadiosPropsType = {\r\n\tcallback: (grade: number) => void;\r\n\taverageGrade?: number;\r\n};\r\n\r\nexport const CustomizedRadios = ({\r\n\tcallback,\r\n\taverageGrade,\r\n}: CustomizedRadiosPropsType) => {\r\n\tconst clickHandler: MouseEventHandler = (e) => {\r\n\t\tconst grade = +(e.target as HTMLInputElement).value;\r\n\t\tgrade && callback(grade);\r\n\t};\r\n\treturn (\r\n\t\t<FormControl component='fieldset'>\r\n\t\t\t<RadioGroup\r\n\t\t\t\tonClick={clickHandler}\r\n\t\t\t\tdefaultValue={averageGrade && Math.ceil(averageGrade)}\r\n\t\t\t>\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tvalue={1}\r\n\t\t\t\t\tcontrol={<BpRadio />}\r\n\t\t\t\t\tlabel='Did not know'\r\n\t\t\t\t/>\r\n\t\t\t\t<FormControlLabel value={2} control={<BpRadio />} label='Forgot' />\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tvalue={3}\r\n\t\t\t\t\tcontrol={<BpRadio />}\r\n\t\t\t\t\tlabel='A lot of thought'\r\n\t\t\t\t/>\r\n\t\t\t\t<FormControlLabel value={4} control={<BpRadio />} label='Сonfused' />\r\n\t\t\t\t<FormControlLabel\r\n\t\t\t\t\tvalue={5}\r\n\t\t\t\t\tcontrol={<BpRadio />}\r\n\t\t\t\t\tlabel='Knew the answer'\r\n\t\t\t\t/>\r\n\t\t\t</RadioGroup>\r\n\t\t</FormControl>\r\n\t);\r\n};\r\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nimport s from './Learn.module.scss';\r\nimport { CustomizedRadios } from '../../../mui/radio-button/RadioButton';\r\nimport { getCards, putGrade } from '../../../../redux/cards-reducer';\r\nimport { useAppSelector } from '../../../../redux/store';\r\nimport { selectCards } from '../../../../assets/selectors/authSelectors';\r\n\r\nexport function Learn() {\r\n\tconst cards = useAppSelector(selectCards);\r\n\tconst dispatch = useDispatch();\r\n\tconst [isAnswered, setIsAnswered] = useState(false);\r\n\tconst { cardsPack_id } = useParams();\r\n\tconst randomCard = useMemo(() => {\r\n\t\tif (!cards.length) return undefined;\r\n\t\tconst invertedGradeSum = cards.reduce((acc, el) => {\r\n\t\t\treturn acc + 6 - el.grade;\r\n\t\t}, 0);\r\n\t\tconst randomNumber = Math.random() * invertedGradeSum;\r\n\t\tlet sum = 0;\r\n\t\tlet i = 0;\r\n\t\twhile (sum < randomNumber) {\r\n\t\t\tsum += 6 - cards[i].grade;\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t\treturn cards[i - 1];\r\n\t}, [cards]);\r\n\r\n\tconst [grade, setGrade] = useState(1);\r\n\tconst onGradeChange = (newGrade: number) => setGrade(newGrade);\r\n\r\n\tconst showAnswerClickHandler = () => setIsAnswered(true);\r\n\r\n\tconst onNextClickHandler = () => {\r\n\t\tsetIsAnswered(false);\r\n\t\trandomCard && dispatch(putGrade({ card_id: randomCard._id, grade }));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (cardsPack_id) {\r\n\t\t\tdispatch(getCards({ cardsPack_id, pageCount: 1000 }));\r\n\t\t}\r\n\t}, [cardsPack_id]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={s.wrapper}>\r\n\t\t\t\t<div className={s.wrap}>\r\n\t\t\t\t\t<h3 className={s.subtitle}>Learn “Pack Name”</h3>\r\n\t\t\t\t\t<div className={s.content}>\r\n\t\t\t\t\t\t<p className={s.text}>\r\n\t\t\t\t\t\t\t<strong>Question:</strong> “{`${randomCard?.question || ''}`}”\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{isAnswered && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<p className={s.textAnswer}>\r\n\t\t\t\t\t\t\t\t\t<strong>Answer:</strong> “{`${randomCard?.answer || ''}`}”\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className={s.textRadio}>\r\n\t\t\t\t\t\t\t\t\t<strong>Rate yourself:</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<CustomizedRadios\r\n\t\t\t\t\t\t\t\t\tcallback={onGradeChange}\r\n\t\t\t\t\t\t\t\t\taverageGrade={randomCard?.grade}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={s.wrapBtn}>\r\n\t\t\t\t\t\t\t<Link to={`/cards/${cardsPack_id}`}>\r\n\t\t\t\t\t\t\t\t<button className={s.btnCancel}>Cancel</button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t{isAnswered ? (\r\n\t\t\t\t\t\t\t\t<button className={s.btnSave} onClick={onNextClickHandler}>\r\n\t\t\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<button className={s.btnSave} onClick={showAnswerClickHandler}>\r\n\t\t\t\t\t\t\t\t\tShow answer\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport AuthLogin from '../auth/auth-login/AuthLogin';\r\nimport ForgotPassword from '../auth/forgot-password/ForgotPassword';\r\nimport CreatNewPass from '../auth/creat-new-pass/CreatNewPass';\r\nimport { Register } from '../auth/register/Register';\r\nimport Main from '../main/Main';\r\nimport Error404 from '../common/error/Error404';\r\nimport { Test } from '../common/test/Test';\r\nimport Profile from '../main/packs-list/Profile/Profile';\r\nimport PackList from '../main/packs-list/PacksList';\r\nimport { EditProfile } from '../main/packs-list/EditProfile/EditProfile';\r\nimport { CardsList } from '../main/packs-list/ListCard/ListCard';\r\nimport { Learn } from '../main/packs-list/LearnQuestionAnswer/Learn';\r\n\r\nexport const MyRoutes = () => {\r\n\treturn (\r\n\t\t<Routes>\r\n\t\t\t<Route path='/' element={<Main />}>\r\n\t\t\t\t<Route path='/packs' element={<PackList />}>\r\n\t\t\t\t\t<Route path='/packs:currentUserId' element={<PackList />} />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path='/profile' element={<Profile />}>\r\n\t\t\t\t\t<Route path='/profile:currentUserId' element={<Profile />} />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path='/cards' element={<CardsList />}>\r\n\t\t\t\t\t<Route path='/cards:cardsPack_id' element={<CardsList />} />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path='/learn' element={<Learn />}>\r\n\t\t\t\t\t<Route path='/learn:cardsPack_id' element={<Learn />} />\r\n\t\t\t\t</Route>\r\n\t\t\t</Route>\r\n\r\n\t\t\t<Route path='edit-profile' element={<EditProfile />} />\r\n\t\t\t<Route path='change-password' element={<ForgotPassword />} />\r\n\t\t\t<Route path='login' element={<AuthLogin />} />\r\n\t\t\t<Route path='set-new-password/:id' element={<CreatNewPass />} />\r\n\t\t\t<Route path='registration' element={<Register />} />\r\n\t\t\t<Route path='test' element={<Test />} />\r\n\t\t\t<Route path='*' element={<Error404 />} />\r\n\t\t</Routes>\r\n\t);\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport './App.css';\r\nimport { MyRoutes } from './components/routes/MyRoutes';\r\nimport { checkAuth } from './redux/authReducer';\r\n\r\nconst App = () => {\r\n\tconst dispatch = useDispatch();\r\n\tuseEffect(() => {\r\n\t\tdispatch(checkAuth());\r\n\t}, []);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<MyRoutes />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { store } from './redux/store';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<HashRouter>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<App />\r\n\t\t\t</Provider>\r\n\t\t</HashRouter>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"DeletePack_modal__3qYvf\",\"wrapper\":\"DeletePack_wrapper__3jT4J\",\"wrap\":\"DeletePack_wrap__2GqPm\",\"header\":\"DeletePack_header__3SuCB\",\"wrapBtn\":\"DeletePack_wrapBtn__3d4JN\",\"title\":\"DeletePack_title__19ovf\",\"text\":\"DeletePack_text__3mpmI\",\"btnCancel\":\"DeletePack_btnCancel__12SpE\",\"btnDel\":\"DeletePack_btnDel__29lB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"PackList_wrapper__3CEa5\",\"wrapLeft\":\"PackList_wrapLeft__bVH7b\",\"wrapRight\":\"PackList_wrapRight__1rQRi\",\"wrapBtn\":\"PackList_wrapBtn__1i30A\",\"buttonLeft\":\"PackList_buttonLeft__qiMb5\",\"buttonRight\":\"PackList_buttonRight__1K5Y8\",\"activeBtn\":\"PackList_activeBtn__C75DA\",\"subtitle\":\"PackList_subtitle__27NeU\",\"subtitleSlid\":\"PackList_subtitleSlid__iLrBv\",\"title\":\"PackList_title__z3kE2\",\"wrapForm\":\"PackList_wrapForm__1M0GQ\",\"input\":\"PackList_input__3leff\",\"button\":\"PackList_button__1tYz6\",\"table\":\"PackList_table__3eJ59\",\"wrapBottom\":\"PackList_wrapBottom__2DKc_\",\"wrapSelect\":\"PackList_wrapSelect__3MrOx\",\"textBottom\":\"PackList_textBottom__-AV82\",\"select\":\"PackList_select__2S1bK\",\"select__pag\":\"PackList_select__pag__G7b7E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"AddNewPack_modal__23NS8\",\"wrapper\":\"AddNewPack_wrapper__33Z6i\",\"wrap\":\"AddNewPack_wrap__24Yhj\",\"header\":\"AddNewPack_header__3YvdX\",\"wrapBtn\":\"AddNewPack_wrapBtn__1iktJ\",\"title\":\"AddNewPack_title__2cEpx\",\"btnCancel\":\"AddNewPack_btnCancel__2Wl4G\",\"btnSave\":\"AddNewPack_btnSave__1k5Ly\",\"input\":\"AddNewPack_input__uuknX\",\"text\":\"AddNewPack_text__IQGwn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__3qfJO\",\"wrapLeft\":\"Profile_wrapLeft__2XCjd\",\"wrapSlider\":\"Profile_wrapSlider__glWFr\",\"wrapRight\":\"Profile_wrapRight__2hPH4\",\"wrapPerson\":\"Profile_wrapPerson__27jOV\",\"wrapForm\":\"Profile_wrapForm__3lIpF\",\"img\":\"Profile_img__1ca3y\",\"subtitleSlid\":\"Profile_subtitleSlid__bKkxZ\",\"title\":\"Profile_title__8QO0-\",\"subtitle\":\"Profile_subtitle__1_iw5\",\"text\":\"Profile_text__3qwL9\",\"input\":\"Profile_input__3EifN\",\"button\":\"Profile_button__3xSFe\",\"table\":\"Profile_table__m2L3l\",\"wrapBottom\":\"Profile_wrapBottom__2_4gc\",\"wrapSelect\":\"Profile_wrapSelect__1kFa8\",\"textBottom\":\"Profile_textBottom__3E25L\",\"select\":\"Profile_select__3j7e3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Register_body__3q4yW\",\"main\":\"Register_main__3YouJ\",\"box\":\"Register_box__h9F6l\",\"textField\":\"Register_textField__u7n30\",\"title\":\"Register_title__Ei7dj\",\"subtitle\":\"Register_subtitle__2bEeb\",\"email\":\"Register_email__KqXtZ\",\"input\":\"Register_input__2LXxg\",\"password\":\"Register_password__1Wdzc\",\"confirm\":\"Register_confirm__1s0OJ\",\"icon\":\"Register_icon__1rB8A\",\"footer\":\"Register_footer__2gqB5\",\"cancel\":\"Register_cancel__2FyFR\",\"register\":\"Register_register__1DP_S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Table_wrapper__1f8l5\",\"tableHead\":\"Table_tableHead__7KERz\",\"tableBody\":\"Table_tableBody__1QGIk\",\"arrow\":\"Table_arrow__35RZ4\",\"displayNone\":\"Table_displayNone__2LjwV\",\"img\":\"Table_img__IZWYp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"AuthLogin_wrap__3s3UC\",\"form\":\"AuthLogin_form__3Hqj0\",\"login\":\"AuthLogin_login__1rkKL\",\"title\":\"AuthLogin_title__1nKmf\",\"subtitle\":\"AuthLogin_subtitle__3Q6qO\",\"email\":\"AuthLogin_email__d0Jjx\",\"textTop\":\"AuthLogin_textTop__2zsCr\",\"textBottom\":\"AuthLogin_textBottom__2eRw8\",\"linkNewPass\":\"AuthLogin_linkNewPass__3tJDp\",\"checkboxText\":\"AuthLogin_checkboxText__vMyE9\",\"btn\":\"AuthLogin_btn__2nZd_\",\"wrapLink\":\"AuthLogin_wrapLink__3fRDO\",\"linkNewAcc\":\"AuthLogin_linkNewAcc__1ve2A\",\"linkReg\":\"AuthLogin_linkReg__3Z124\",\"checkboxAndFogot\":\"AuthLogin_checkboxAndFogot__1wFcR\",\"checkbox\":\"AuthLogin_checkbox__3xgls\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"FogotPassword_wrap__3Gdfa\",\"form\":\"FogotPassword_form__2Y1qt\",\"login\":\"FogotPassword_login__3xpQ4\",\"title\":\"FogotPassword_title__rvm4S\",\"subtitle\":\"FogotPassword_subtitle__2qz9a\",\"textInfo\":\"FogotPassword_textInfo__vF06Y\",\"btn\":\"FogotPassword_btn__2hg4k\",\"wrapLink\":\"FogotPassword_wrapLink__38usX\",\"linkMemor\":\"FogotPassword_linkMemor__Lhmgt\",\"trylog\":\"FogotPassword_trylog__24MML\",\"error\":\"FogotPassword_error__3ha3-\",\"waiting\":\"FogotPassword_waiting__30UeK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BtnLeft\":\"Main_BtnLeft__SLzz6\",\"BtnRight\":\"Main_BtnRight__25GPd\",\"wrapBtn\":\"Main_wrapBtn__1kHJ2\",\"container\":\"Main_container__2ihVB\",\"iconPacks\":\"Main_iconPacks__1VRpY\",\"iconProfile\":\"Main_iconProfile__222my\",\"content\":\"Main_content__YxZQ3\",\"header\":\"Main_header__3O7BN\",\"logo\":\"Main_logo__2UM9I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Learn_wrapper__1qBBn\",\"text\":\"Learn_text___PO5y\",\"subtitle\":\"Learn_subtitle__2YDci\",\"content\":\"Learn_content__3LukR\",\"btnCancel\":\"Learn_btnCancel__25uZR\",\"btnSave\":\"Learn_btnSave__UuzTz\",\"wrap\":\"Learn_wrap__3BdaF\",\"wrapBtn\":\"Learn_wrapBtn__1XcGY\",\"textRadio\":\"Learn_textRadio__kAZ2C\",\"textAnswer\":\"Learn_textAnswer__3QLLb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CreatNewPass_wrap__10M8y\",\"form\":\"CreatNewPass_form__2SZwK\",\"login\":\"CreatNewPass_login__LnEcM\",\"title\":\"CreatNewPass_title__3agfH\",\"subtitle\":\"CreatNewPass_subtitle__hLusq\",\"textInfo\":\"CreatNewPass_textInfo__2Eou4\",\"btn\":\"CreatNewPass_btn__1oTl-\",\"error\":\"CreatNewPass_error__3JuNa\",\"waiting\":\"CreatNewPass_waiting__1AB5V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ListCard_wrapper__1LznB\",\"head\":\"ListCard_head__c8Paz\",\"wrap\":\"ListCard_wrap__2EZgo\",\"title\":\"ListCard_title__AuTZo\",\"input\":\"ListCard_input__3cCYE\",\"img\":\"ListCard_img__1dorA\",\"wrapForm\":\"ListCard_wrapForm__3OdKa\",\"wrapBottom\":\"ListCard_wrapBottom__FbfJM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"CheckEmail_wrap__oD4hH\",\"check\":\"CheckEmail_check__2e8Qw\",\"title\":\"CheckEmail_title__H8v7f\",\"subtitle\":\"CheckEmail_subtitle__3xaeO\",\"img\":\"CheckEmail_img__267Ss\",\"content\":\"CheckEmail_content__3jnSA\",\"textInfo\":\"CheckEmail_textInfo__VoVE6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableHead\":\"TableListCard_tableHead__2Dl7N\",\"arrow\":\"TableListCard_arrow__3Fo-6\",\"wrapper\":\"TableListCard_wrapper__3sADz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"ActionButton_btn__RF080\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error404\":\"Error404_error404__1vpaO\",\"num404\":\"Error404_num404__38a9x\",\"content404\":\"Error404_content404__1lV9J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"TextFieldEmail_img__J8kAF\"};"],"sourceRoot":""}